(self.webpackChunk=self.webpackChunk||[]).push([[337],{32699:function(e,t,r){var n;e=r.nmd(e),function(){var i,a="Expected a function",o="__lodash_hash_undefined__",s="__lodash_placeholder__",u=16,l=32,c=64,f=128,h=256,d=1/0,p=9007199254740991,v=NaN,g=4294967295,m=[["ary",f],["bind",1],["bindKey",2],["curry",8],["curryRight",u],["flip",512],["partial",l],["partialRight",c],["rearg",h]],y="[object Arguments]",_="[object Array]",b="[object Boolean]",x="[object Date]",S="[object Error]",w="[object Function]",T="[object GeneratorFunction]",U="[object Map]",k="[object Number]",A="[object Object]",E="[object Promise]",F="[object RegExp]",C="[object Set]",M="[object String]",R="[object Symbol]",D="[object WeakMap]",I="[object ArrayBuffer]",P="[object DataView]",B="[object Float32Array]",z="[object Float64Array]",O="[object Int8Array]",L="[object Int16Array]",G="[object Int32Array]",j="[object Uint8Array]",N="[object Uint8ClampedArray]",W="[object Uint16Array]",H="[object Uint32Array]",V=/\b__p \+= '';/g,$=/\b(__p \+=) '' \+/g,X=/(__e\(.*?\)|\b__t\)) \+\n'';/g,q=/&(?:amp|lt|gt|quot|#39);/g,Y=/[&<>"']/g,K=RegExp(q.source),Z=RegExp(Y.source),Q=/<%-([\s\S]+?)%>/g,J=/<%([\s\S]+?)%>/g,ee=/<%=([\s\S]+?)%>/g,te=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,re=/^\w*$/,ne=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ie=/[\\^$.*+?()[\]{}|]/g,ae=RegExp(ie.source),oe=/^\s+/,se=/\s/,ue=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,le=/\{\n\/\* \[wrapped with (.+)\] \*/,ce=/,? & /,fe=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,he=/[()=,{}\[\]\/\s]/,de=/\\(\\)?/g,pe=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,ve=/\w*$/,ge=/^[-+]0x[0-9a-f]+$/i,me=/^0b[01]+$/i,ye=/^\[object .+?Constructor\]$/,_e=/^0o[0-7]+$/i,be=/^(?:0|[1-9]\d*)$/,xe=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Se=/($^)/,we=/['\n\r\u2028\u2029\\]/g,Te="\\ud800-\\udfff",Ue="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",ke="\\u2700-\\u27bf",Ae="a-z\\xdf-\\xf6\\xf8-\\xff",Ee="A-Z\\xc0-\\xd6\\xd8-\\xde",Fe="\\ufe0e\\ufe0f",Ce="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Me="['’]",Re="["+Te+"]",De="["+Ce+"]",Ie="["+Ue+"]",Pe="\\d+",Be="["+ke+"]",ze="["+Ae+"]",Oe="[^"+Te+Ce+Pe+ke+Ae+Ee+"]",Le="\\ud83c[\\udffb-\\udfff]",Ge="[^"+Te+"]",je="(?:\\ud83c[\\udde6-\\uddff]){2}",Ne="[\\ud800-\\udbff][\\udc00-\\udfff]",We="["+Ee+"]",He="\\u200d",Ve="(?:"+ze+"|"+Oe+")",$e="(?:"+We+"|"+Oe+")",Xe="(?:['’](?:d|ll|m|re|s|t|ve))?",qe="(?:['’](?:D|LL|M|RE|S|T|VE))?",Ye="(?:"+Ie+"|"+Le+")"+"?",Ke="["+Fe+"]?",Ze=Ke+Ye+("(?:"+He+"(?:"+[Ge,je,Ne].join("|")+")"+Ke+Ye+")*"),Qe="(?:"+[Be,je,Ne].join("|")+")"+Ze,Je="(?:"+[Ge+Ie+"?",Ie,je,Ne,Re].join("|")+")",et=RegExp(Me,"g"),tt=RegExp(Ie,"g"),rt=RegExp(Le+"(?="+Le+")|"+Je+Ze,"g"),nt=RegExp([We+"?"+ze+"+"+Xe+"(?="+[De,We,"$"].join("|")+")",$e+"+"+qe+"(?="+[De,We+Ve,"$"].join("|")+")",We+"?"+Ve+"+"+Xe,We+"+"+qe,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Pe,Qe].join("|"),"g"),it=RegExp("["+He+Te+Ue+Fe+"]"),at=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,ot=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],st=-1,ut={};ut[B]=ut[z]=ut[O]=ut[L]=ut[G]=ut[j]=ut[N]=ut[W]=ut[H]=!0,ut[y]=ut[_]=ut[I]=ut[b]=ut[P]=ut[x]=ut[S]=ut[w]=ut[U]=ut[k]=ut[A]=ut[F]=ut[C]=ut[M]=ut[D]=!1;var lt={};lt[y]=lt[_]=lt[I]=lt[P]=lt[b]=lt[x]=lt[B]=lt[z]=lt[O]=lt[L]=lt[G]=lt[U]=lt[k]=lt[A]=lt[F]=lt[C]=lt[M]=lt[R]=lt[j]=lt[N]=lt[W]=lt[H]=!0,lt[S]=lt[w]=lt[D]=!1;var ct={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},ft=parseFloat,ht=parseInt,dt="object"==typeof r.g&&r.g&&r.g.Object===Object&&r.g,pt="object"==typeof self&&self&&self.Object===Object&&self,vt=dt||pt||Function("return this")(),gt=t&&!t.nodeType&&t,mt=gt&&e&&!e.nodeType&&e,yt=mt&&mt.exports===gt,_t=yt&&dt.process,bt=function(){try{var e=mt&&mt.require&&mt.require("util").types;return e||_t&&_t.binding&&_t.binding("util")}catch(e){}}(),xt=bt&&bt.isArrayBuffer,St=bt&&bt.isDate,wt=bt&&bt.isMap,Tt=bt&&bt.isRegExp,Ut=bt&&bt.isSet,kt=bt&&bt.isTypedArray;function At(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}function Et(e,t,r,n){for(var i=-1,a=null==e?0:e.length;++i<a;){var o=e[i];t(n,o,r(o),e)}return n}function Ft(e,t){for(var r=-1,n=null==e?0:e.length;++r<n&&!1!==t(e[r],r,e););return e}function Ct(e,t){for(var r=null==e?0:e.length;r--&&!1!==t(e[r],r,e););return e}function Mt(e,t){for(var r=-1,n=null==e?0:e.length;++r<n;)if(!t(e[r],r,e))return!1;return!0}function Rt(e,t){for(var r=-1,n=null==e?0:e.length,i=0,a=[];++r<n;){var o=e[r];t(o,r,e)&&(a[i++]=o)}return a}function Dt(e,t){return!!(null==e?0:e.length)&&Wt(e,t,0)>-1}function It(e,t,r){for(var n=-1,i=null==e?0:e.length;++n<i;)if(r(t,e[n]))return!0;return!1}function Pt(e,t){for(var r=-1,n=null==e?0:e.length,i=Array(n);++r<n;)i[r]=t(e[r],r,e);return i}function Bt(e,t){for(var r=-1,n=t.length,i=e.length;++r<n;)e[i+r]=t[r];return e}function zt(e,t,r,n){var i=-1,a=null==e?0:e.length;for(n&&a&&(r=e[++i]);++i<a;)r=t(r,e[i],i,e);return r}function Ot(e,t,r,n){var i=null==e?0:e.length;for(n&&i&&(r=e[--i]);i--;)r=t(r,e[i],i,e);return r}function Lt(e,t){for(var r=-1,n=null==e?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}var Gt=Xt("length");function jt(e,t,r){var n;return r(e,(function(e,r,i){if(t(e,r,i))return n=r,!1})),n}function Nt(e,t,r,n){for(var i=e.length,a=r+(n?1:-1);n?a--:++a<i;)if(t(e[a],a,e))return a;return-1}function Wt(e,t,r){return t==t?function(e,t,r){var n=r-1,i=e.length;for(;++n<i;)if(e[n]===t)return n;return-1}(e,t,r):Nt(e,Vt,r)}function Ht(e,t,r,n){for(var i=r-1,a=e.length;++i<a;)if(n(e[i],t))return i;return-1}function Vt(e){return e!=e}function $t(e,t){var r=null==e?0:e.length;return r?Kt(e,t)/r:v}function Xt(e){return function(t){return null==t?i:t[e]}}function qt(e){return function(t){return null==e?i:e[t]}}function Yt(e,t,r,n,i){return i(e,(function(e,i,a){r=n?(n=!1,e):t(r,e,i,a)})),r}function Kt(e,t){for(var r,n=-1,a=e.length;++n<a;){var o=t(e[n]);o!==i&&(r=r===i?o:r+o)}return r}function Zt(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}function Qt(e){return e?e.slice(0,gr(e)+1).replace(oe,""):e}function Jt(e){return function(t){return e(t)}}function er(e,t){return Pt(t,(function(t){return e[t]}))}function tr(e,t){return e.has(t)}function rr(e,t){for(var r=-1,n=e.length;++r<n&&Wt(t,e[r],0)>-1;);return r}function nr(e,t){for(var r=e.length;r--&&Wt(t,e[r],0)>-1;);return r}function ir(e,t){for(var r=e.length,n=0;r--;)e[r]===t&&++n;return n}var ar=qt({"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss","Ā":"A","Ă":"A","Ą":"A","ā":"a","ă":"a","ą":"a","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","ć":"c","ĉ":"c","ċ":"c","č":"c","Ď":"D","Đ":"D","ď":"d","đ":"d","Ē":"E","Ĕ":"E","Ė":"E","Ę":"E","Ě":"E","ē":"e","ĕ":"e","ė":"e","ę":"e","ě":"e","Ĝ":"G","Ğ":"G","Ġ":"G","Ģ":"G","ĝ":"g","ğ":"g","ġ":"g","ģ":"g","Ĥ":"H","Ħ":"H","ĥ":"h","ħ":"h","Ĩ":"I","Ī":"I","Ĭ":"I","Į":"I","İ":"I","ĩ":"i","ī":"i","ĭ":"i","į":"i","ı":"i","Ĵ":"J","ĵ":"j","Ķ":"K","ķ":"k","ĸ":"k","Ĺ":"L","Ļ":"L","Ľ":"L","Ŀ":"L","Ł":"L","ĺ":"l","ļ":"l","ľ":"l","ŀ":"l","ł":"l","Ń":"N","Ņ":"N","Ň":"N","Ŋ":"N","ń":"n","ņ":"n","ň":"n","ŋ":"n","Ō":"O","Ŏ":"O","Ő":"O","ō":"o","ŏ":"o","ő":"o","Ŕ":"R","Ŗ":"R","Ř":"R","ŕ":"r","ŗ":"r","ř":"r","Ś":"S","Ŝ":"S","Ş":"S","Š":"S","ś":"s","ŝ":"s","ş":"s","š":"s","Ţ":"T","Ť":"T","Ŧ":"T","ţ":"t","ť":"t","ŧ":"t","Ũ":"U","Ū":"U","Ŭ":"U","Ů":"U","Ű":"U","Ų":"U","ũ":"u","ū":"u","ŭ":"u","ů":"u","ű":"u","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","Ż":"Z","Ž":"Z","ź":"z","ż":"z","ž":"z","Ĳ":"IJ","ĳ":"ij","Œ":"Oe","œ":"oe","ŉ":"'n","ſ":"s"}),or=qt({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function sr(e){return"\\"+ct[e]}function ur(e){return it.test(e)}function lr(e){var t=-1,r=Array(e.size);return e.forEach((function(e,n){r[++t]=[n,e]})),r}function cr(e,t){return function(r){return e(t(r))}}function fr(e,t){for(var r=-1,n=e.length,i=0,a=[];++r<n;){var o=e[r];o!==t&&o!==s||(e[r]=s,a[i++]=r)}return a}function hr(e){var t=-1,r=Array(e.size);return e.forEach((function(e){r[++t]=e})),r}function dr(e){var t=-1,r=Array(e.size);return e.forEach((function(e){r[++t]=[e,e]})),r}function pr(e){return ur(e)?function(e){var t=rt.lastIndex=0;for(;rt.test(e);)++t;return t}(e):Gt(e)}function vr(e){return ur(e)?function(e){return e.match(rt)||[]}(e):function(e){return e.split("")}(e)}function gr(e){for(var t=e.length;t--&&se.test(e.charAt(t)););return t}var mr=qt({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"});var yr=function e(t){var r,n=(t=null==t?vt:yr.defaults(vt.Object(),t,yr.pick(vt,ot))).Array,se=t.Date,Te=t.Error,Ue=t.Function,ke=t.Math,Ae=t.Object,Ee=t.RegExp,Fe=t.String,Ce=t.TypeError,Me=n.prototype,Re=Ue.prototype,De=Ae.prototype,Ie=t["__core-js_shared__"],Pe=Re.toString,Be=De.hasOwnProperty,ze=0,Oe=(r=/[^.]+$/.exec(Ie&&Ie.keys&&Ie.keys.IE_PROTO||""))?"Symbol(src)_1."+r:"",Le=De.toString,Ge=Pe.call(Ae),je=vt._,Ne=Ee("^"+Pe.call(Be).replace(ie,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),We=yt?t.Buffer:i,He=t.Symbol,Ve=t.Uint8Array,$e=We?We.allocUnsafe:i,Xe=cr(Ae.getPrototypeOf,Ae),qe=Ae.create,Ye=De.propertyIsEnumerable,Ke=Me.splice,Ze=He?He.isConcatSpreadable:i,Qe=He?He.iterator:i,Je=He?He.toStringTag:i,rt=function(){try{var e=da(Ae,"defineProperty");return e({},"",{}),e}catch(e){}}(),it=t.clearTimeout!==vt.clearTimeout&&t.clearTimeout,ct=se&&se.now!==vt.Date.now&&se.now,dt=t.setTimeout!==vt.setTimeout&&t.setTimeout,pt=ke.ceil,gt=ke.floor,mt=Ae.getOwnPropertySymbols,_t=We?We.isBuffer:i,bt=t.isFinite,Gt=Me.join,qt=cr(Ae.keys,Ae),_r=ke.max,br=ke.min,xr=se.now,Sr=t.parseInt,wr=ke.random,Tr=Me.reverse,Ur=da(t,"DataView"),kr=da(t,"Map"),Ar=da(t,"Promise"),Er=da(t,"Set"),Fr=da(t,"WeakMap"),Cr=da(Ae,"create"),Mr=Fr&&new Fr,Rr={},Dr=Ga(Ur),Ir=Ga(kr),Pr=Ga(Ar),Br=Ga(Er),zr=Ga(Fr),Or=He?He.prototype:i,Lr=Or?Or.valueOf:i,Gr=Or?Or.toString:i;function jr(e){if(is(e)&&!Xo(e)&&!(e instanceof Vr)){if(e instanceof Hr)return e;if(Be.call(e,"__wrapped__"))return ja(e)}return new Hr(e)}var Nr=function(){function e(){}return function(t){if(!ns(t))return{};if(qe)return qe(t);e.prototype=t;var r=new e;return e.prototype=i,r}}();function Wr(){}function Hr(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=i}function Vr(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=g,this.__views__=[]}function $r(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function Xr(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function qr(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function Yr(e){var t=-1,r=null==e?0:e.length;for(this.__data__=new qr;++t<r;)this.add(e[t])}function Kr(e){var t=this.__data__=new Xr(e);this.size=t.size}function Zr(e,t){var r=Xo(e),n=!r&&$o(e),i=!r&&!n&&Zo(e),a=!r&&!n&&!i&&hs(e),o=r||n||i||a,s=o?Zt(e.length,Fe):[],u=s.length;for(var l in e)!t&&!Be.call(e,l)||o&&("length"==l||i&&("offset"==l||"parent"==l)||a&&("buffer"==l||"byteLength"==l||"byteOffset"==l)||ba(l,u))||s.push(l);return s}function Qr(e){var t=e.length;return t?e[Kn(0,t-1)]:i}function Jr(e,t){return za(Mi(e),ln(t,0,e.length))}function en(e){return za(Mi(e))}function tn(e,t,r){(r!==i&&!Wo(e[t],r)||r===i&&!(t in e))&&sn(e,t,r)}function rn(e,t,r){var n=e[t];Be.call(e,t)&&Wo(n,r)&&(r!==i||t in e)||sn(e,t,r)}function nn(e,t){for(var r=e.length;r--;)if(Wo(e[r][0],t))return r;return-1}function an(e,t,r,n){return pn(e,(function(e,i,a){t(n,e,r(e),a)})),n}function on(e,t){return e&&Ri(t,Is(t),e)}function sn(e,t,r){"__proto__"==t&&rt?rt(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}function un(e,t){for(var r=-1,a=t.length,o=n(a),s=null==e;++r<a;)o[r]=s?i:Fs(e,t[r]);return o}function ln(e,t,r){return e==e&&(r!==i&&(e=e<=r?e:r),t!==i&&(e=e>=t?e:t)),e}function cn(e,t,r,n,a,o){var s,u=1&t,l=2&t,c=4&t;if(r&&(s=a?r(e,n,a,o):r(e)),s!==i)return s;if(!ns(e))return e;var f=Xo(e);if(f){if(s=function(e){var t=e.length,r=new e.constructor(t);t&&"string"==typeof e[0]&&Be.call(e,"index")&&(r.index=e.index,r.input=e.input);return r}(e),!u)return Mi(e,s)}else{var h=ga(e),d=h==w||h==T;if(Zo(e))return Ui(e,u);if(h==A||h==y||d&&!a){if(s=l||d?{}:ya(e),!u)return l?function(e,t){return Ri(e,va(e),t)}(e,function(e,t){return e&&Ri(t,Ps(t),e)}(s,e)):function(e,t){return Ri(e,pa(e),t)}(e,on(s,e))}else{if(!lt[h])return a?e:{};s=function(e,t,r){var n=e.constructor;switch(t){case I:return ki(e);case b:case x:return new n(+e);case P:return function(e,t){var r=t?ki(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.byteLength)}(e,r);case B:case z:case O:case L:case G:case j:case N:case W:case H:return Ai(e,r);case U:return new n;case k:case M:return new n(e);case F:return function(e){var t=new e.constructor(e.source,ve.exec(e));return t.lastIndex=e.lastIndex,t}(e);case C:return new n;case R:return i=e,Lr?Ae(Lr.call(i)):{}}var i}(e,h,u)}}o||(o=new Kr);var p=o.get(e);if(p)return p;o.set(e,s),ls(e)?e.forEach((function(n){s.add(cn(n,t,r,n,e,o))})):as(e)&&e.forEach((function(n,i){s.set(i,cn(n,t,r,i,e,o))}));var v=f?i:(c?l?oa:aa:l?Ps:Is)(e);return Ft(v||e,(function(n,i){v&&(n=e[i=n]),rn(s,i,cn(n,t,r,i,e,o))})),s}function fn(e,t,r){var n=r.length;if(null==e)return!n;for(e=Ae(e);n--;){var a=r[n],o=t[a],s=e[a];if(s===i&&!(a in e)||!o(s))return!1}return!0}function hn(e,t,r){if("function"!=typeof e)throw new Ce(a);return Da((function(){e.apply(i,r)}),t)}function dn(e,t,r,n){var i=-1,a=Dt,o=!0,s=e.length,u=[],l=t.length;if(!s)return u;r&&(t=Pt(t,Jt(r))),n?(a=It,o=!1):t.length>=200&&(a=tr,o=!1,t=new Yr(t));e:for(;++i<s;){var c=e[i],f=null==r?c:r(c);if(c=n||0!==c?c:0,o&&f==f){for(var h=l;h--;)if(t[h]===f)continue e;u.push(c)}else a(t,f,n)||u.push(c)}return u}jr.templateSettings={escape:Q,evaluate:J,interpolate:ee,variable:"",imports:{_:jr}},jr.prototype=Wr.prototype,jr.prototype.constructor=jr,Hr.prototype=Nr(Wr.prototype),Hr.prototype.constructor=Hr,Vr.prototype=Nr(Wr.prototype),Vr.prototype.constructor=Vr,$r.prototype.clear=function(){this.__data__=Cr?Cr(null):{},this.size=0},$r.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},$r.prototype.get=function(e){var t=this.__data__;if(Cr){var r=t[e];return r===o?i:r}return Be.call(t,e)?t[e]:i},$r.prototype.has=function(e){var t=this.__data__;return Cr?t[e]!==i:Be.call(t,e)},$r.prototype.set=function(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=Cr&&t===i?o:t,this},Xr.prototype.clear=function(){this.__data__=[],this.size=0},Xr.prototype.delete=function(e){var t=this.__data__,r=nn(t,e);return!(r<0)&&(r==t.length-1?t.pop():Ke.call(t,r,1),--this.size,!0)},Xr.prototype.get=function(e){var t=this.__data__,r=nn(t,e);return r<0?i:t[r][1]},Xr.prototype.has=function(e){return nn(this.__data__,e)>-1},Xr.prototype.set=function(e,t){var r=this.__data__,n=nn(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this},qr.prototype.clear=function(){this.size=0,this.__data__={hash:new $r,map:new(kr||Xr),string:new $r}},qr.prototype.delete=function(e){var t=fa(this,e).delete(e);return this.size-=t?1:0,t},qr.prototype.get=function(e){return fa(this,e).get(e)},qr.prototype.has=function(e){return fa(this,e).has(e)},qr.prototype.set=function(e,t){var r=fa(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this},Yr.prototype.add=Yr.prototype.push=function(e){return this.__data__.set(e,o),this},Yr.prototype.has=function(e){return this.__data__.has(e)},Kr.prototype.clear=function(){this.__data__=new Xr,this.size=0},Kr.prototype.delete=function(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r},Kr.prototype.get=function(e){return this.__data__.get(e)},Kr.prototype.has=function(e){return this.__data__.has(e)},Kr.prototype.set=function(e,t){var r=this.__data__;if(r instanceof Xr){var n=r.__data__;if(!kr||n.length<199)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new qr(n)}return r.set(e,t),this.size=r.size,this};var pn=Pi(Sn),vn=Pi(wn,!0);function gn(e,t){var r=!0;return pn(e,(function(e,n,i){return r=!!t(e,n,i)})),r}function mn(e,t,r){for(var n=-1,a=e.length;++n<a;){var o=e[n],s=t(o);if(null!=s&&(u===i?s==s&&!fs(s):r(s,u)))var u=s,l=o}return l}function yn(e,t){var r=[];return pn(e,(function(e,n,i){t(e,n,i)&&r.push(e)})),r}function _n(e,t,r,n,i){var a=-1,o=e.length;for(r||(r=_a),i||(i=[]);++a<o;){var s=e[a];t>0&&r(s)?t>1?_n(s,t-1,r,n,i):Bt(i,s):n||(i[i.length]=s)}return i}var bn=Bi(),xn=Bi(!0);function Sn(e,t){return e&&bn(e,t,Is)}function wn(e,t){return e&&xn(e,t,Is)}function Tn(e,t){return Rt(t,(function(t){return es(e[t])}))}function Un(e,t){for(var r=0,n=(t=xi(t,e)).length;null!=e&&r<n;)e=e[La(t[r++])];return r&&r==n?e:i}function kn(e,t,r){var n=t(e);return Xo(e)?n:Bt(n,r(e))}function An(e){return null==e?e===i?"[object Undefined]":"[object Null]":Je&&Je in Ae(e)?function(e){var t=Be.call(e,Je),r=e[Je];try{e[Je]=i;var n=!0}catch(e){}var a=Le.call(e);n&&(t?e[Je]=r:delete e[Je]);return a}(e):function(e){return Le.call(e)}(e)}function En(e,t){return e>t}function Fn(e,t){return null!=e&&Be.call(e,t)}function Cn(e,t){return null!=e&&t in Ae(e)}function Mn(e,t,r){for(var a=r?It:Dt,o=e[0].length,s=e.length,u=s,l=n(s),c=1/0,f=[];u--;){var h=e[u];u&&t&&(h=Pt(h,Jt(t))),c=br(h.length,c),l[u]=!r&&(t||o>=120&&h.length>=120)?new Yr(u&&h):i}h=e[0];var d=-1,p=l[0];e:for(;++d<o&&f.length<c;){var v=h[d],g=t?t(v):v;if(v=r||0!==v?v:0,!(p?tr(p,g):a(f,g,r))){for(u=s;--u;){var m=l[u];if(!(m?tr(m,g):a(e[u],g,r)))continue e}p&&p.push(g),f.push(v)}}return f}function Rn(e,t,r){var n=null==(e=Fa(e,t=xi(t,e)))?e:e[La(Qa(t))];return null==n?i:At(n,e,r)}function Dn(e){return is(e)&&An(e)==y}function In(e,t,r,n,a){return e===t||(null==e||null==t||!is(e)&&!is(t)?e!=e&&t!=t:function(e,t,r,n,a,o){var s=Xo(e),u=Xo(t),l=s?_:ga(e),c=u?_:ga(t),f=(l=l==y?A:l)==A,h=(c=c==y?A:c)==A,d=l==c;if(d&&Zo(e)){if(!Zo(t))return!1;s=!0,f=!1}if(d&&!f)return o||(o=new Kr),s||hs(e)?na(e,t,r,n,a,o):function(e,t,r,n,i,a,o){switch(r){case P:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case I:return!(e.byteLength!=t.byteLength||!a(new Ve(e),new Ve(t)));case b:case x:case k:return Wo(+e,+t);case S:return e.name==t.name&&e.message==t.message;case F:case M:return e==t+"";case U:var s=lr;case C:var u=1&n;if(s||(s=hr),e.size!=t.size&&!u)return!1;var l=o.get(e);if(l)return l==t;n|=2,o.set(e,t);var c=na(s(e),s(t),n,i,a,o);return o.delete(e),c;case R:if(Lr)return Lr.call(e)==Lr.call(t)}return!1}(e,t,l,r,n,a,o);if(!(1&r)){var p=f&&Be.call(e,"__wrapped__"),v=h&&Be.call(t,"__wrapped__");if(p||v){var g=p?e.value():e,m=v?t.value():t;return o||(o=new Kr),a(g,m,r,n,o)}}if(!d)return!1;return o||(o=new Kr),function(e,t,r,n,a,o){var s=1&r,u=aa(e),l=u.length,c=aa(t),f=c.length;if(l!=f&&!s)return!1;var h=l;for(;h--;){var d=u[h];if(!(s?d in t:Be.call(t,d)))return!1}var p=o.get(e),v=o.get(t);if(p&&v)return p==t&&v==e;var g=!0;o.set(e,t),o.set(t,e);var m=s;for(;++h<l;){var y=e[d=u[h]],_=t[d];if(n)var b=s?n(_,y,d,t,e,o):n(y,_,d,e,t,o);if(!(b===i?y===_||a(y,_,r,n,o):b)){g=!1;break}m||(m="constructor"==d)}if(g&&!m){var x=e.constructor,S=t.constructor;x==S||!("constructor"in e)||!("constructor"in t)||"function"==typeof x&&x instanceof x&&"function"==typeof S&&S instanceof S||(g=!1)}return o.delete(e),o.delete(t),g}(e,t,r,n,a,o)}(e,t,r,n,In,a))}function Pn(e,t,r,n){var a=r.length,o=a,s=!n;if(null==e)return!o;for(e=Ae(e);a--;){var u=r[a];if(s&&u[2]?u[1]!==e[u[0]]:!(u[0]in e))return!1}for(;++a<o;){var l=(u=r[a])[0],c=e[l],f=u[1];if(s&&u[2]){if(c===i&&!(l in e))return!1}else{var h=new Kr;if(n)var d=n(c,f,l,e,t,h);if(!(d===i?In(f,c,3,n,h):d))return!1}}return!0}function Bn(e){return!(!ns(e)||(t=e,Oe&&Oe in t))&&(es(e)?Ne:ye).test(Ga(e));var t}function zn(e){return"function"==typeof e?e:null==e?ou:"object"==typeof e?Xo(e)?Wn(e[0],e[1]):Nn(e):vu(e)}function On(e){if(!Ua(e))return qt(e);var t=[];for(var r in Ae(e))Be.call(e,r)&&"constructor"!=r&&t.push(r);return t}function Ln(e){if(!ns(e))return function(e){var t=[];if(null!=e)for(var r in Ae(e))t.push(r);return t}(e);var t=Ua(e),r=[];for(var n in e)("constructor"!=n||!t&&Be.call(e,n))&&r.push(n);return r}function Gn(e,t){return e<t}function jn(e,t){var r=-1,i=Yo(e)?n(e.length):[];return pn(e,(function(e,n,a){i[++r]=t(e,n,a)})),i}function Nn(e){var t=ha(e);return 1==t.length&&t[0][2]?Aa(t[0][0],t[0][1]):function(r){return r===e||Pn(r,e,t)}}function Wn(e,t){return Sa(e)&&ka(t)?Aa(La(e),t):function(r){var n=Fs(r,e);return n===i&&n===t?Cs(r,e):In(t,n,3)}}function Hn(e,t,r,n,a){e!==t&&bn(t,(function(o,s){if(a||(a=new Kr),ns(o))!function(e,t,r,n,a,o,s){var u=Ma(e,r),l=Ma(t,r),c=s.get(l);if(c)return void tn(e,r,c);var f=o?o(u,l,r+"",e,t,s):i,h=f===i;if(h){var d=Xo(l),p=!d&&Zo(l),v=!d&&!p&&hs(l);f=l,d||p||v?Xo(u)?f=u:Ko(u)?f=Mi(u):p?(h=!1,f=Ui(l,!0)):v?(h=!1,f=Ai(l,!0)):f=[]:ss(l)||$o(l)?(f=u,$o(u)?f=bs(u):ns(u)&&!es(u)||(f=ya(l))):h=!1}h&&(s.set(l,f),a(f,l,n,o,s),s.delete(l));tn(e,r,f)}(e,t,s,r,Hn,n,a);else{var u=n?n(Ma(e,s),o,s+"",e,t,a):i;u===i&&(u=o),tn(e,s,u)}}),Ps)}function Vn(e,t){var r=e.length;if(r)return ba(t+=t<0?r:0,r)?e[t]:i}function $n(e,t,r){t=t.length?Pt(t,(function(e){return Xo(e)?function(t){return Un(t,1===e.length?e[0]:e)}:e})):[ou];var n=-1;t=Pt(t,Jt(ca()));var i=jn(e,(function(e,r,i){var a=Pt(t,(function(t){return t(e)}));return{criteria:a,index:++n,value:e}}));return function(e,t){var r=e.length;for(e.sort(t);r--;)e[r]=e[r].value;return e}(i,(function(e,t){return function(e,t,r){var n=-1,i=e.criteria,a=t.criteria,o=i.length,s=r.length;for(;++n<o;){var u=Ei(i[n],a[n]);if(u)return n>=s?u:u*("desc"==r[n]?-1:1)}return e.index-t.index}(e,t,r)}))}function Xn(e,t,r){for(var n=-1,i=t.length,a={};++n<i;){var o=t[n],s=Un(e,o);r(s,o)&&ti(a,xi(o,e),s)}return a}function qn(e,t,r,n){var i=n?Ht:Wt,a=-1,o=t.length,s=e;for(e===t&&(t=Mi(t)),r&&(s=Pt(e,Jt(r)));++a<o;)for(var u=0,l=t[a],c=r?r(l):l;(u=i(s,c,u,n))>-1;)s!==e&&Ke.call(s,u,1),Ke.call(e,u,1);return e}function Yn(e,t){for(var r=e?t.length:0,n=r-1;r--;){var i=t[r];if(r==n||i!==a){var a=i;ba(i)?Ke.call(e,i,1):di(e,i)}}return e}function Kn(e,t){return e+gt(wr()*(t-e+1))}function Zn(e,t){var r="";if(!e||t<1||t>p)return r;do{t%2&&(r+=e),(t=gt(t/2))&&(e+=e)}while(t);return r}function Qn(e,t){return Ia(Ea(e,t,ou),e+"")}function Jn(e){return Qr(Ws(e))}function ei(e,t){var r=Ws(e);return za(r,ln(t,0,r.length))}function ti(e,t,r,n){if(!ns(e))return e;for(var a=-1,o=(t=xi(t,e)).length,s=o-1,u=e;null!=u&&++a<o;){var l=La(t[a]),c=r;if("__proto__"===l||"constructor"===l||"prototype"===l)return e;if(a!=s){var f=u[l];(c=n?n(f,l,u):i)===i&&(c=ns(f)?f:ba(t[a+1])?[]:{})}rn(u,l,c),u=u[l]}return e}var ri=Mr?function(e,t){return Mr.set(e,t),e}:ou,ni=rt?function(e,t){return rt(e,"toString",{configurable:!0,enumerable:!1,value:nu(t),writable:!0})}:ou;function ii(e){return za(Ws(e))}function ai(e,t,r){var i=-1,a=e.length;t<0&&(t=-t>a?0:a+t),(r=r>a?a:r)<0&&(r+=a),a=t>r?0:r-t>>>0,t>>>=0;for(var o=n(a);++i<a;)o[i]=e[i+t];return o}function oi(e,t){var r;return pn(e,(function(e,n,i){return!(r=t(e,n,i))})),!!r}function si(e,t,r){var n=0,i=null==e?n:e.length;if("number"==typeof t&&t==t&&i<=2147483647){for(;n<i;){var a=n+i>>>1,o=e[a];null!==o&&!fs(o)&&(r?o<=t:o<t)?n=a+1:i=a}return i}return ui(e,t,ou,r)}function ui(e,t,r,n){var a=0,o=null==e?0:e.length;if(0===o)return 0;for(var s=(t=r(t))!=t,u=null===t,l=fs(t),c=t===i;a<o;){var f=gt((a+o)/2),h=r(e[f]),d=h!==i,p=null===h,v=h==h,g=fs(h);if(s)var m=n||v;else m=c?v&&(n||d):u?v&&d&&(n||!p):l?v&&d&&!p&&(n||!g):!p&&!g&&(n?h<=t:h<t);m?a=f+1:o=f}return br(o,4294967294)}function li(e,t){for(var r=-1,n=e.length,i=0,a=[];++r<n;){var o=e[r],s=t?t(o):o;if(!r||!Wo(s,u)){var u=s;a[i++]=0===o?0:o}}return a}function ci(e){return"number"==typeof e?e:fs(e)?v:+e}function fi(e){if("string"==typeof e)return e;if(Xo(e))return Pt(e,fi)+"";if(fs(e))return Gr?Gr.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function hi(e,t,r){var n=-1,i=Dt,a=e.length,o=!0,s=[],u=s;if(r)o=!1,i=It;else if(a>=200){var l=t?null:Zi(e);if(l)return hr(l);o=!1,i=tr,u=new Yr}else u=t?[]:s;e:for(;++n<a;){var c=e[n],f=t?t(c):c;if(c=r||0!==c?c:0,o&&f==f){for(var h=u.length;h--;)if(u[h]===f)continue e;t&&u.push(f),s.push(c)}else i(u,f,r)||(u!==s&&u.push(f),s.push(c))}return s}function di(e,t){return null==(e=Fa(e,t=xi(t,e)))||delete e[La(Qa(t))]}function pi(e,t,r,n){return ti(e,t,r(Un(e,t)),n)}function vi(e,t,r,n){for(var i=e.length,a=n?i:-1;(n?a--:++a<i)&&t(e[a],a,e););return r?ai(e,n?0:a,n?a+1:i):ai(e,n?a+1:0,n?i:a)}function gi(e,t){var r=e;return r instanceof Vr&&(r=r.value()),zt(t,(function(e,t){return t.func.apply(t.thisArg,Bt([e],t.args))}),r)}function mi(e,t,r){var i=e.length;if(i<2)return i?hi(e[0]):[];for(var a=-1,o=n(i);++a<i;)for(var s=e[a],u=-1;++u<i;)u!=a&&(o[a]=dn(o[a]||s,e[u],t,r));return hi(_n(o,1),t,r)}function yi(e,t,r){for(var n=-1,a=e.length,o=t.length,s={};++n<a;){var u=n<o?t[n]:i;r(s,e[n],u)}return s}function _i(e){return Ko(e)?e:[]}function bi(e){return"function"==typeof e?e:ou}function xi(e,t){return Xo(e)?e:Sa(e,t)?[e]:Oa(xs(e))}var Si=Qn;function wi(e,t,r){var n=e.length;return r=r===i?n:r,!t&&r>=n?e:ai(e,t,r)}var Ti=it||function(e){return vt.clearTimeout(e)};function Ui(e,t){if(t)return e.slice();var r=e.length,n=$e?$e(r):new e.constructor(r);return e.copy(n),n}function ki(e){var t=new e.constructor(e.byteLength);return new Ve(t).set(new Ve(e)),t}function Ai(e,t){var r=t?ki(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)}function Ei(e,t){if(e!==t){var r=e!==i,n=null===e,a=e==e,o=fs(e),s=t!==i,u=null===t,l=t==t,c=fs(t);if(!u&&!c&&!o&&e>t||o&&s&&l&&!u&&!c||n&&s&&l||!r&&l||!a)return 1;if(!n&&!o&&!c&&e<t||c&&r&&a&&!n&&!o||u&&r&&a||!s&&a||!l)return-1}return 0}function Fi(e,t,r,i){for(var a=-1,o=e.length,s=r.length,u=-1,l=t.length,c=_r(o-s,0),f=n(l+c),h=!i;++u<l;)f[u]=t[u];for(;++a<s;)(h||a<o)&&(f[r[a]]=e[a]);for(;c--;)f[u++]=e[a++];return f}function Ci(e,t,r,i){for(var a=-1,o=e.length,s=-1,u=r.length,l=-1,c=t.length,f=_r(o-u,0),h=n(f+c),d=!i;++a<f;)h[a]=e[a];for(var p=a;++l<c;)h[p+l]=t[l];for(;++s<u;)(d||a<o)&&(h[p+r[s]]=e[a++]);return h}function Mi(e,t){var r=-1,i=e.length;for(t||(t=n(i));++r<i;)t[r]=e[r];return t}function Ri(e,t,r,n){var a=!r;r||(r={});for(var o=-1,s=t.length;++o<s;){var u=t[o],l=n?n(r[u],e[u],u,r,e):i;l===i&&(l=e[u]),a?sn(r,u,l):rn(r,u,l)}return r}function Di(e,t){return function(r,n){var i=Xo(r)?Et:an,a=t?t():{};return i(r,e,ca(n,2),a)}}function Ii(e){return Qn((function(t,r){var n=-1,a=r.length,o=a>1?r[a-1]:i,s=a>2?r[2]:i;for(o=e.length>3&&"function"==typeof o?(a--,o):i,s&&xa(r[0],r[1],s)&&(o=a<3?i:o,a=1),t=Ae(t);++n<a;){var u=r[n];u&&e(t,u,n,o)}return t}))}function Pi(e,t){return function(r,n){if(null==r)return r;if(!Yo(r))return e(r,n);for(var i=r.length,a=t?i:-1,o=Ae(r);(t?a--:++a<i)&&!1!==n(o[a],a,o););return r}}function Bi(e){return function(t,r,n){for(var i=-1,a=Ae(t),o=n(t),s=o.length;s--;){var u=o[e?s:++i];if(!1===r(a[u],u,a))break}return t}}function zi(e){return function(t){var r=ur(t=xs(t))?vr(t):i,n=r?r[0]:t.charAt(0),a=r?wi(r,1).join(""):t.slice(1);return n[e]()+a}}function Oi(e){return function(t){return zt(eu($s(t).replace(et,"")),e,"")}}function Li(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var r=Nr(e.prototype),n=e.apply(r,t);return ns(n)?n:r}}function Gi(e){return function(t,r,n){var a=Ae(t);if(!Yo(t)){var o=ca(r,3);t=Is(t),r=function(e){return o(a[e],e,a)}}var s=e(t,r,n);return s>-1?a[o?t[s]:s]:i}}function ji(e){return ia((function(t){var r=t.length,n=r,o=Hr.prototype.thru;for(e&&t.reverse();n--;){var s=t[n];if("function"!=typeof s)throw new Ce(a);if(o&&!u&&"wrapper"==ua(s))var u=new Hr([],!0)}for(n=u?n:r;++n<r;){var l=ua(s=t[n]),c="wrapper"==l?sa(s):i;u=c&&wa(c[0])&&424==c[1]&&!c[4].length&&1==c[9]?u[ua(c[0])].apply(u,c[3]):1==s.length&&wa(s)?u[l]():u.thru(s)}return function(){var e=arguments,n=e[0];if(u&&1==e.length&&Xo(n))return u.plant(n).value();for(var i=0,a=r?t[i].apply(this,e):n;++i<r;)a=t[i].call(this,a);return a}}))}function Ni(e,t,r,a,o,s,u,l,c,h){var d=t&f,p=1&t,v=2&t,g=24&t,m=512&t,y=v?i:Li(e);return function i(){for(var f=arguments.length,_=n(f),b=f;b--;)_[b]=arguments[b];if(g)var x=la(i),S=ir(_,x);if(a&&(_=Fi(_,a,o,g)),s&&(_=Ci(_,s,u,g)),f-=S,g&&f<h){var w=fr(_,x);return Yi(e,t,Ni,i.placeholder,r,_,w,l,c,h-f)}var T=p?r:this,U=v?T[e]:e;return f=_.length,l?_=Ca(_,l):m&&f>1&&_.reverse(),d&&c<f&&(_.length=c),this&&this!==vt&&this instanceof i&&(U=y||Li(U)),U.apply(T,_)}}function Wi(e,t){return function(r,n){return function(e,t,r,n){return Sn(e,(function(e,i,a){t(n,r(e),i,a)})),n}(r,e,t(n),{})}}function Hi(e,t){return function(r,n){var a;if(r===i&&n===i)return t;if(r!==i&&(a=r),n!==i){if(a===i)return n;"string"==typeof r||"string"==typeof n?(r=fi(r),n=fi(n)):(r=ci(r),n=ci(n)),a=e(r,n)}return a}}function Vi(e){return ia((function(t){return t=Pt(t,Jt(ca())),Qn((function(r){var n=this;return e(t,(function(e){return At(e,n,r)}))}))}))}function $i(e,t){var r=(t=t===i?" ":fi(t)).length;if(r<2)return r?Zn(t,e):t;var n=Zn(t,pt(e/pr(t)));return ur(t)?wi(vr(n),0,e).join(""):n.slice(0,e)}function Xi(e){return function(t,r,a){return a&&"number"!=typeof a&&xa(t,r,a)&&(r=a=i),t=gs(t),r===i?(r=t,t=0):r=gs(r),function(e,t,r,i){for(var a=-1,o=_r(pt((t-e)/(r||1)),0),s=n(o);o--;)s[i?o:++a]=e,e+=r;return s}(t,r,a=a===i?t<r?1:-1:gs(a),e)}}function qi(e){return function(t,r){return"string"==typeof t&&"string"==typeof r||(t=_s(t),r=_s(r)),e(t,r)}}function Yi(e,t,r,n,a,o,s,u,f,h){var d=8&t;t|=d?l:c,4&(t&=~(d?c:l))||(t&=-4);var p=[e,t,a,d?o:i,d?s:i,d?i:o,d?i:s,u,f,h],v=r.apply(i,p);return wa(e)&&Ra(v,p),v.placeholder=n,Pa(v,e,t)}function Ki(e){var t=ke[e];return function(e,r){if(e=_s(e),(r=null==r?0:br(ms(r),292))&&bt(e)){var n=(xs(e)+"e").split("e");return+((n=(xs(t(n[0]+"e"+(+n[1]+r)))+"e").split("e"))[0]+"e"+(+n[1]-r))}return t(e)}}var Zi=Er&&1/hr(new Er([,-0]))[1]==d?function(e){return new Er(e)}:fu;function Qi(e){return function(t){var r=ga(t);return r==U?lr(t):r==C?dr(t):function(e,t){return Pt(t,(function(t){return[t,e[t]]}))}(t,e(t))}}function Ji(e,t,r,o,d,p,v,g){var m=2&t;if(!m&&"function"!=typeof e)throw new Ce(a);var y=o?o.length:0;if(y||(t&=-97,o=d=i),v=v===i?v:_r(ms(v),0),g=g===i?g:ms(g),y-=d?d.length:0,t&c){var _=o,b=d;o=d=i}var x=m?i:sa(e),S=[e,t,r,o,d,_,b,p,v,g];if(x&&function(e,t){var r=e[1],n=t[1],i=r|n,a=i<131,o=n==f&&8==r||n==f&&r==h&&e[7].length<=t[8]||384==n&&t[7].length<=t[8]&&8==r;if(!a&&!o)return e;1&n&&(e[2]=t[2],i|=1&r?0:4);var u=t[3];if(u){var l=e[3];e[3]=l?Fi(l,u,t[4]):u,e[4]=l?fr(e[3],s):t[4]}(u=t[5])&&(l=e[5],e[5]=l?Ci(l,u,t[6]):u,e[6]=l?fr(e[5],s):t[6]);(u=t[7])&&(e[7]=u);n&f&&(e[8]=null==e[8]?t[8]:br(e[8],t[8]));null==e[9]&&(e[9]=t[9]);e[0]=t[0],e[1]=i}(S,x),e=S[0],t=S[1],r=S[2],o=S[3],d=S[4],!(g=S[9]=S[9]===i?m?0:e.length:_r(S[9]-y,0))&&24&t&&(t&=-25),t&&1!=t)w=8==t||t==u?function(e,t,r){var a=Li(e);return function o(){for(var s=arguments.length,u=n(s),l=s,c=la(o);l--;)u[l]=arguments[l];var f=s<3&&u[0]!==c&&u[s-1]!==c?[]:fr(u,c);return(s-=f.length)<r?Yi(e,t,Ni,o.placeholder,i,u,f,i,i,r-s):At(this&&this!==vt&&this instanceof o?a:e,this,u)}}(e,t,g):t!=l&&33!=t||d.length?Ni.apply(i,S):function(e,t,r,i){var a=1&t,o=Li(e);return function t(){for(var s=-1,u=arguments.length,l=-1,c=i.length,f=n(c+u),h=this&&this!==vt&&this instanceof t?o:e;++l<c;)f[l]=i[l];for(;u--;)f[l++]=arguments[++s];return At(h,a?r:this,f)}}(e,t,r,o);else var w=function(e,t,r){var n=1&t,i=Li(e);return function t(){return(this&&this!==vt&&this instanceof t?i:e).apply(n?r:this,arguments)}}(e,t,r);return Pa((x?ri:Ra)(w,S),e,t)}function ea(e,t,r,n){return e===i||Wo(e,De[r])&&!Be.call(n,r)?t:e}function ta(e,t,r,n,a,o){return ns(e)&&ns(t)&&(o.set(t,e),Hn(e,t,i,ta,o),o.delete(t)),e}function ra(e){return ss(e)?i:e}function na(e,t,r,n,a,o){var s=1&r,u=e.length,l=t.length;if(u!=l&&!(s&&l>u))return!1;var c=o.get(e),f=o.get(t);if(c&&f)return c==t&&f==e;var h=-1,d=!0,p=2&r?new Yr:i;for(o.set(e,t),o.set(t,e);++h<u;){var v=e[h],g=t[h];if(n)var m=s?n(g,v,h,t,e,o):n(v,g,h,e,t,o);if(m!==i){if(m)continue;d=!1;break}if(p){if(!Lt(t,(function(e,t){if(!tr(p,t)&&(v===e||a(v,e,r,n,o)))return p.push(t)}))){d=!1;break}}else if(v!==g&&!a(v,g,r,n,o)){d=!1;break}}return o.delete(e),o.delete(t),d}function ia(e){return Ia(Ea(e,i,Xa),e+"")}function aa(e){return kn(e,Is,pa)}function oa(e){return kn(e,Ps,va)}var sa=Mr?function(e){return Mr.get(e)}:fu;function ua(e){for(var t=e.name+"",r=Rr[t],n=Be.call(Rr,t)?r.length:0;n--;){var i=r[n],a=i.func;if(null==a||a==e)return i.name}return t}function la(e){return(Be.call(jr,"placeholder")?jr:e).placeholder}function ca(){var e=jr.iteratee||su;return e=e===su?zn:e,arguments.length?e(arguments[0],arguments[1]):e}function fa(e,t){var r,n,i=e.__data__;return("string"==(n=typeof(r=t))||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==r:null===r)?i["string"==typeof t?"string":"hash"]:i.map}function ha(e){for(var t=Is(e),r=t.length;r--;){var n=t[r],i=e[n];t[r]=[n,i,ka(i)]}return t}function da(e,t){var r=function(e,t){return null==e?i:e[t]}(e,t);return Bn(r)?r:i}var pa=mt?function(e){return null==e?[]:(e=Ae(e),Rt(mt(e),(function(t){return Ye.call(e,t)})))}:yu,va=mt?function(e){for(var t=[];e;)Bt(t,pa(e)),e=Xe(e);return t}:yu,ga=An;function ma(e,t,r){for(var n=-1,i=(t=xi(t,e)).length,a=!1;++n<i;){var o=La(t[n]);if(!(a=null!=e&&r(e,o)))break;e=e[o]}return a||++n!=i?a:!!(i=null==e?0:e.length)&&rs(i)&&ba(o,i)&&(Xo(e)||$o(e))}function ya(e){return"function"!=typeof e.constructor||Ua(e)?{}:Nr(Xe(e))}function _a(e){return Xo(e)||$o(e)||!!(Ze&&e&&e[Ze])}function ba(e,t){var r=typeof e;return!!(t=null==t?p:t)&&("number"==r||"symbol"!=r&&be.test(e))&&e>-1&&e%1==0&&e<t}function xa(e,t,r){if(!ns(r))return!1;var n=typeof t;return!!("number"==n?Yo(r)&&ba(t,r.length):"string"==n&&t in r)&&Wo(r[t],e)}function Sa(e,t){if(Xo(e))return!1;var r=typeof e;return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=e&&!fs(e))||(re.test(e)||!te.test(e)||null!=t&&e in Ae(t))}function wa(e){var t=ua(e),r=jr[t];if("function"!=typeof r||!(t in Vr.prototype))return!1;if(e===r)return!0;var n=sa(r);return!!n&&e===n[0]}(Ur&&ga(new Ur(new ArrayBuffer(1)))!=P||kr&&ga(new kr)!=U||Ar&&ga(Ar.resolve())!=E||Er&&ga(new Er)!=C||Fr&&ga(new Fr)!=D)&&(ga=function(e){var t=An(e),r=t==A?e.constructor:i,n=r?Ga(r):"";if(n)switch(n){case Dr:return P;case Ir:return U;case Pr:return E;case Br:return C;case zr:return D}return t});var Ta=Ie?es:_u;function Ua(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||De)}function ka(e){return e==e&&!ns(e)}function Aa(e,t){return function(r){return null!=r&&(r[e]===t&&(t!==i||e in Ae(r)))}}function Ea(e,t,r){return t=_r(t===i?e.length-1:t,0),function(){for(var i=arguments,a=-1,o=_r(i.length-t,0),s=n(o);++a<o;)s[a]=i[t+a];a=-1;for(var u=n(t+1);++a<t;)u[a]=i[a];return u[t]=r(s),At(e,this,u)}}function Fa(e,t){return t.length<2?e:Un(e,ai(t,0,-1))}function Ca(e,t){for(var r=e.length,n=br(t.length,r),a=Mi(e);n--;){var o=t[n];e[n]=ba(o,r)?a[o]:i}return e}function Ma(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}var Ra=Ba(ri),Da=dt||function(e,t){return vt.setTimeout(e,t)},Ia=Ba(ni);function Pa(e,t,r){var n=t+"";return Ia(e,function(e,t){var r=t.length;if(!r)return e;var n=r-1;return t[n]=(r>1?"& ":"")+t[n],t=t.join(r>2?", ":" "),e.replace(ue,"{\n/* [wrapped with "+t+"] */\n")}(n,function(e,t){return Ft(m,(function(r){var n="_."+r[0];t&r[1]&&!Dt(e,n)&&e.push(n)})),e.sort()}(function(e){var t=e.match(le);return t?t[1].split(ce):[]}(n),r)))}function Ba(e){var t=0,r=0;return function(){var n=xr(),a=16-(n-r);if(r=n,a>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(i,arguments)}}function za(e,t){var r=-1,n=e.length,a=n-1;for(t=t===i?n:t;++r<t;){var o=Kn(r,a),s=e[o];e[o]=e[r],e[r]=s}return e.length=t,e}var Oa=function(e){var t=zo(e,(function(e){return 500===r.size&&r.clear(),e})),r=t.cache;return t}((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(ne,(function(e,r,n,i){t.push(n?i.replace(de,"$1"):r||e)})),t}));function La(e){if("string"==typeof e||fs(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function Ga(e){if(null!=e){try{return Pe.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function ja(e){if(e instanceof Vr)return e.clone();var t=new Hr(e.__wrapped__,e.__chain__);return t.__actions__=Mi(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}var Na=Qn((function(e,t){return Ko(e)?dn(e,_n(t,1,Ko,!0)):[]})),Wa=Qn((function(e,t){var r=Qa(t);return Ko(r)&&(r=i),Ko(e)?dn(e,_n(t,1,Ko,!0),ca(r,2)):[]})),Ha=Qn((function(e,t){var r=Qa(t);return Ko(r)&&(r=i),Ko(e)?dn(e,_n(t,1,Ko,!0),i,r):[]}));function Va(e,t,r){var n=null==e?0:e.length;if(!n)return-1;var i=null==r?0:ms(r);return i<0&&(i=_r(n+i,0)),Nt(e,ca(t,3),i)}function $a(e,t,r){var n=null==e?0:e.length;if(!n)return-1;var a=n-1;return r!==i&&(a=ms(r),a=r<0?_r(n+a,0):br(a,n-1)),Nt(e,ca(t,3),a,!0)}function Xa(e){return(null==e?0:e.length)?_n(e,1):[]}function qa(e){return e&&e.length?e[0]:i}var Ya=Qn((function(e){var t=Pt(e,_i);return t.length&&t[0]===e[0]?Mn(t):[]})),Ka=Qn((function(e){var t=Qa(e),r=Pt(e,_i);return t===Qa(r)?t=i:r.pop(),r.length&&r[0]===e[0]?Mn(r,ca(t,2)):[]})),Za=Qn((function(e){var t=Qa(e),r=Pt(e,_i);return(t="function"==typeof t?t:i)&&r.pop(),r.length&&r[0]===e[0]?Mn(r,i,t):[]}));function Qa(e){var t=null==e?0:e.length;return t?e[t-1]:i}var Ja=Qn(eo);function eo(e,t){return e&&e.length&&t&&t.length?qn(e,t):e}var to=ia((function(e,t){var r=null==e?0:e.length,n=un(e,t);return Yn(e,Pt(t,(function(e){return ba(e,r)?+e:e})).sort(Ei)),n}));function ro(e){return null==e?e:Tr.call(e)}var no=Qn((function(e){return hi(_n(e,1,Ko,!0))})),io=Qn((function(e){var t=Qa(e);return Ko(t)&&(t=i),hi(_n(e,1,Ko,!0),ca(t,2))})),ao=Qn((function(e){var t=Qa(e);return t="function"==typeof t?t:i,hi(_n(e,1,Ko,!0),i,t)}));function oo(e){if(!e||!e.length)return[];var t=0;return e=Rt(e,(function(e){if(Ko(e))return t=_r(e.length,t),!0})),Zt(t,(function(t){return Pt(e,Xt(t))}))}function so(e,t){if(!e||!e.length)return[];var r=oo(e);return null==t?r:Pt(r,(function(e){return At(t,i,e)}))}var uo=Qn((function(e,t){return Ko(e)?dn(e,t):[]})),lo=Qn((function(e){return mi(Rt(e,Ko))})),co=Qn((function(e){var t=Qa(e);return Ko(t)&&(t=i),mi(Rt(e,Ko),ca(t,2))})),fo=Qn((function(e){var t=Qa(e);return t="function"==typeof t?t:i,mi(Rt(e,Ko),i,t)})),ho=Qn(oo);var po=Qn((function(e){var t=e.length,r=t>1?e[t-1]:i;return r="function"==typeof r?(e.pop(),r):i,so(e,r)}));function vo(e){var t=jr(e);return t.__chain__=!0,t}function go(e,t){return t(e)}var mo=ia((function(e){var t=e.length,r=t?e[0]:0,n=this.__wrapped__,a=function(t){return un(t,e)};return!(t>1||this.__actions__.length)&&n instanceof Vr&&ba(r)?((n=n.slice(r,+r+(t?1:0))).__actions__.push({func:go,args:[a],thisArg:i}),new Hr(n,this.__chain__).thru((function(e){return t&&!e.length&&e.push(i),e}))):this.thru(a)}));var yo=Di((function(e,t,r){Be.call(e,r)?++e[r]:sn(e,r,1)}));var _o=Gi(Va),bo=Gi($a);function xo(e,t){return(Xo(e)?Ft:pn)(e,ca(t,3))}function So(e,t){return(Xo(e)?Ct:vn)(e,ca(t,3))}var wo=Di((function(e,t,r){Be.call(e,r)?e[r].push(t):sn(e,r,[t])}));var To=Qn((function(e,t,r){var i=-1,a="function"==typeof t,o=Yo(e)?n(e.length):[];return pn(e,(function(e){o[++i]=a?At(t,e,r):Rn(e,t,r)})),o})),Uo=Di((function(e,t,r){sn(e,r,t)}));function ko(e,t){return(Xo(e)?Pt:jn)(e,ca(t,3))}var Ao=Di((function(e,t,r){e[r?0:1].push(t)}),(function(){return[[],[]]}));var Eo=Qn((function(e,t){if(null==e)return[];var r=t.length;return r>1&&xa(e,t[0],t[1])?t=[]:r>2&&xa(t[0],t[1],t[2])&&(t=[t[0]]),$n(e,_n(t,1),[])})),Fo=ct||function(){return vt.Date.now()};function Co(e,t,r){return t=r?i:t,t=e&&null==t?e.length:t,Ji(e,f,i,i,i,i,t)}function Mo(e,t){var r;if("function"!=typeof t)throw new Ce(a);return e=ms(e),function(){return--e>0&&(r=t.apply(this,arguments)),e<=1&&(t=i),r}}var Ro=Qn((function(e,t,r){var n=1;if(r.length){var i=fr(r,la(Ro));n|=l}return Ji(e,n,t,r,i)})),Do=Qn((function(e,t,r){var n=3;if(r.length){var i=fr(r,la(Do));n|=l}return Ji(t,n,e,r,i)}));function Io(e,t,r){var n,o,s,u,l,c,f=0,h=!1,d=!1,p=!0;if("function"!=typeof e)throw new Ce(a);function v(t){var r=n,a=o;return n=o=i,f=t,u=e.apply(a,r)}function g(e){return f=e,l=Da(y,t),h?v(e):u}function m(e){var r=e-c;return c===i||r>=t||r<0||d&&e-f>=s}function y(){var e=Fo();if(m(e))return _(e);l=Da(y,function(e){var r=t-(e-c);return d?br(r,s-(e-f)):r}(e))}function _(e){return l=i,p&&n?v(e):(n=o=i,u)}function b(){var e=Fo(),r=m(e);if(n=arguments,o=this,c=e,r){if(l===i)return g(c);if(d)return Ti(l),l=Da(y,t),v(c)}return l===i&&(l=Da(y,t)),u}return t=_s(t)||0,ns(r)&&(h=!!r.leading,s=(d="maxWait"in r)?_r(_s(r.maxWait)||0,t):s,p="trailing"in r?!!r.trailing:p),b.cancel=function(){l!==i&&Ti(l),f=0,n=c=o=l=i},b.flush=function(){return l===i?u:_(Fo())},b}var Po=Qn((function(e,t){return hn(e,1,t)})),Bo=Qn((function(e,t,r){return hn(e,_s(t)||0,r)}));function zo(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new Ce(a);var r=function(){var n=arguments,i=t?t.apply(this,n):n[0],a=r.cache;if(a.has(i))return a.get(i);var o=e.apply(this,n);return r.cache=a.set(i,o)||a,o};return r.cache=new(zo.Cache||qr),r}function Oo(e){if("function"!=typeof e)throw new Ce(a);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}zo.Cache=qr;var Lo=Si((function(e,t){var r=(t=1==t.length&&Xo(t[0])?Pt(t[0],Jt(ca())):Pt(_n(t,1),Jt(ca()))).length;return Qn((function(n){for(var i=-1,a=br(n.length,r);++i<a;)n[i]=t[i].call(this,n[i]);return At(e,this,n)}))})),Go=Qn((function(e,t){var r=fr(t,la(Go));return Ji(e,l,i,t,r)})),jo=Qn((function(e,t){var r=fr(t,la(jo));return Ji(e,c,i,t,r)})),No=ia((function(e,t){return Ji(e,h,i,i,i,t)}));function Wo(e,t){return e===t||e!=e&&t!=t}var Ho=qi(En),Vo=qi((function(e,t){return e>=t})),$o=Dn(function(){return arguments}())?Dn:function(e){return is(e)&&Be.call(e,"callee")&&!Ye.call(e,"callee")},Xo=n.isArray,qo=xt?Jt(xt):function(e){return is(e)&&An(e)==I};function Yo(e){return null!=e&&rs(e.length)&&!es(e)}function Ko(e){return is(e)&&Yo(e)}var Zo=_t||_u,Qo=St?Jt(St):function(e){return is(e)&&An(e)==x};function Jo(e){if(!is(e))return!1;var t=An(e);return t==S||"[object DOMException]"==t||"string"==typeof e.message&&"string"==typeof e.name&&!ss(e)}function es(e){if(!ns(e))return!1;var t=An(e);return t==w||t==T||"[object AsyncFunction]"==t||"[object Proxy]"==t}function ts(e){return"number"==typeof e&&e==ms(e)}function rs(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=p}function ns(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function is(e){return null!=e&&"object"==typeof e}var as=wt?Jt(wt):function(e){return is(e)&&ga(e)==U};function os(e){return"number"==typeof e||is(e)&&An(e)==k}function ss(e){if(!is(e)||An(e)!=A)return!1;var t=Xe(e);if(null===t)return!0;var r=Be.call(t,"constructor")&&t.constructor;return"function"==typeof r&&r instanceof r&&Pe.call(r)==Ge}var us=Tt?Jt(Tt):function(e){return is(e)&&An(e)==F};var ls=Ut?Jt(Ut):function(e){return is(e)&&ga(e)==C};function cs(e){return"string"==typeof e||!Xo(e)&&is(e)&&An(e)==M}function fs(e){return"symbol"==typeof e||is(e)&&An(e)==R}var hs=kt?Jt(kt):function(e){return is(e)&&rs(e.length)&&!!ut[An(e)]};var ds=qi(Gn),ps=qi((function(e,t){return e<=t}));function vs(e){if(!e)return[];if(Yo(e))return cs(e)?vr(e):Mi(e);if(Qe&&e[Qe])return function(e){for(var t,r=[];!(t=e.next()).done;)r.push(t.value);return r}(e[Qe]());var t=ga(e);return(t==U?lr:t==C?hr:Ws)(e)}function gs(e){return e?(e=_s(e))===d||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0}function ms(e){var t=gs(e),r=t%1;return t==t?r?t-r:t:0}function ys(e){return e?ln(ms(e),0,g):0}function _s(e){if("number"==typeof e)return e;if(fs(e))return v;if(ns(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=ns(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=Qt(e);var r=me.test(e);return r||_e.test(e)?ht(e.slice(2),r?2:8):ge.test(e)?v:+e}function bs(e){return Ri(e,Ps(e))}function xs(e){return null==e?"":fi(e)}var Ss=Ii((function(e,t){if(Ua(t)||Yo(t))Ri(t,Is(t),e);else for(var r in t)Be.call(t,r)&&rn(e,r,t[r])})),ws=Ii((function(e,t){Ri(t,Ps(t),e)})),Ts=Ii((function(e,t,r,n){Ri(t,Ps(t),e,n)})),Us=Ii((function(e,t,r,n){Ri(t,Is(t),e,n)})),ks=ia(un);var As=Qn((function(e,t){e=Ae(e);var r=-1,n=t.length,a=n>2?t[2]:i;for(a&&xa(t[0],t[1],a)&&(n=1);++r<n;)for(var o=t[r],s=Ps(o),u=-1,l=s.length;++u<l;){var c=s[u],f=e[c];(f===i||Wo(f,De[c])&&!Be.call(e,c))&&(e[c]=o[c])}return e})),Es=Qn((function(e){return e.push(i,ta),At(zs,i,e)}));function Fs(e,t,r){var n=null==e?i:Un(e,t);return n===i?r:n}function Cs(e,t){return null!=e&&ma(e,t,Cn)}var Ms=Wi((function(e,t,r){null!=t&&"function"!=typeof t.toString&&(t=Le.call(t)),e[t]=r}),nu(ou)),Rs=Wi((function(e,t,r){null!=t&&"function"!=typeof t.toString&&(t=Le.call(t)),Be.call(e,t)?e[t].push(r):e[t]=[r]}),ca),Ds=Qn(Rn);function Is(e){return Yo(e)?Zr(e):On(e)}function Ps(e){return Yo(e)?Zr(e,!0):Ln(e)}var Bs=Ii((function(e,t,r){Hn(e,t,r)})),zs=Ii((function(e,t,r,n){Hn(e,t,r,n)})),Os=ia((function(e,t){var r={};if(null==e)return r;var n=!1;t=Pt(t,(function(t){return t=xi(t,e),n||(n=t.length>1),t})),Ri(e,oa(e),r),n&&(r=cn(r,7,ra));for(var i=t.length;i--;)di(r,t[i]);return r}));var Ls=ia((function(e,t){return null==e?{}:function(e,t){return Xn(e,t,(function(t,r){return Cs(e,r)}))}(e,t)}));function Gs(e,t){if(null==e)return{};var r=Pt(oa(e),(function(e){return[e]}));return t=ca(t),Xn(e,r,(function(e,r){return t(e,r[0])}))}var js=Qi(Is),Ns=Qi(Ps);function Ws(e){return null==e?[]:er(e,Is(e))}var Hs=Oi((function(e,t,r){return t=t.toLowerCase(),e+(r?Vs(t):t)}));function Vs(e){return Js(xs(e).toLowerCase())}function $s(e){return(e=xs(e))&&e.replace(xe,ar).replace(tt,"")}var Xs=Oi((function(e,t,r){return e+(r?"-":"")+t.toLowerCase()})),qs=Oi((function(e,t,r){return e+(r?" ":"")+t.toLowerCase()})),Ys=zi("toLowerCase");var Ks=Oi((function(e,t,r){return e+(r?"_":"")+t.toLowerCase()}));var Zs=Oi((function(e,t,r){return e+(r?" ":"")+Js(t)}));var Qs=Oi((function(e,t,r){return e+(r?" ":"")+t.toUpperCase()})),Js=zi("toUpperCase");function eu(e,t,r){return e=xs(e),(t=r?i:t)===i?function(e){return at.test(e)}(e)?function(e){return e.match(nt)||[]}(e):function(e){return e.match(fe)||[]}(e):e.match(t)||[]}var tu=Qn((function(e,t){try{return At(e,i,t)}catch(e){return Jo(e)?e:new Te(e)}})),ru=ia((function(e,t){return Ft(t,(function(t){t=La(t),sn(e,t,Ro(e[t],e))})),e}));function nu(e){return function(){return e}}var iu=ji(),au=ji(!0);function ou(e){return e}function su(e){return zn("function"==typeof e?e:cn(e,1))}var uu=Qn((function(e,t){return function(r){return Rn(r,e,t)}})),lu=Qn((function(e,t){return function(r){return Rn(e,r,t)}}));function cu(e,t,r){var n=Is(t),i=Tn(t,n);null!=r||ns(t)&&(i.length||!n.length)||(r=t,t=e,e=this,i=Tn(t,Is(t)));var a=!(ns(r)&&"chain"in r&&!r.chain),o=es(e);return Ft(i,(function(r){var n=t[r];e[r]=n,o&&(e.prototype[r]=function(){var t=this.__chain__;if(a||t){var r=e(this.__wrapped__),i=r.__actions__=Mi(this.__actions__);return i.push({func:n,args:arguments,thisArg:e}),r.__chain__=t,r}return n.apply(e,Bt([this.value()],arguments))})})),e}function fu(){}var hu=Vi(Pt),du=Vi(Mt),pu=Vi(Lt);function vu(e){return Sa(e)?Xt(La(e)):function(e){return function(t){return Un(t,e)}}(e)}var gu=Xi(),mu=Xi(!0);function yu(){return[]}function _u(){return!1}var bu=Hi((function(e,t){return e+t}),0),xu=Ki("ceil"),Su=Hi((function(e,t){return e/t}),1),wu=Ki("floor");var Tu,Uu=Hi((function(e,t){return e*t}),1),ku=Ki("round"),Au=Hi((function(e,t){return e-t}),0);return jr.after=function(e,t){if("function"!=typeof t)throw new Ce(a);return e=ms(e),function(){if(--e<1)return t.apply(this,arguments)}},jr.ary=Co,jr.assign=Ss,jr.assignIn=ws,jr.assignInWith=Ts,jr.assignWith=Us,jr.at=ks,jr.before=Mo,jr.bind=Ro,jr.bindAll=ru,jr.bindKey=Do,jr.castArray=function(){if(!arguments.length)return[];var e=arguments[0];return Xo(e)?e:[e]},jr.chain=vo,jr.chunk=function(e,t,r){t=(r?xa(e,t,r):t===i)?1:_r(ms(t),0);var a=null==e?0:e.length;if(!a||t<1)return[];for(var o=0,s=0,u=n(pt(a/t));o<a;)u[s++]=ai(e,o,o+=t);return u},jr.compact=function(e){for(var t=-1,r=null==e?0:e.length,n=0,i=[];++t<r;){var a=e[t];a&&(i[n++]=a)}return i},jr.concat=function(){var e=arguments.length;if(!e)return[];for(var t=n(e-1),r=arguments[0],i=e;i--;)t[i-1]=arguments[i];return Bt(Xo(r)?Mi(r):[r],_n(t,1))},jr.cond=function(e){var t=null==e?0:e.length,r=ca();return e=t?Pt(e,(function(e){if("function"!=typeof e[1])throw new Ce(a);return[r(e[0]),e[1]]})):[],Qn((function(r){for(var n=-1;++n<t;){var i=e[n];if(At(i[0],this,r))return At(i[1],this,r)}}))},jr.conforms=function(e){return function(e){var t=Is(e);return function(r){return fn(r,e,t)}}(cn(e,1))},jr.constant=nu,jr.countBy=yo,jr.create=function(e,t){var r=Nr(e);return null==t?r:on(r,t)},jr.curry=function e(t,r,n){var a=Ji(t,8,i,i,i,i,i,r=n?i:r);return a.placeholder=e.placeholder,a},jr.curryRight=function e(t,r,n){var a=Ji(t,u,i,i,i,i,i,r=n?i:r);return a.placeholder=e.placeholder,a},jr.debounce=Io,jr.defaults=As,jr.defaultsDeep=Es,jr.defer=Po,jr.delay=Bo,jr.difference=Na,jr.differenceBy=Wa,jr.differenceWith=Ha,jr.drop=function(e,t,r){var n=null==e?0:e.length;return n?ai(e,(t=r||t===i?1:ms(t))<0?0:t,n):[]},jr.dropRight=function(e,t,r){var n=null==e?0:e.length;return n?ai(e,0,(t=n-(t=r||t===i?1:ms(t)))<0?0:t):[]},jr.dropRightWhile=function(e,t){return e&&e.length?vi(e,ca(t,3),!0,!0):[]},jr.dropWhile=function(e,t){return e&&e.length?vi(e,ca(t,3),!0):[]},jr.fill=function(e,t,r,n){var a=null==e?0:e.length;return a?(r&&"number"!=typeof r&&xa(e,t,r)&&(r=0,n=a),function(e,t,r,n){var a=e.length;for((r=ms(r))<0&&(r=-r>a?0:a+r),(n=n===i||n>a?a:ms(n))<0&&(n+=a),n=r>n?0:ys(n);r<n;)e[r++]=t;return e}(e,t,r,n)):[]},jr.filter=function(e,t){return(Xo(e)?Rt:yn)(e,ca(t,3))},jr.flatMap=function(e,t){return _n(ko(e,t),1)},jr.flatMapDeep=function(e,t){return _n(ko(e,t),d)},jr.flatMapDepth=function(e,t,r){return r=r===i?1:ms(r),_n(ko(e,t),r)},jr.flatten=Xa,jr.flattenDeep=function(e){return(null==e?0:e.length)?_n(e,d):[]},jr.flattenDepth=function(e,t){return(null==e?0:e.length)?_n(e,t=t===i?1:ms(t)):[]},jr.flip=function(e){return Ji(e,512)},jr.flow=iu,jr.flowRight=au,jr.fromPairs=function(e){for(var t=-1,r=null==e?0:e.length,n={};++t<r;){var i=e[t];n[i[0]]=i[1]}return n},jr.functions=function(e){return null==e?[]:Tn(e,Is(e))},jr.functionsIn=function(e){return null==e?[]:Tn(e,Ps(e))},jr.groupBy=wo,jr.initial=function(e){return(null==e?0:e.length)?ai(e,0,-1):[]},jr.intersection=Ya,jr.intersectionBy=Ka,jr.intersectionWith=Za,jr.invert=Ms,jr.invertBy=Rs,jr.invokeMap=To,jr.iteratee=su,jr.keyBy=Uo,jr.keys=Is,jr.keysIn=Ps,jr.map=ko,jr.mapKeys=function(e,t){var r={};return t=ca(t,3),Sn(e,(function(e,n,i){sn(r,t(e,n,i),e)})),r},jr.mapValues=function(e,t){var r={};return t=ca(t,3),Sn(e,(function(e,n,i){sn(r,n,t(e,n,i))})),r},jr.matches=function(e){return Nn(cn(e,1))},jr.matchesProperty=function(e,t){return Wn(e,cn(t,1))},jr.memoize=zo,jr.merge=Bs,jr.mergeWith=zs,jr.method=uu,jr.methodOf=lu,jr.mixin=cu,jr.negate=Oo,jr.nthArg=function(e){return e=ms(e),Qn((function(t){return Vn(t,e)}))},jr.omit=Os,jr.omitBy=function(e,t){return Gs(e,Oo(ca(t)))},jr.once=function(e){return Mo(2,e)},jr.orderBy=function(e,t,r,n){return null==e?[]:(Xo(t)||(t=null==t?[]:[t]),Xo(r=n?i:r)||(r=null==r?[]:[r]),$n(e,t,r))},jr.over=hu,jr.overArgs=Lo,jr.overEvery=du,jr.overSome=pu,jr.partial=Go,jr.partialRight=jo,jr.partition=Ao,jr.pick=Ls,jr.pickBy=Gs,jr.property=vu,jr.propertyOf=function(e){return function(t){return null==e?i:Un(e,t)}},jr.pull=Ja,jr.pullAll=eo,jr.pullAllBy=function(e,t,r){return e&&e.length&&t&&t.length?qn(e,t,ca(r,2)):e},jr.pullAllWith=function(e,t,r){return e&&e.length&&t&&t.length?qn(e,t,i,r):e},jr.pullAt=to,jr.range=gu,jr.rangeRight=mu,jr.rearg=No,jr.reject=function(e,t){return(Xo(e)?Rt:yn)(e,Oo(ca(t,3)))},jr.remove=function(e,t){var r=[];if(!e||!e.length)return r;var n=-1,i=[],a=e.length;for(t=ca(t,3);++n<a;){var o=e[n];t(o,n,e)&&(r.push(o),i.push(n))}return Yn(e,i),r},jr.rest=function(e,t){if("function"!=typeof e)throw new Ce(a);return Qn(e,t=t===i?t:ms(t))},jr.reverse=ro,jr.sampleSize=function(e,t,r){return t=(r?xa(e,t,r):t===i)?1:ms(t),(Xo(e)?Jr:ei)(e,t)},jr.set=function(e,t,r){return null==e?e:ti(e,t,r)},jr.setWith=function(e,t,r,n){return n="function"==typeof n?n:i,null==e?e:ti(e,t,r,n)},jr.shuffle=function(e){return(Xo(e)?en:ii)(e)},jr.slice=function(e,t,r){var n=null==e?0:e.length;return n?(r&&"number"!=typeof r&&xa(e,t,r)?(t=0,r=n):(t=null==t?0:ms(t),r=r===i?n:ms(r)),ai(e,t,r)):[]},jr.sortBy=Eo,jr.sortedUniq=function(e){return e&&e.length?li(e):[]},jr.sortedUniqBy=function(e,t){return e&&e.length?li(e,ca(t,2)):[]},jr.split=function(e,t,r){return r&&"number"!=typeof r&&xa(e,t,r)&&(t=r=i),(r=r===i?g:r>>>0)?(e=xs(e))&&("string"==typeof t||null!=t&&!us(t))&&!(t=fi(t))&&ur(e)?wi(vr(e),0,r):e.split(t,r):[]},jr.spread=function(e,t){if("function"!=typeof e)throw new Ce(a);return t=null==t?0:_r(ms(t),0),Qn((function(r){var n=r[t],i=wi(r,0,t);return n&&Bt(i,n),At(e,this,i)}))},jr.tail=function(e){var t=null==e?0:e.length;return t?ai(e,1,t):[]},jr.take=function(e,t,r){return e&&e.length?ai(e,0,(t=r||t===i?1:ms(t))<0?0:t):[]},jr.takeRight=function(e,t,r){var n=null==e?0:e.length;return n?ai(e,(t=n-(t=r||t===i?1:ms(t)))<0?0:t,n):[]},jr.takeRightWhile=function(e,t){return e&&e.length?vi(e,ca(t,3),!1,!0):[]},jr.takeWhile=function(e,t){return e&&e.length?vi(e,ca(t,3)):[]},jr.tap=function(e,t){return t(e),e},jr.throttle=function(e,t,r){var n=!0,i=!0;if("function"!=typeof e)throw new Ce(a);return ns(r)&&(n="leading"in r?!!r.leading:n,i="trailing"in r?!!r.trailing:i),Io(e,t,{leading:n,maxWait:t,trailing:i})},jr.thru=go,jr.toArray=vs,jr.toPairs=js,jr.toPairsIn=Ns,jr.toPath=function(e){return Xo(e)?Pt(e,La):fs(e)?[e]:Mi(Oa(xs(e)))},jr.toPlainObject=bs,jr.transform=function(e,t,r){var n=Xo(e),i=n||Zo(e)||hs(e);if(t=ca(t,4),null==r){var a=e&&e.constructor;r=i?n?new a:[]:ns(e)&&es(a)?Nr(Xe(e)):{}}return(i?Ft:Sn)(e,(function(e,n,i){return t(r,e,n,i)})),r},jr.unary=function(e){return Co(e,1)},jr.union=no,jr.unionBy=io,jr.unionWith=ao,jr.uniq=function(e){return e&&e.length?hi(e):[]},jr.uniqBy=function(e,t){return e&&e.length?hi(e,ca(t,2)):[]},jr.uniqWith=function(e,t){return t="function"==typeof t?t:i,e&&e.length?hi(e,i,t):[]},jr.unset=function(e,t){return null==e||di(e,t)},jr.unzip=oo,jr.unzipWith=so,jr.update=function(e,t,r){return null==e?e:pi(e,t,bi(r))},jr.updateWith=function(e,t,r,n){return n="function"==typeof n?n:i,null==e?e:pi(e,t,bi(r),n)},jr.values=Ws,jr.valuesIn=function(e){return null==e?[]:er(e,Ps(e))},jr.without=uo,jr.words=eu,jr.wrap=function(e,t){return Go(bi(t),e)},jr.xor=lo,jr.xorBy=co,jr.xorWith=fo,jr.zip=ho,jr.zipObject=function(e,t){return yi(e||[],t||[],rn)},jr.zipObjectDeep=function(e,t){return yi(e||[],t||[],ti)},jr.zipWith=po,jr.entries=js,jr.entriesIn=Ns,jr.extend=ws,jr.extendWith=Ts,cu(jr,jr),jr.add=bu,jr.attempt=tu,jr.camelCase=Hs,jr.capitalize=Vs,jr.ceil=xu,jr.clamp=function(e,t,r){return r===i&&(r=t,t=i),r!==i&&(r=(r=_s(r))==r?r:0),t!==i&&(t=(t=_s(t))==t?t:0),ln(_s(e),t,r)},jr.clone=function(e){return cn(e,4)},jr.cloneDeep=function(e){return cn(e,5)},jr.cloneDeepWith=function(e,t){return cn(e,5,t="function"==typeof t?t:i)},jr.cloneWith=function(e,t){return cn(e,4,t="function"==typeof t?t:i)},jr.conformsTo=function(e,t){return null==t||fn(e,t,Is(t))},jr.deburr=$s,jr.defaultTo=function(e,t){return null==e||e!=e?t:e},jr.divide=Su,jr.endsWith=function(e,t,r){e=xs(e),t=fi(t);var n=e.length,a=r=r===i?n:ln(ms(r),0,n);return(r-=t.length)>=0&&e.slice(r,a)==t},jr.eq=Wo,jr.escape=function(e){return(e=xs(e))&&Z.test(e)?e.replace(Y,or):e},jr.escapeRegExp=function(e){return(e=xs(e))&&ae.test(e)?e.replace(ie,"\\$&"):e},jr.every=function(e,t,r){var n=Xo(e)?Mt:gn;return r&&xa(e,t,r)&&(t=i),n(e,ca(t,3))},jr.find=_o,jr.findIndex=Va,jr.findKey=function(e,t){return jt(e,ca(t,3),Sn)},jr.findLast=bo,jr.findLastIndex=$a,jr.findLastKey=function(e,t){return jt(e,ca(t,3),wn)},jr.floor=wu,jr.forEach=xo,jr.forEachRight=So,jr.forIn=function(e,t){return null==e?e:bn(e,ca(t,3),Ps)},jr.forInRight=function(e,t){return null==e?e:xn(e,ca(t,3),Ps)},jr.forOwn=function(e,t){return e&&Sn(e,ca(t,3))},jr.forOwnRight=function(e,t){return e&&wn(e,ca(t,3))},jr.get=Fs,jr.gt=Ho,jr.gte=Vo,jr.has=function(e,t){return null!=e&&ma(e,t,Fn)},jr.hasIn=Cs,jr.head=qa,jr.identity=ou,jr.includes=function(e,t,r,n){e=Yo(e)?e:Ws(e),r=r&&!n?ms(r):0;var i=e.length;return r<0&&(r=_r(i+r,0)),cs(e)?r<=i&&e.indexOf(t,r)>-1:!!i&&Wt(e,t,r)>-1},jr.indexOf=function(e,t,r){var n=null==e?0:e.length;if(!n)return-1;var i=null==r?0:ms(r);return i<0&&(i=_r(n+i,0)),Wt(e,t,i)},jr.inRange=function(e,t,r){return t=gs(t),r===i?(r=t,t=0):r=gs(r),function(e,t,r){return e>=br(t,r)&&e<_r(t,r)}(e=_s(e),t,r)},jr.invoke=Ds,jr.isArguments=$o,jr.isArray=Xo,jr.isArrayBuffer=qo,jr.isArrayLike=Yo,jr.isArrayLikeObject=Ko,jr.isBoolean=function(e){return!0===e||!1===e||is(e)&&An(e)==b},jr.isBuffer=Zo,jr.isDate=Qo,jr.isElement=function(e){return is(e)&&1===e.nodeType&&!ss(e)},jr.isEmpty=function(e){if(null==e)return!0;if(Yo(e)&&(Xo(e)||"string"==typeof e||"function"==typeof e.splice||Zo(e)||hs(e)||$o(e)))return!e.length;var t=ga(e);if(t==U||t==C)return!e.size;if(Ua(e))return!On(e).length;for(var r in e)if(Be.call(e,r))return!1;return!0},jr.isEqual=function(e,t){return In(e,t)},jr.isEqualWith=function(e,t,r){var n=(r="function"==typeof r?r:i)?r(e,t):i;return n===i?In(e,t,i,r):!!n},jr.isError=Jo,jr.isFinite=function(e){return"number"==typeof e&&bt(e)},jr.isFunction=es,jr.isInteger=ts,jr.isLength=rs,jr.isMap=as,jr.isMatch=function(e,t){return e===t||Pn(e,t,ha(t))},jr.isMatchWith=function(e,t,r){return r="function"==typeof r?r:i,Pn(e,t,ha(t),r)},jr.isNaN=function(e){return os(e)&&e!=+e},jr.isNative=function(e){if(Ta(e))throw new Te("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return Bn(e)},jr.isNil=function(e){return null==e},jr.isNull=function(e){return null===e},jr.isNumber=os,jr.isObject=ns,jr.isObjectLike=is,jr.isPlainObject=ss,jr.isRegExp=us,jr.isSafeInteger=function(e){return ts(e)&&e>=-9007199254740991&&e<=p},jr.isSet=ls,jr.isString=cs,jr.isSymbol=fs,jr.isTypedArray=hs,jr.isUndefined=function(e){return e===i},jr.isWeakMap=function(e){return is(e)&&ga(e)==D},jr.isWeakSet=function(e){return is(e)&&"[object WeakSet]"==An(e)},jr.join=function(e,t){return null==e?"":Gt.call(e,t)},jr.kebabCase=Xs,jr.last=Qa,jr.lastIndexOf=function(e,t,r){var n=null==e?0:e.length;if(!n)return-1;var a=n;return r!==i&&(a=(a=ms(r))<0?_r(n+a,0):br(a,n-1)),t==t?function(e,t,r){for(var n=r+1;n--;)if(e[n]===t)return n;return n}(e,t,a):Nt(e,Vt,a,!0)},jr.lowerCase=qs,jr.lowerFirst=Ys,jr.lt=ds,jr.lte=ps,jr.max=function(e){return e&&e.length?mn(e,ou,En):i},jr.maxBy=function(e,t){return e&&e.length?mn(e,ca(t,2),En):i},jr.mean=function(e){return $t(e,ou)},jr.meanBy=function(e,t){return $t(e,ca(t,2))},jr.min=function(e){return e&&e.length?mn(e,ou,Gn):i},jr.minBy=function(e,t){return e&&e.length?mn(e,ca(t,2),Gn):i},jr.stubArray=yu,jr.stubFalse=_u,jr.stubObject=function(){return{}},jr.stubString=function(){return""},jr.stubTrue=function(){return!0},jr.multiply=Uu,jr.nth=function(e,t){return e&&e.length?Vn(e,ms(t)):i},jr.noConflict=function(){return vt._===this&&(vt._=je),this},jr.noop=fu,jr.now=Fo,jr.pad=function(e,t,r){e=xs(e);var n=(t=ms(t))?pr(e):0;if(!t||n>=t)return e;var i=(t-n)/2;return $i(gt(i),r)+e+$i(pt(i),r)},jr.padEnd=function(e,t,r){e=xs(e);var n=(t=ms(t))?pr(e):0;return t&&n<t?e+$i(t-n,r):e},jr.padStart=function(e,t,r){e=xs(e);var n=(t=ms(t))?pr(e):0;return t&&n<t?$i(t-n,r)+e:e},jr.parseInt=function(e,t,r){return r||null==t?t=0:t&&(t=+t),Sr(xs(e).replace(oe,""),t||0)},jr.random=function(e,t,r){if(r&&"boolean"!=typeof r&&xa(e,t,r)&&(t=r=i),r===i&&("boolean"==typeof t?(r=t,t=i):"boolean"==typeof e&&(r=e,e=i)),e===i&&t===i?(e=0,t=1):(e=gs(e),t===i?(t=e,e=0):t=gs(t)),e>t){var n=e;e=t,t=n}if(r||e%1||t%1){var a=wr();return br(e+a*(t-e+ft("1e-"+((a+"").length-1))),t)}return Kn(e,t)},jr.reduce=function(e,t,r){var n=Xo(e)?zt:Yt,i=arguments.length<3;return n(e,ca(t,4),r,i,pn)},jr.reduceRight=function(e,t,r){var n=Xo(e)?Ot:Yt,i=arguments.length<3;return n(e,ca(t,4),r,i,vn)},jr.repeat=function(e,t,r){return t=(r?xa(e,t,r):t===i)?1:ms(t),Zn(xs(e),t)},jr.replace=function(){var e=arguments,t=xs(e[0]);return e.length<3?t:t.replace(e[1],e[2])},jr.result=function(e,t,r){var n=-1,a=(t=xi(t,e)).length;for(a||(a=1,e=i);++n<a;){var o=null==e?i:e[La(t[n])];o===i&&(n=a,o=r),e=es(o)?o.call(e):o}return e},jr.round=ku,jr.runInContext=e,jr.sample=function(e){return(Xo(e)?Qr:Jn)(e)},jr.size=function(e){if(null==e)return 0;if(Yo(e))return cs(e)?pr(e):e.length;var t=ga(e);return t==U||t==C?e.size:On(e).length},jr.snakeCase=Ks,jr.some=function(e,t,r){var n=Xo(e)?Lt:oi;return r&&xa(e,t,r)&&(t=i),n(e,ca(t,3))},jr.sortedIndex=function(e,t){return si(e,t)},jr.sortedIndexBy=function(e,t,r){return ui(e,t,ca(r,2))},jr.sortedIndexOf=function(e,t){var r=null==e?0:e.length;if(r){var n=si(e,t);if(n<r&&Wo(e[n],t))return n}return-1},jr.sortedLastIndex=function(e,t){return si(e,t,!0)},jr.sortedLastIndexBy=function(e,t,r){return ui(e,t,ca(r,2),!0)},jr.sortedLastIndexOf=function(e,t){if(null==e?0:e.length){var r=si(e,t,!0)-1;if(Wo(e[r],t))return r}return-1},jr.startCase=Zs,jr.startsWith=function(e,t,r){return e=xs(e),r=null==r?0:ln(ms(r),0,e.length),t=fi(t),e.slice(r,r+t.length)==t},jr.subtract=Au,jr.sum=function(e){return e&&e.length?Kt(e,ou):0},jr.sumBy=function(e,t){return e&&e.length?Kt(e,ca(t,2)):0},jr.template=function(e,t,r){var n=jr.templateSettings;r&&xa(e,t,r)&&(t=i),e=xs(e),t=Ts({},t,n,ea);var a,o,s=Ts({},t.imports,n.imports,ea),u=Is(s),l=er(s,u),c=0,f=t.interpolate||Se,h="__p += '",d=Ee((t.escape||Se).source+"|"+f.source+"|"+(f===ee?pe:Se).source+"|"+(t.evaluate||Se).source+"|$","g"),p="//# sourceURL="+(Be.call(t,"sourceURL")?(t.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++st+"]")+"\n";e.replace(d,(function(t,r,n,i,s,u){return n||(n=i),h+=e.slice(c,u).replace(we,sr),r&&(a=!0,h+="' +\n__e("+r+") +\n'"),s&&(o=!0,h+="';\n"+s+";\n__p += '"),n&&(h+="' +\n((__t = ("+n+")) == null ? '' : __t) +\n'"),c=u+t.length,t})),h+="';\n";var v=Be.call(t,"variable")&&t.variable;if(v){if(he.test(v))throw new Te("Invalid `variable` option passed into `_.template`")}else h="with (obj) {\n"+h+"\n}\n";h=(o?h.replace(V,""):h).replace($,"$1").replace(X,"$1;"),h="function("+(v||"obj")+") {\n"+(v?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(a?", __e = _.escape":"")+(o?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+h+"return __p\n}";var g=tu((function(){return Ue(u,p+"return "+h).apply(i,l)}));if(g.source=h,Jo(g))throw g;return g},jr.times=function(e,t){if((e=ms(e))<1||e>p)return[];var r=g,n=br(e,g);t=ca(t),e-=g;for(var i=Zt(n,t);++r<e;)t(r);return i},jr.toFinite=gs,jr.toInteger=ms,jr.toLength=ys,jr.toLower=function(e){return xs(e).toLowerCase()},jr.toNumber=_s,jr.toSafeInteger=function(e){return e?ln(ms(e),-9007199254740991,p):0===e?e:0},jr.toString=xs,jr.toUpper=function(e){return xs(e).toUpperCase()},jr.trim=function(e,t,r){if((e=xs(e))&&(r||t===i))return Qt(e);if(!e||!(t=fi(t)))return e;var n=vr(e),a=vr(t);return wi(n,rr(n,a),nr(n,a)+1).join("")},jr.trimEnd=function(e,t,r){if((e=xs(e))&&(r||t===i))return e.slice(0,gr(e)+1);if(!e||!(t=fi(t)))return e;var n=vr(e);return wi(n,0,nr(n,vr(t))+1).join("")},jr.trimStart=function(e,t,r){if((e=xs(e))&&(r||t===i))return e.replace(oe,"");if(!e||!(t=fi(t)))return e;var n=vr(e);return wi(n,rr(n,vr(t))).join("")},jr.truncate=function(e,t){var r=30,n="...";if(ns(t)){var a="separator"in t?t.separator:a;r="length"in t?ms(t.length):r,n="omission"in t?fi(t.omission):n}var o=(e=xs(e)).length;if(ur(e)){var s=vr(e);o=s.length}if(r>=o)return e;var u=r-pr(n);if(u<1)return n;var l=s?wi(s,0,u).join(""):e.slice(0,u);if(a===i)return l+n;if(s&&(u+=l.length-u),us(a)){if(e.slice(u).search(a)){var c,f=l;for(a.global||(a=Ee(a.source,xs(ve.exec(a))+"g")),a.lastIndex=0;c=a.exec(f);)var h=c.index;l=l.slice(0,h===i?u:h)}}else if(e.indexOf(fi(a),u)!=u){var d=l.lastIndexOf(a);d>-1&&(l=l.slice(0,d))}return l+n},jr.unescape=function(e){return(e=xs(e))&&K.test(e)?e.replace(q,mr):e},jr.uniqueId=function(e){var t=++ze;return xs(e)+t},jr.upperCase=Qs,jr.upperFirst=Js,jr.each=xo,jr.eachRight=So,jr.first=qa,cu(jr,(Tu={},Sn(jr,(function(e,t){Be.call(jr.prototype,t)||(Tu[t]=e)})),Tu),{chain:!1}),jr.VERSION="4.17.21",Ft(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(e){jr[e].placeholder=jr})),Ft(["drop","take"],(function(e,t){Vr.prototype[e]=function(r){r=r===i?1:_r(ms(r),0);var n=this.__filtered__&&!t?new Vr(this):this.clone();return n.__filtered__?n.__takeCount__=br(r,n.__takeCount__):n.__views__.push({size:br(r,g),type:e+(n.__dir__<0?"Right":"")}),n},Vr.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}})),Ft(["filter","map","takeWhile"],(function(e,t){var r=t+1,n=1==r||3==r;Vr.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:ca(e,3),type:r}),t.__filtered__=t.__filtered__||n,t}})),Ft(["head","last"],(function(e,t){var r="take"+(t?"Right":"");Vr.prototype[e]=function(){return this[r](1).value()[0]}})),Ft(["initial","tail"],(function(e,t){var r="drop"+(t?"":"Right");Vr.prototype[e]=function(){return this.__filtered__?new Vr(this):this[r](1)}})),Vr.prototype.compact=function(){return this.filter(ou)},Vr.prototype.find=function(e){return this.filter(e).head()},Vr.prototype.findLast=function(e){return this.reverse().find(e)},Vr.prototype.invokeMap=Qn((function(e,t){return"function"==typeof e?new Vr(this):this.map((function(r){return Rn(r,e,t)}))})),Vr.prototype.reject=function(e){return this.filter(Oo(ca(e)))},Vr.prototype.slice=function(e,t){e=ms(e);var r=this;return r.__filtered__&&(e>0||t<0)?new Vr(r):(e<0?r=r.takeRight(-e):e&&(r=r.drop(e)),t!==i&&(r=(t=ms(t))<0?r.dropRight(-t):r.take(t-e)),r)},Vr.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},Vr.prototype.toArray=function(){return this.take(g)},Sn(Vr.prototype,(function(e,t){var r=/^(?:filter|find|map|reject)|While$/.test(t),n=/^(?:head|last)$/.test(t),a=jr[n?"take"+("last"==t?"Right":""):t],o=n||/^find/.test(t);a&&(jr.prototype[t]=function(){var t=this.__wrapped__,s=n?[1]:arguments,u=t instanceof Vr,l=s[0],c=u||Xo(t),f=function(e){var t=a.apply(jr,Bt([e],s));return n&&h?t[0]:t};c&&r&&"function"==typeof l&&1!=l.length&&(u=c=!1);var h=this.__chain__,d=!!this.__actions__.length,p=o&&!h,v=u&&!d;if(!o&&c){t=v?t:new Vr(this);var g=e.apply(t,s);return g.__actions__.push({func:go,args:[f],thisArg:i}),new Hr(g,h)}return p&&v?e.apply(this,s):(g=this.thru(f),p?n?g.value()[0]:g.value():g)})})),Ft(["pop","push","shift","sort","splice","unshift"],(function(e){var t=Me[e],r=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",n=/^(?:pop|shift)$/.test(e);jr.prototype[e]=function(){var e=arguments;if(n&&!this.__chain__){var i=this.value();return t.apply(Xo(i)?i:[],e)}return this[r]((function(r){return t.apply(Xo(r)?r:[],e)}))}})),Sn(Vr.prototype,(function(e,t){var r=jr[t];if(r){var n=r.name+"";Be.call(Rr,n)||(Rr[n]=[]),Rr[n].push({name:t,func:r})}})),Rr[Ni(i,2).name]=[{name:"wrapper",func:i}],Vr.prototype.clone=function(){var e=new Vr(this.__wrapped__);return e.__actions__=Mi(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=Mi(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=Mi(this.__views__),e},Vr.prototype.reverse=function(){if(this.__filtered__){var e=new Vr(this);e.__dir__=-1,e.__filtered__=!0}else(e=this.clone()).__dir__*=-1;return e},Vr.prototype.value=function(){var e=this.__wrapped__.value(),t=this.__dir__,r=Xo(e),n=t<0,i=r?e.length:0,a=function(e,t,r){var n=-1,i=r.length;for(;++n<i;){var a=r[n],o=a.size;switch(a.type){case"drop":e+=o;break;case"dropRight":t-=o;break;case"take":t=br(t,e+o);break;case"takeRight":e=_r(e,t-o)}}return{start:e,end:t}}(0,i,this.__views__),o=a.start,s=a.end,u=s-o,l=n?s:o-1,c=this.__iteratees__,f=c.length,h=0,d=br(u,this.__takeCount__);if(!r||!n&&i==u&&d==u)return gi(e,this.__actions__);var p=[];e:for(;u--&&h<d;){for(var v=-1,g=e[l+=t];++v<f;){var m=c[v],y=m.iteratee,_=m.type,b=y(g);if(2==_)g=b;else if(!b){if(1==_)continue e;break e}}p[h++]=g}return p},jr.prototype.at=mo,jr.prototype.chain=function(){return vo(this)},jr.prototype.commit=function(){return new Hr(this.value(),this.__chain__)},jr.prototype.next=function(){this.__values__===i&&(this.__values__=vs(this.value()));var e=this.__index__>=this.__values__.length;return{done:e,value:e?i:this.__values__[this.__index__++]}},jr.prototype.plant=function(e){for(var t,r=this;r instanceof Wr;){var n=ja(r);n.__index__=0,n.__values__=i,t?a.__wrapped__=n:t=n;var a=n;r=r.__wrapped__}return a.__wrapped__=e,t},jr.prototype.reverse=function(){var e=this.__wrapped__;if(e instanceof Vr){var t=e;return this.__actions__.length&&(t=new Vr(this)),(t=t.reverse()).__actions__.push({func:go,args:[ro],thisArg:i}),new Hr(t,this.__chain__)}return this.thru(ro)},jr.prototype.toJSON=jr.prototype.valueOf=jr.prototype.value=function(){return gi(this.__wrapped__,this.__actions__)},jr.prototype.first=jr.prototype.head,Qe&&(jr.prototype[Qe]=function(){return this}),jr}();vt._=yr,(n=function(){return yr}.call(t,r,t,e))===i||(e.exports=n)}.call(this)},14224:function(e){var t,r,n=e.exports={};function i(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function o(e){if(t===setTimeout)return setTimeout(e,0);if((t===i||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(r){try{return t.call(null,e,0)}catch(r){return t.call(this,e,0)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:i}catch(e){t=i}try{r="function"==typeof clearTimeout?clearTimeout:a}catch(e){r=a}}();var s,u=[],l=!1,c=-1;function f(){l&&s&&(l=!1,s.length?u=s.concat(u):c=-1,u.length&&h())}function h(){if(!l){var e=o(f);l=!0;for(var t=u.length;t;){for(s=u,u=[];++c<t;)s&&s[c].run();c=-1,t=u.length}s=null,l=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function d(e,t){this.fun=e,this.array=t}function p(){}n.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];u.push(new d(e,t)),1!==u.length||l||o(h)},d.prototype.run=function(){this.fun.apply(null,this.array)},n.title="browser",n.browser=!0,n.env={},n.argv=[],n.version="",n.versions={},n.on=p,n.addListener=p,n.once=p,n.off=p,n.removeListener=p,n.removeAllListeners=p,n.emit=p,n.prependListener=p,n.prependOnceListener=p,n.listeners=function(e){return[]},n.binding=function(e){throw new Error("process.binding is not supported")},n.cwd=function(){return"/"},n.chdir=function(e){throw new Error("process.chdir is not supported")},n.umask=function(){return 0}},74470:function(e,t,r){"use strict";r.d(t,{xv:function(){return we}});var n=r(99892);r(14224);function i(){var e=Object.create(null);function t(n,i){var a=n.id,o=n.name,s=n.dependencies;void 0===s&&(s=[]);var u=n.init;void 0===u&&(u=function(){});var l=n.getTransferables;if(void 0===l&&(l=null),!e[a])try{s=s.map((function(r){return r&&r.isWorkerModule&&(t(r,(function(e){if(e instanceof Error)throw e})),r=e[r.id].value),r})),u=r("<"+o+">.init",u),l&&(l=r("<"+o+">.getTransferables",l));var c=null;"function"==typeof u?c=u.apply(void 0,s):console.error("worker module init function failed to rehydrate"),e[a]={id:a,value:c,getTransferables:l},i(c)}catch(e){e&&e.noLog||console.error(e),i(e)}}function r(e,t){var r=void 0;self.troikaDefine=function(e){return r=e};var n=URL.createObjectURL(new Blob(["/** "+e.replace(/\*/g,"")+" **/\n\ntroikaDefine(\n"+t+"\n)"],{type:"application/javascript"}));try{importScripts(n)}catch(e){console.error(e)}return URL.revokeObjectURL(n),delete self.troikaDefine,r}self.addEventListener("message",(function(r){var n=r.data,i=n.messageId,a=n.action,o=n.data;try{"registerModule"===a&&t(o,(function(e){e instanceof Error?postMessage({messageId:i,success:!1,error:e.message}):postMessage({messageId:i,success:!0,result:{isCallable:"function"==typeof e}})})),"callModule"===a&&function(t,r){var n,i=t.id,a=t.args;e[i]&&"function"==typeof e[i].value||r(new Error("Worker module "+i+": not found or its 'init' did not return a function"));try{var o=(n=e[i]).value.apply(n,a);o&&"function"==typeof o.then?o.then(s,(function(e){return r(e instanceof Error?e:new Error(""+e))})):s(o)}catch(e){r(e)}function s(t){try{var n=e[i].getTransferables&&e[i].getTransferables(t);n&&Array.isArray(n)&&n.length||(n=void 0),r(t,n)}catch(e){console.error(e),r(e)}}}(o,(function(e,t){e instanceof Error?postMessage({messageId:i,success:!1,error:e.message}):postMessage({messageId:i,success:!0,result:e},t||void 0)}))}catch(e){postMessage({messageId:i,success:!1,error:e.stack})}}))}var a=function(){var e=!1;if("undefined"!=typeof window&&void 0!==window.document)try{new Worker(URL.createObjectURL(new Blob([""],{type:"application/javascript"}))).terminate(),e=!0}catch(e){console.log("Troika createWorkerModule: web workers not allowed; falling back to main thread execution. Cause: ["+e.message+"]")}return a=function(){return e},e},o=0,s=0,u=!1,l=Object.create(null),c=Object.create(null),f=Object.create(null);function h(e){if(!(e&&"function"==typeof e.init||u))throw new Error("requires `options.init` function");var t=e.dependencies,r=e.init,n=e.getTransferables,i=e.workerId,s=function(e){var t=function(){for(var e=[],r=arguments.length;r--;)e[r]=arguments[r];return t._getInitResult().then((function(t){if("function"==typeof t)return t.apply(void 0,e);throw new Error("Worker module function was called but `init` did not return a callable function")}))};return t._getInitResult=function(){var r=e.dependencies,n=e.init;r=Array.isArray(r)?r.map((function(e){return e&&(e=e.onMainThread||e)._getInitResult&&(e=e._getInitResult()),e})):[];var i=Promise.all(r).then((function(e){return n.apply(null,e)}));return t._getInitResult=function(){return i},i},t}(e);null==i&&(i="#default");var l="workerModule"+ ++o,f=e.name||l,v=null;function g(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];if(!a())return s.apply(void 0,e);if(!v){v=p(i,"registerModule",g.workerModuleData);var r=function(){v=null,c[i].delete(r)};(c[i]||(c[i]=new Set)).add(r)}return v.then((function(t){if(t.isCallable)return p(i,"callModule",{id:l,args:e});throw new Error("Worker module function was called but `init` did not return a callable function")}))}return t=t&&t.map((function(e){return"function"!=typeof e||e.workerModuleData||(u=!0,e=h({workerId:i,name:"<"+f+"> function dependency: "+e.name,init:"function(){return (\n"+d(e)+"\n)}"}),u=!1),e&&e.workerModuleData&&(e=e.workerModuleData),e})),g.workerModuleData={isWorkerModule:!0,id:l,name:f,dependencies:t,init:d(r),getTransferables:n&&d(n)},g.onMainThread=s,g}function d(e){var t=e.toString();return!/^function/.test(t)&&/^\w+\s*\(/.test(t)&&(t="function "+t),t}function p(e,t,r){return new Promise((function(n,a){var o=++s;f[o]=function(e){e.success?n(e.result):a(new Error("Error in worker "+t+" call: "+e.error))},function(e){var t=l[e];if(!t){var r=d(i);(t=l[e]=new Worker(URL.createObjectURL(new Blob(["/** Worker Module Bootstrap: "+e.replace(/\*/g,"")+" **/\n\n;("+r+")()"],{type:"application/javascript"})))).onmessage=function(e){var t=e.data,r=t.messageId,n=f[r];if(!n)throw new Error("WorkerModule response with empty or unknown messageId");delete f[r],n(t)}}return t}(e).postMessage({messageId:o,action:t,data:r})}))}function v(){var e=function(e){function t(e,t,r,n,i,a,o,s,u,l){var c=1-u;l.x=c*c*c*e+3*c*c*u*r+3*c*u*u*i+u*u*u*o,l.y=c*c*c*t+3*c*c*u*n+3*c*u*u*a+u*u*u*s}function r(e,t){for(var r,n,i,a,o,s=/([MLQCZ])([^MLQCZ]*)/g;r=s.exec(e);){var u=r[2].replace(/^\s*|\s*$/g,"").split(/[,\s]+/).map((function(e){return parseFloat(e)}));switch(r[1]){case"M":a=n=u[0],o=i=u[1];break;case"L":u[0]===a&&u[1]===o||t("L",a,o,a=u[0],o=u[1]);break;case"Q":t("Q",a,o,a=u[2],o=u[3],u[0],u[1]);break;case"C":t("C",a,o,a=u[4],o=u[5],u[0],u[1],u[2],u[3]);break;case"Z":a===n&&o===i||t("L",a,o,n,i)}}}function n(e,n,i){void 0===i&&(i=16);var a={x:0,y:0};r(e,(function(e,r,o,s,u,l,c,f,h){switch(e){case"L":n(r,o,s,u);break;case"Q":for(var d=r,p=o,v=1;v<i;v++)_=o,b=c,x=u,T=void 0,T=1-(S=v/(i-1)),(w=a).x=T*T*r+2*T*S*l+S*S*s,w.y=T*T*_+2*T*S*b+S*S*x,n(d,p,a.x,a.y),d=a.x,p=a.y;break;case"C":for(var g=r,m=o,y=1;y<i;y++)t(r,o,l,c,f,h,s,u,y/(i-1),a),n(g,m,a.x,a.y),g=a.x,m=a.y}var _,b,x,S,w,T}))}var i="precision highp float;attribute vec2 aUV;varying vec2 vUV;void main(){vUV=aUV;gl_Position=vec4(mix(vec2(-1.0),vec2(1.0),aUV),0.0,1.0);}",a=new WeakMap,o={premultipliedAlpha:!1,preserveDrawingBuffer:!0,antialias:!1,depth:!1};function s(e,t){var r=e.getContext?e.getContext("webgl",o):e,n=a.get(r);if(!n){var i="undefined"!=typeof WebGL2RenderingContext&&r instanceof WebGL2RenderingContext,s={},u={},l={},c=-1,f=[];function h(e){var t=s[e];if(!t&&!(t=s[e]=r.getExtension(e)))throw new Error(e+" not supported");return t}function d(e,t){var n=r.createShader(t);return r.shaderSource(n,e),r.compileShader(n),n}function p(e,t,n,a){if(!u[e]){var o={},s={},l=r.createProgram();r.attachShader(l,d(t,r.VERTEX_SHADER)),r.attachShader(l,d(n,r.FRAGMENT_SHADER)),r.linkProgram(l),u[e]={program:l,transaction:function(e){r.useProgram(l),e({setUniform:function(e,t){for(var n=[],i=arguments.length-2;i-- >0;)n[i]=arguments[i+2];var a=s[t]||(s[t]=r.getUniformLocation(l,t));r["uniform"+e].apply(r,[a].concat(n))},setAttribute:function(e,t,n,a,s){var u=o[e];u||(u=o[e]={buf:r.createBuffer(),loc:r.getAttribLocation(l,e),data:null}),r.bindBuffer(r.ARRAY_BUFFER,u.buf),r.vertexAttribPointer(u.loc,t,r.FLOAT,!1,0,0),r.enableVertexAttribArray(u.loc),i?r.vertexAttribDivisor(u.loc,a):h("ANGLE_instanced_arrays").vertexAttribDivisorANGLE(u.loc,a),s!==u.data&&(r.bufferData(r.ARRAY_BUFFER,s,n),u.data=s)}})}}}u[e].transaction(a)}function v(e,t){c++;try{r.activeTexture(r.TEXTURE0+c);var n=l[e];n||(n=l[e]=r.createTexture(),r.bindTexture(r.TEXTURE_2D,n),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MIN_FILTER,r.NEAREST),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MAG_FILTER,r.NEAREST)),r.bindTexture(r.TEXTURE_2D,n),t(n,c)}finally{c--}}function g(e,t,n){var i=r.createFramebuffer();f.push(i),r.bindFramebuffer(r.FRAMEBUFFER,i),r.activeTexture(r.TEXTURE0+t),r.bindTexture(r.TEXTURE_2D,e),r.framebufferTexture2D(r.FRAMEBUFFER,r.COLOR_ATTACHMENT0,r.TEXTURE_2D,e,0);try{n(i)}finally{r.deleteFramebuffer(i),r.bindFramebuffer(r.FRAMEBUFFER,f[--f.length-1]||null)}}function m(){s={},u={},l={},c=-1,f.length=0}r.canvas.addEventListener("webglcontextlost",(function(e){m(),e.preventDefault()}),!1),a.set(r,n={gl:r,isWebGL2:i,getExtension:h,withProgram:p,withTexture:v,withTextureFramebuffer:g,handleContextLoss:m})}t(n)}function u(e,t,r,n,a,o,u,l){void 0===u&&(u=15),void 0===l&&(l=null),s(e,(function(e){var s=e.gl,c=e.withProgram;(0,e.withTexture)("copy",(function(e,f){s.texImage2D(s.TEXTURE_2D,0,s.RGBA,a,o,0,s.RGBA,s.UNSIGNED_BYTE,t),c("copy",i,"precision highp float;uniform sampler2D tex;varying vec2 vUV;void main(){gl_FragColor=texture2D(tex,vUV);}",(function(e){var t=e.setUniform;(0,e.setAttribute)("aUV",2,s.STATIC_DRAW,0,new Float32Array([0,0,2,0,0,2])),t("1i","image",f),s.bindFramebuffer(s.FRAMEBUFFER,l||null),s.disable(s.BLEND),s.colorMask(8&u,4&u,2&u,1&u),s.viewport(r,n,a,o),s.scissor(r,n,a,o),s.drawArrays(s.TRIANGLES,0,3)}))}))}))}var l=Object.freeze({__proto__:null,withWebGLContext:s,renderImageData:u,resizeWebGLCanvasWithoutClearing:function(e,t,r){var n=e.width,i=e.height;s(e,(function(a){var o=a.gl,s=new Uint8Array(n*i*4);o.readPixels(0,0,n,i,o.RGBA,o.UNSIGNED_BYTE,s),e.width=t,e.height=r,u(o,s,0,0,n,i)}))}});function c(e,t,r,i,a,o){void 0===o&&(o=1);var s=new Uint8Array(e*t),u=i[2]-i[0],l=i[3]-i[1],c=[];n(r,(function(e,t,r,n){c.push({x1:e,y1:t,x2:r,y2:n,minX:Math.min(e,r),minY:Math.min(t,n),maxX:Math.max(e,r),maxY:Math.max(t,n)})})),c.sort((function(e,t){return e.maxX-t.maxX}));for(var f=0;f<e;f++)for(var h=0;h<t;h++){var p=g(i[0]+u*(f+.5)/e,i[1]+l*(h+.5)/t),v=Math.pow(1-Math.abs(p)/a,o)/2;p<0&&(v=1-v),v=Math.max(0,Math.min(255,Math.round(255*v))),s[h*e+f]=v}return s;function g(e,t){for(var r=1/0,n=1/0,i=c.length;i--;){var a=c[i];if(a.maxX+n<=e)break;if(e+n>a.minX&&t-n<a.maxY&&t+n>a.minY){var o=d(e,t,a.x1,a.y1,a.x2,a.y2);o<r&&(r=o,n=Math.sqrt(r))}}return function(e,t){for(var r=0,n=c.length;n--;){var i=c[n];if(i.maxX<=e)break;i.y1>t!=i.y2>t&&e<(i.x2-i.x1)*(t-i.y1)/(i.y2-i.y1)+i.x1&&(r+=i.y1<i.y2?1:-1)}return 0!==r}(e,t)&&(n=-n),n}}function f(e,t,r,n,i,a,o,s,u,l){void 0===a&&(a=1),void 0===s&&(s=0),void 0===u&&(u=0),void 0===l&&(l=0),h(e,t,r,n,i,a,o,null,s,u,l)}function h(e,t,r,n,i,a,o,s,l,f,h){void 0===a&&(a=1),void 0===l&&(l=0),void 0===f&&(f=0),void 0===h&&(h=0);for(var d=c(e,t,r,n,i,a),p=new Uint8Array(4*d.length),v=0;v<d.length;v++)p[4*v+h]=d[v];u(o,p,l,f,e,t,1<<3-h,s)}function d(e,t,r,n,i,a){var o=i-r,s=a-n,u=o*o+s*s,l=u?Math.max(0,Math.min(1,((e-r)*o+(t-n)*s)/u)):0,c=e-(r+l*o),f=t-(n+l*s);return c*c+f*f}var p=Object.freeze({__proto__:null,generate:c,generateIntoCanvas:f,generateIntoFramebuffer:h}),v=new Float32Array([0,0,2,0,0,2]),g=null,m=!1,y={},_=new WeakMap;function b(e){if(!m&&!T(e))throw new Error("WebGL generation not supported")}function x(e,t,r,n,i,a,o){if(void 0===a&&(a=1),void 0===o&&(o=null),!o&&!(o=g)){var u="function"==typeof OffscreenCanvas?new OffscreenCanvas(1,1):"undefined"!=typeof document?document.createElement("canvas"):null;if(!u)throw new Error("OffscreenCanvas or DOM canvas not supported");o=g=u.getContext("webgl",{depth:!1})}b(o);var l=new Uint8Array(e*t*4);s(o,(function(o){var s=o.gl,u=o.withTexture,c=o.withTextureFramebuffer;u("readable",(function(o,u){s.texImage2D(s.TEXTURE_2D,0,s.RGBA,e,t,0,s.RGBA,s.UNSIGNED_BYTE,null),c(o,u,(function(o){w(e,t,r,n,i,a,s,o,0,0,0),s.readPixels(0,0,e,t,s.RGBA,s.UNSIGNED_BYTE,l)}))}))}));for(var c=new Uint8Array(e*t),f=0,h=0;f<l.length;f+=4)c[h++]=l[f];return c}function S(e,t,r,n,i,a,o,s,u,l){void 0===a&&(a=1),void 0===s&&(s=0),void 0===u&&(u=0),void 0===l&&(l=0),w(e,t,r,n,i,a,o,null,s,u,l)}function w(e,t,r,a,o,u,l,c,f,h,d){void 0===u&&(u=1),void 0===f&&(f=0),void 0===h&&(h=0),void 0===d&&(d=0),b(l);var p=[];n(r,(function(e,t,r,n){p.push(e,t,r,n)})),p=new Float32Array(p),s(l,(function(r){var n=r.gl,s=r.isWebGL2,l=r.getExtension,g=r.withProgram,m=r.withTexture,y=r.withTextureFramebuffer,_=r.handleContextLoss;if(m("rawDistances",(function(r,m){e===r._lastWidth&&t===r._lastHeight||n.texImage2D(n.TEXTURE_2D,0,n.RGBA,r._lastWidth=e,r._lastHeight=t,0,n.RGBA,n.UNSIGNED_BYTE,null),g("main","precision highp float;uniform vec4 uGlyphBounds;attribute vec2 aUV;attribute vec4 aLineSegment;varying vec4 vLineSegment;varying vec2 vGlyphXY;void main(){vLineSegment=aLineSegment;vGlyphXY=mix(uGlyphBounds.xy,uGlyphBounds.zw,aUV);gl_Position=vec4(mix(vec2(-1.0),vec2(1.0),aUV),0.0,1.0);}","precision highp float;uniform vec4 uGlyphBounds;uniform float uMaxDistance;uniform float uExponent;varying vec4 vLineSegment;varying vec2 vGlyphXY;float absDistToSegment(vec2 point,vec2 lineA,vec2 lineB){vec2 lineDir=lineB-lineA;float lenSq=dot(lineDir,lineDir);float t=lenSq==0.0 ? 0.0 : clamp(dot(point-lineA,lineDir)/lenSq,0.0,1.0);vec2 linePt=lineA+t*lineDir;return distance(point,linePt);}void main(){vec4 seg=vLineSegment;vec2 p=vGlyphXY;float dist=absDistToSegment(p,seg.xy,seg.zw);float val=pow(1.0-clamp(dist/uMaxDistance,0.0,1.0),uExponent)*0.5;bool crossing=(seg.y>p.y!=seg.w>p.y)&&(p.x<(seg.z-seg.x)*(p.y-seg.y)/(seg.w-seg.y)+seg.x);bool crossingUp=crossing&&vLineSegment.y<vLineSegment.w;gl_FragColor=vec4(crossingUp ? 1.0/255.0 : 0.0,crossing&&!crossingUp ? 1.0/255.0 : 0.0,0.0,val);}",(function(i){var c=i.setAttribute,f=i.setUniform,h=!s&&l("ANGLE_instanced_arrays"),d=!s&&l("EXT_blend_minmax");c("aUV",2,n.STATIC_DRAW,0,v),c("aLineSegment",4,n.DYNAMIC_DRAW,1,p),f.apply(void 0,["4f","uGlyphBounds"].concat(a)),f("1f","uMaxDistance",o),f("1f","uExponent",u),y(r,m,(function(r){n.enable(n.BLEND),n.colorMask(!0,!0,!0,!0),n.viewport(0,0,e,t),n.scissor(0,0,e,t),n.blendFunc(n.ONE,n.ONE),n.blendEquationSeparate(n.FUNC_ADD,s?n.MAX:d.MAX_EXT),n.clear(n.COLOR_BUFFER_BIT),s?n.drawArraysInstanced(n.TRIANGLES,0,3,p.length/4):h.drawArraysInstancedANGLE(n.TRIANGLES,0,3,p.length/4)}))})),g("post",i,"precision highp float;uniform sampler2D tex;varying vec2 vUV;void main(){vec4 color=texture2D(tex,vUV);bool inside=color.r!=color.g;float val=inside ? 1.0-color.a : color.a;gl_FragColor=vec4(val);}",(function(r){r.setAttribute("aUV",2,n.STATIC_DRAW,0,v),r.setUniform("1i","tex",m),n.bindFramebuffer(n.FRAMEBUFFER,c),n.disable(n.BLEND),n.colorMask(0===d,1===d,2===d,3===d),n.viewport(f,h,e,t),n.scissor(f,h,e,t),n.drawArrays(n.TRIANGLES,0,3)}))})),n.isContextLost())throw _(),new Error("webgl context lost")}))}function T(e){var t=e&&e!==g?e.canvas||e:y,r=_.get(t);if(void 0===r){m=!0;var n=null;try{var i=[97,106,97,61,99,137,118,80,80,118,137,99,61,97,106,97],a=x(4,4,"M8,8L16,8L24,24L16,24Z",[0,0,32,32],24,1,e);(r=a&&i.length===a.length&&a.every((function(e,t){return e===i[t]})))||(n="bad trial run results",console.info(i,a))}catch(e){r=!1,n=e.message}n&&console.warn("WebGL SDF generation not supported:",n),m=!1,_.set(t,r)}return r}var U=Object.freeze({__proto__:null,generate:x,generateIntoCanvas:S,generateIntoFramebuffer:w,isSupported:T});return e.forEachPathCommand=r,e.generate=function(e,t,r,n,i,a){void 0===i&&(i=Math.max(n[2]-n[0],n[3]-n[1])/2),void 0===a&&(a=1);try{return x.apply(U,arguments)}catch(e){return console.info("WebGL SDF generation failed, falling back to JS",e),c.apply(p,arguments)}},e.generateIntoCanvas=function(e,t,r,n,i,a,o,s,u,l){void 0===i&&(i=Math.max(n[2]-n[0],n[3]-n[1])/2),void 0===a&&(a=1),void 0===s&&(s=0),void 0===u&&(u=0),void 0===l&&(l=0);try{return S.apply(U,arguments)}catch(e){return console.info("WebGL SDF generation failed, falling back to JS",e),f.apply(p,arguments)}},e.javascript=p,e.pathToLineSegments=n,e.webgl=U,e.webglUtils=l,Object.defineProperty(e,"__esModule",{value:!0}),e}({});return e}var g=function(){return function(e){var t={R:"13k,1a,2,3,3,2+1j,ch+16,a+1,5+2,2+n,5,a,4,6+16,4+3,h+1b,4mo,179q,2+9,2+11,2i9+7y,2+68,4,3+4,5+13,4+3,2+4k,3+29,8+cf,1t+7z,w+17,3+3m,1t+3z,16o1+5r,8+30,8+mc,29+1r,29+4v,75+73",EN:"1c+9,3d+1,6,187+9,513,4+5,7+9,sf+j,175h+9,qw+q,161f+1d,4xt+a,25i+9",ES:"17,2,6dp+1,f+1,av,16vr,mx+1,4o,2",ET:"z+2,3h+3,b+1,ym,3e+1,2o,p4+1,8,6u,7c,g6,1wc,1n9+4,30+1b,2n,6d,qhx+1,h0m,a+1,49+2,63+1,4+1,6bb+3,12jj",AN:"16o+5,2j+9,2+1,35,ed,1ff2+9,87+u",CS:"18,2+1,b,2u,12k,55v,l,17v0,2,3,53,2+1,b",B:"a,3,f+2,2v,690",S:"9,2,k",WS:"c,k,4f4,1vk+a,u,1j,335",ON:"x+1,4+4,h+5,r+5,r+3,z,5+3,2+1,2+1,5,2+2,3+4,o,w,ci+1,8+d,3+d,6+8,2+g,39+1,9,6+1,2,33,b8,3+1,3c+1,7+1,5r,b,7h+3,sa+5,2,3i+6,jg+3,ur+9,2v,ij+1,9g+9,7+a,8m,4+1,49+x,14u,2+2,c+2,e+2,e+2,e+1,i+n,e+e,2+p,u+2,e+2,36+1,2+3,2+1,b,2+2,6+5,2,2,2,h+1,5+4,6+3,3+f,16+2,5+3l,3+81,1y+p,2+40,q+a,m+13,2r+ch,2+9e,75+hf,3+v,2+2w,6e+5,f+6,75+2a,1a+p,2+2g,d+5x,r+b,6+3,4+o,g,6+1,6+2,2k+1,4,2j,5h+z,1m+1,1e+f,t+2,1f+e,d+3,4o+3,2s+1,w,535+1r,h3l+1i,93+2,2s,b+1,3l+x,2v,4g+3,21+3,kz+1,g5v+1,5a,j+9,n+v,2,3,2+8,2+1,3+2,2,3,46+1,4+4,h+5,r+5,r+a,3h+2,4+6,b+4,78,1r+24,4+c,4,1hb,ey+6,103+j,16j+c,1ux+7,5+g,fsh,jdq+1t,4,57+2e,p1,1m,1m,1m,1m,4kt+1,7j+17,5+2r,d+e,3+e,2+e,2+10,m+4,w,1n+5,1q,4z+5,4b+rb,9+c,4+c,4+37,d+2g,8+b,l+b,5+1j,9+9,7+13,9+t,3+1,27+3c,2+29,2+3q,d+d,3+4,4+2,6+6,a+o,8+6,a+2,e+6,16+42,2+1i",BN:"0+8,6+d,2s+5,2+p,e,4m9,1kt+2,2b+5,5+5,17q9+v,7k,6p+8,6+1,119d+3,440+7,96s+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+75,6p+2rz,1ben+1,1ekf+1,1ekf+1",NSM:"lc+33,7o+6,7c+18,2,2+1,2+1,2,21+a,1d+k,h,2u+6,3+5,3+1,2+3,10,v+q,2k+a,1n+8,a,p+3,2+8,2+2,2+4,18+2,3c+e,2+v,1k,2,5+7,5,4+6,b+1,u,1n,5+3,9,l+1,r,3+1,1m,5+1,5+1,3+2,4,v+1,4,c+1,1m,5+4,2+1,5,l+1,n+5,2,1n,3,2+3,9,8+1,c+1,v,1q,d,1f,4,1m+2,6+2,2+3,8+1,c+1,u,1n,g+1,l+1,t+1,1m+1,5+3,9,l+1,u,21,8+2,2,2j,3+6,d+7,2r,3+8,c+5,23+1,s,2,2,1k+d,2+4,2+1,6+a,2+z,a,2v+3,2+5,2+1,3+1,q+1,5+2,h+3,e,3+1,7,g,jk+2,qb+2,u+2,u+1,v+1,1t+1,2+6,9,3+a,a,1a+2,3c+1,z,3b+2,5+1,a,7+2,64+1,3,1n,2+6,2,2,3+7,7+9,3,1d+g,1s+3,1d,2+4,2,6,15+8,d+1,x+3,3+1,2+2,1l,2+1,4,2+2,1n+7,3+1,49+2,2+c,2+6,5,7,4+1,5j+1l,2+4,k1+w,2db+2,3y,2p+v,ff+3,30+1,n9x+3,2+9,x+1,29+1,7l,4,5,q+1,6,48+1,r+h,e,13+7,q+a,1b+2,1d,3+3,3+1,14,1w+5,3+1,3+1,d,9,1c,1g,2+2,3+1,6+1,2,17+1,9,6n,3,5,fn5,ki+f,h+f,r2,6b,46+4,1af+2,2+1,6+3,15+2,5,4m+1,fy+3,as+1,4a+a,4x,1j+e,1l+2,1e+3,3+1,1y+2,11+4,2+7,1r,d+1,1h+8,b+3,3,2o+2,3,2+1,7,4h,4+7,m+1,1m+1,4,12+6,4+4,5g+7,3+2,2,o,2d+5,2,5+1,2+1,6n+3,7+1,2+1,s+1,2e+7,3,2+1,2z,2,3+5,2,2u+2,3+3,2+4,78+8,2+1,75+1,2,5,41+3,3+1,5,x+5,3+1,15+5,3+3,9,a+5,3+2,1b+c,2+1,bb+6,2+5,2d+l,3+6,2+1,2+1,3f+5,4,2+1,2+6,2,21+1,4,2,9o+1,f0c+4,1o+6,t5,1s+3,2a,f5l+1,43t+2,i+7,3+6,v+3,45+2,1j0+1i,5+1d,9,f,n+4,2+e,11t+6,2+g,3+6,2+1,2+4,7a+6,c6+3,15t+6,32+6,gzhy+6n",AL:"16w,3,2,e+1b,z+2,2+2s,g+1,8+1,b+m,2+t,s+2i,c+e,4h+f,1d+1e,1bwe+dp,3+3z,x+c,2+1,35+3y,2rm+z,5+7,b+5,dt+l,c+u,17nl+27,1t+27,4x+6n,3+d",LRO:"6ct",RLO:"6cu",LRE:"6cq",RLE:"6cr",PDF:"6cs",LRI:"6ee",RLI:"6ef",FSI:"6eg",PDI:"6eh"},r={},n={};r.L=1,n[1]="L",Object.keys(t).forEach((function(e,t){r[e]=1<<t+1,n[r[e]]=e})),Object.freeze(r);var i=r.LRI|r.RLI|r.FSI,a=r.L|r.R|r.AL,o=r.B|r.S|r.WS|r.ON|r.FSI|r.LRI|r.RLI|r.PDI,s=r.BN|r.RLE|r.LRE|r.RLO|r.LRO|r.PDF,u=r.S|r.WS|r.B|i|r.PDI|s,l=null;function c(e){return function(){if(!l){l=new Map;var e=function(e){if(t.hasOwnProperty(e)){var n=0;t[e].split(",").forEach((function(t){var i=t.split("+"),a=i[0],o=i[1];a=parseInt(a,36),o=o?parseInt(o,36):0,l.set(n+=a,r[e]);for(var s=0;s<o;s++)l.set(++n,r[e])}))}};for(var n in t)e(n)}}(),l.get(e.codePointAt(0))||r.L}var f,h,d,p="14>1,1e>2,u>2,2wt>1,1>1,1ge>1,1wp>1,1j>1,f>1,hm>1,1>1,u>1,u6>1,1>1,+5,28>1,w>1,1>1,+3,b8>1,1>1,+3,1>3,-1>-1,3>1,1>1,+2,1s>1,1>1,x>1,th>1,1>1,+2,db>1,1>1,+3,3>1,1>1,+2,14qm>1,1>1,+1,4q>1,1e>2,u>2,2>1,+1",v="6f1>-6dx,6dy>-6dx,6ec>-6ed,6ee>-6ed,6ww>2jj,-2ji>2jj,14r4>-1e7l,1e7m>-1e7l,1e7m>-1e5c,1e5d>-1e5b,1e5c>-14qx,14qy>-14qx,14vn>-1ecg,1ech>-1ecg,1edu>-1ecg,1eci>-1ecg,1eda>-1ecg,1eci>-1ecg,1eci>-168q,168r>-168q,168s>-14ye,14yf>-14ye";function g(e,t){var r,n=0,i=new Map,a=t&&new Map;return e.split(",").forEach((function e(o){if(-1!==o.indexOf("+"))for(var s=+o;s--;)e(r);else{r=o;var u=o.split(">"),l=u[0],c=u[1];l=String.fromCodePoint(n+=parseInt(l,36)),c=String.fromCodePoint(n+=parseInt(c,36)),i.set(l,c),t&&a.set(c,l)}})),{map:i,reverseMap:a}}function m(){if(!f){var e=g(p,!0),t=e.map,r=e.reverseMap;f=t,h=r,d=g(v,!1).map}}function y(e){return m(),f.get(e)||null}function _(e){return m(),h.get(e)||null}function b(e){return m(),d.get(e)||null}var x=r.L,S=r.R,w=r.EN,T=r.ES,U=r.ET,k=r.AN,A=r.CS,E=r.B,F=r.S,C=r.ON,M=r.BN,R=r.NSM,D=r.AL,I=r.LRO,P=r.RLO,B=r.LRE,z=r.RLE,O=r.PDF,L=r.LRI,G=r.RLI,j=r.FSI,N=r.PDI;var W;function H(e){return function(){if(!W){var e=g("14>1,j>2,t>2,u>2,1a>g,2v3>1,1>1,1ge>1,1wd>1,b>1,1j>1,f>1,ai>3,-2>3,+1,8>1k0,-1jq>1y7,-1y6>1hf,-1he>1h6,-1h5>1ha,-1h8>1qi,-1pu>1,6>3u,-3s>7,6>1,1>1,f>1,1>1,+2,3>1,1>1,+13,4>1,1>1,6>1eo,-1ee>1,3>1mg,-1me>1mk,-1mj>1mi,-1mg>1mi,-1md>1,1>1,+2,1>10k,-103>1,1>1,4>1,5>1,1>1,+10,3>1,1>8,-7>8,+1,-6>7,+1,a>1,1>1,u>1,u6>1,1>1,+5,26>1,1>1,2>1,2>2,8>1,7>1,4>1,1>1,+5,b8>1,1>1,+3,1>3,-2>1,2>1,1>1,+2,c>1,3>1,1>1,+2,h>1,3>1,a>1,1>1,2>1,3>1,1>1,d>1,f>1,3>1,1a>1,1>1,6>1,7>1,13>1,k>1,1>1,+19,4>1,1>1,+2,2>1,1>1,+18,m>1,a>1,1>1,lk>1,1>1,4>1,2>1,f>1,3>1,1>1,+3,db>1,1>1,+3,3>1,1>1,+2,14qm>1,1>1,+1,6>1,4j>1,j>2,t>2,u>2,2>1,+1",!0),t=e.map;e.reverseMap.forEach((function(e,r){t.set(r,e)})),W=t}}(),W.get(e)||null}function V(e,t,r,n){var i=e.length;r=Math.max(0,null==r?0:+r),n=Math.min(i-1,null==n?i-1:+n);var a=[];return t.paragraphs.forEach((function(i){var o=Math.max(r,i.start),s=Math.min(n,i.end);if(o<s){for(var l=t.levels.slice(o,s+1),f=s;f>=o&&c(e[f])&u;f--)l[f]=i.level;for(var h=i.level,d=1/0,p=0;p<l.length;p++){var v=l[p];v>h&&(h=v),v<d&&(d=1|v)}for(var g=h;g>=d;g--)for(var m=0;m<l.length;m++)if(l[m]>=g){for(var y=m;m+1<l.length&&l[m+1]>=g;)m++;m>y&&a.push([y+o,m+o])}}})),a}function $(e,t,r,n){for(var i=V(e,t,r,n),a=[],o=0;o<e.length;o++)a[o]=o;return i.forEach((function(e){for(var t=e[0],r=e[1],n=a.slice(t,r+1),i=n.length;i--;)a[r-i]=n[i]})),a}return e.closingToOpeningBracket=_,e.getBidiCharType=c,e.getBidiCharTypeName=function(e){return n[c(e)]},e.getCanonicalBracket=b,e.getEmbeddingLevels=function(e,t){for(var r=new Uint32Array(e.length),n=0;n<e.length;n++)r[n]=c(e[n]);var l=new Map;function f(e,t){var n=r[e];r[e]=t,l.set(n,l.get(n)-1),n&o&&l.set(o,l.get(o)-1),l.set(t,(l.get(t)||0)+1),t&o&&l.set(o,(l.get(o)||0)+1)}for(var h=new Uint8Array(e.length),d=new Map,p=[],v=null,g=0;g<e.length;g++)v||p.push(v={start:g,end:e.length-1,level:"rtl"===t?1:"ltr"===t?0:jt(g,!1)}),r[g]&E&&(v.end=g,v=null);for(var m=z|B|P|I|i|N|O|E,W=function(e){return e+(1&e?1:2)},H=function(e){return e+(1&e?2:1)},V=0;V<p.length;V++){var $=[{_level:(v=p[V]).level,_override:0,_isolate:0}],X=void 0,q=0,Y=0,K=0;l.clear();for(var Z=v.start;Z<=v.end;Z++){var Q=r[Z];if(X=$[$.length-1],l.set(Q,(l.get(Q)||0)+1),Q&o&&l.set(o,(l.get(o)||0)+1),Q&m)if(Q&(z|B)){h[Z]=X._level;var J=(Q===z?H:W)(X._level);J<=125&&!q&&!Y?$.push({_level:J,_override:0,_isolate:0}):q||Y++}else if(Q&(P|I)){h[Z]=X._level;var ee=(Q===P?H:W)(X._level);ee<=125&&!q&&!Y?$.push({_level:ee,_override:Q&P?S:x,_isolate:0}):q||Y++}else if(Q&i){Q&j&&(Q=1===jt(Z+1,!0)?G:L),h[Z]=X._level,X._override&&f(Z,X._override);var te=(Q===G?H:W)(X._level);te<=125&&0===q&&0===Y?(K++,$.push({_level:te,_override:0,_isolate:1,_isolInitIndex:Z})):q++}else if(Q&N){if(q>0)q--;else if(K>0){for(Y=0;!$[$.length-1]._isolate;)$.pop();var re=$[$.length-1]._isolInitIndex;null!=re&&(d.set(re,Z),d.set(Z,re)),$.pop(),K--}X=$[$.length-1],h[Z]=X._level,X._override&&f(Z,X._override)}else Q&O?(0===q&&(Y>0?Y--:!X._isolate&&$.length>1&&($.pop(),X=$[$.length-1])),h[Z]=X._level):Q&E&&(h[Z]=v.level);else h[Z]=X._level,X._override&&Q!==M&&f(Z,X._override)}for(var ne=[],ie=null,ae=v.start;ae<=v.end;ae++){var oe=r[ae];if(!(oe&s)){var se=h[ae],ue=oe&i,le=oe===N;ie&&se===ie._level?(ie._end=ae,ie._endsWithIsolInit=ue):ne.push(ie={_start:ae,_end:ae,_level:se,_startsWithPDI:le,_endsWithIsolInit:ue})}}for(var ce=[],fe=0;fe<ne.length;fe++){var he=ne[fe];if(!he._startsWithPDI||he._startsWithPDI&&!d.has(he._start)){for(var de=[ie=he],pe=void 0;ie&&ie._endsWithIsolInit&&null!=(pe=d.get(ie._end));)for(var ve=fe+1;ve<ne.length;ve++)if(ne[ve]._start===pe){de.push(ie=ne[ve]);break}for(var ge=[],me=0;me<de.length;me++)for(var ye=de[me],_e=ye._start;_e<=ye._end;_e++)ge.push(_e);for(var be=h[ge[0]],xe=v.level,Se=ge[0]-1;Se>=0;Se--)if(!(r[Se]&s)){xe=h[Se];break}var we=ge[ge.length-1],Te=h[we],Ue=v.level;if(!(r[we]&i))for(var ke=we+1;ke<=v.end;ke++)if(!(r[ke]&s)){Ue=h[ke];break}ce.push({_seqIndices:ge,_sosType:Math.max(xe,be)%2?S:x,_eosType:Math.max(Ue,Te)%2?S:x})}}for(var Ae=0;Ae<ce.length;Ae++){var Ee=ce[Ae],Fe=Ee._seqIndices,Ce=Ee._sosType,Me=Ee._eosType,Re=1&h[Fe[0]]?S:x;if(l.get(R))for(var De=0;De<Fe.length;De++){var Ie=Fe[De];if(r[Ie]&R){for(var Pe=Ce,Be=De-1;Be>=0;Be--)if(!(r[Fe[Be]]&s)){Pe=r[Fe[Be]];break}f(Ie,Pe&(i|N)?C:Pe)}}if(l.get(w))for(var ze=0;ze<Fe.length;ze++){var Oe=Fe[ze];if(r[Oe]&w)for(var Le=ze-1;Le>=-1;Le--){var Ge=-1===Le?Ce:r[Fe[Le]];if(Ge&a){Ge===D&&f(Oe,k);break}}}if(l.get(D))for(var je=0;je<Fe.length;je++){var Ne=Fe[je];r[Ne]&D&&f(Ne,S)}if(l.get(T)||l.get(A))for(var We=1;We<Fe.length-1;We++){var He=Fe[We];if(r[He]&(T|A)){for(var Ve=0,$e=0,Xe=We-1;Xe>=0&&(Ve=r[Fe[Xe]])&s;Xe--);for(var qe=We+1;qe<Fe.length&&($e=r[Fe[qe]])&s;qe++);Ve===$e&&(r[He]===T?Ve===w:Ve&(w|k))&&f(He,Ve)}}if(l.get(w))for(var Ye=0;Ye<Fe.length;Ye++){var Ke=Fe[Ye];if(r[Ke]&w){for(var Ze=Ye-1;Ze>=0&&r[Fe[Ze]]&(U|s);Ze--)f(Fe[Ze],w);for(Ye++;Ye<Fe.length&&r[Fe[Ye]]&(U|s|w);Ye++)r[Fe[Ye]]!==w&&f(Fe[Ye],w)}}if(l.get(U)||l.get(T)||l.get(A))for(var Qe=0;Qe<Fe.length;Qe++){var Je=Fe[Qe];if(r[Je]&(U|T|A)){f(Je,C);for(var et=Qe-1;et>=0&&r[Fe[et]]&s;et--)f(Fe[et],C);for(var tt=Qe+1;tt<Fe.length&&r[Fe[tt]]&s;tt++)f(Fe[tt],C)}}if(l.get(w))for(var rt=0,nt=Ce;rt<Fe.length;rt++){var it=Fe[rt],at=r[it];at&w?nt===x&&f(it,x):at&a&&(nt=at)}if(l.get(o)){for(var ot=S|w|k,st=ot|x,ut=[],lt=[],ct=0;ct<Fe.length;ct++)if(r[Fe[ct]]&o){var ft=e[Fe[ct]],ht=void 0;if(null!==y(ft)){if(!(lt.length<63))break;lt.push({char:ft,seqIndex:ct})}else if(null!==(ht=_(ft)))for(var dt=lt.length-1;dt>=0;dt--){var pt=lt[dt].char;if(pt===ht||pt===_(b(ft))||y(b(pt))===ft){ut.push([lt[dt].seqIndex,ct]),lt.length=dt;break}}}ut.sort((function(e,t){return e[0]-t[0]}));for(var vt=0;vt<ut.length;vt++){for(var gt=ut[vt],mt=gt[0],yt=gt[1],_t=!1,bt=0,xt=mt+1;xt<yt;xt++){var St=Fe[xt];if(r[St]&st){_t=!0;var wt=r[St]&ot?S:x;if(wt===Re){bt=wt;break}}}if(_t&&!bt){bt=Ce;for(var Tt=mt-1;Tt>=0;Tt--){var Ut=Fe[Tt];if(r[Ut]&st){var kt=r[Ut]&ot?S:x;bt=kt!==Re?kt:Re;break}}}if(bt){if(r[Fe[mt]]=r[Fe[yt]]=bt,bt!==Re)for(var At=mt+1;At<Fe.length;At++)if(!(r[Fe[At]]&s)){c(e[Fe[At]])&R&&(r[Fe[At]]=bt);break}if(bt!==Re)for(var Et=yt+1;Et<Fe.length;Et++)if(!(r[Fe[Et]]&s)){c(e[Fe[Et]])&R&&(r[Fe[Et]]=bt);break}}}for(var Ft=0;Ft<Fe.length;Ft++)if(r[Fe[Ft]]&o){for(var Ct=Ft,Mt=Ft,Rt=Ce,Dt=Ft-1;Dt>=0;Dt--){if(!(r[Fe[Dt]]&s)){Rt=r[Fe[Dt]]&ot?S:x;break}Ct=Dt}for(var It=Me,Pt=Ft+1;Pt<Fe.length;Pt++){if(!(r[Fe[Pt]]&(o|s))){It=r[Fe[Pt]]&ot?S:x;break}Mt=Pt}for(var Bt=Ct;Bt<=Mt;Bt++)r[Fe[Bt]]=Rt===It?Rt:Re;Ft=Mt}}}for(var zt=v.start;zt<=v.end;zt++){var Ot=h[zt],Lt=r[zt];if(1&Ot?Lt&(x|w|k)&&h[zt]++:Lt&S?h[zt]++:Lt&(k|w)&&(h[zt]+=2),Lt&s&&(h[zt]=0===zt?v.level:h[zt-1]),zt===v.end||c(e[zt])&(F|E))for(var Gt=zt;Gt>=0&&c(e[Gt])&u;Gt--)h[Gt]=v.level}}return{levels:h,paragraphs:p};function jt(t,n){for(var a=t;a<e.length;a++){var o=r[a];if(o&(S|D))return 1;if(o&(E|x)||n&&o===N)return 0;if(o&i){var s=Nt(a);a=-1===s?e.length:s}}return 0}function Nt(t){for(var n=1,a=t+1;a<e.length;a++){var o=r[a];if(o&E)break;if(o&N){if(0==--n)return a}else o&i&&n++}return-1}},e.getMirroredCharacter=H,e.getMirroredCharactersMap=function(e,t,r,n){var i=e.length;r=Math.max(0,null==r?0:+r),n=Math.min(i-1,null==n?i-1:+n);for(var a=new Map,o=r;o<=n;o++)if(1&t[o]){var s=H(e[o]);null!==s&&a.set(o,s)}return a},e.getReorderSegments=V,e.getReorderedIndices=$,e.getReorderedString=function(e,t,r,n){var i=$(e,t,r,n),a=[].concat(e);return i.forEach((function(r,n){a[n]=(1&t.levels[r]?H(e[r]):null)||e[r]})),a.join("")},e.openingToClosingBracket=y,Object.defineProperty(e,"__esModule",{value:!0}),e}({})};const m=/\bvoid\s+main\s*\(\s*\)\s*{/g;function y(e){return e.replace(/^[ \t]*#include +<([\w\d./]+)>/gm,(function(e,t){let r=n.WdD[t];return r?y(r):e}))}const _=[];for(let e=0;e<256;e++)_[e]=(e<16?"0":"")+e.toString(16);const b=Object.assign||function(){let e=arguments[0];for(let t=1,r=arguments.length;t<r;t++){let r=arguments[t];if(r)for(let t in r)Object.prototype.hasOwnProperty.call(r,t)&&(e[t]=r[t])}return e},x=Date.now(),S=new WeakMap,w=new Map;let T=1e10;function U(e,t){const r=function(e){const t=JSON.stringify(e,A);let r=F.get(t);null==r&&F.set(t,r=++E);return r}(t);let i=S.get(e);if(i||S.set(e,i=Object.create(null)),i[r])return new i[r];const a=`_onBeforeCompile${r}`,o=function(n,i){e.onBeforeCompile.call(this,n,i);const o=this.customProgramCacheKey()+"|"+n.vertexShader+"|"+n.fragmentShader;let s=w[o];if(!s){const e=function(e,{vertexShader:t,fragmentShader:r},n,i){let{vertexDefs:a,vertexMainIntro:o,vertexMainOutro:s,vertexTransform:u,fragmentDefs:l,fragmentMainIntro:c,fragmentMainOutro:f,fragmentColorTransform:h,customRewriter:d,timeUniform:p}=n;a=a||"",o=o||"",s=s||"",l=l||"",c=c||"",f=f||"",(u||d)&&(t=y(t));(h||d)&&(r=y(r=r.replace(/^[ \t]*#include <((?:tonemapping|encodings|colorspace|fog|premultiplied_alpha|dithering)_fragment)>/gm,"\n//!BEGIN_POST_CHUNK $1\n$&\n//!END_POST_CHUNK\n")));if(d){let e=d({vertexShader:t,fragmentShader:r});t=e.vertexShader,r=e.fragmentShader}if(h){let e=[];r=r.replace(/^\/\/!BEGIN_POST_CHUNK[^]+?^\/\/!END_POST_CHUNK/gm,(t=>(e.push(t),""))),f=`${h}\n${e.join("\n")}\n${f}`}if(p){const e=`\nuniform float ${p};\n`;a=e+a,l=e+l}u&&(a=`${a}\nvoid troikaVertexTransform${i}(inout vec3 position, inout vec3 normal, inout vec2 uv) {\n  ${u}\n}\n`,o=`\ntroika_position_${i} = vec3(position);\ntroika_normal_${i} = vec3(normal);\ntroika_uv_${i} = vec2(uv);\ntroikaVertexTransform${i}(troika_position_${i}, troika_normal_${i}, troika_uv_${i});\n${o}\n`,t=(t=`vec3 troika_position_${i};\nvec3 troika_normal_${i};\nvec2 troika_uv_${i};\n${t}\n`).replace(/\b(position|normal|uv)\b/g,((e,t,r,n)=>/\battribute\s+vec[23]\s+$/.test(n.substr(0,r))?t:`troika_${t}_${i}`)),e.map&&e.map.channel>0||(t=t.replace(/\bMAP_UV\b/g,`troika_uv_${i}`)));return t=k(t,i,a,o,s),r=k(r,i,l,c,f),{vertexShader:t,fragmentShader:r}}(this,n,t,r);s=w[o]=e}n.vertexShader=s.vertexShader,n.fragmentShader=s.fragmentShader,b(n.uniforms,this.uniforms),t.timeUniform&&(n.uniforms[t.timeUniform]={get value(){return Date.now()-x}}),this[a]&&this[a](n)},s=function(){return u(t.chained?e:e.clone())},u=function(n){const i=Object.create(n,l);return Object.defineProperty(i,"baseMaterial",{value:e}),Object.defineProperty(i,"id",{value:T++}),i.uuid=function(){const e=4294967295*Math.random()|0,t=4294967295*Math.random()|0,r=4294967295*Math.random()|0,n=4294967295*Math.random()|0;return(_[255&e]+_[e>>8&255]+_[e>>16&255]+_[e>>24&255]+"-"+_[255&t]+_[t>>8&255]+"-"+_[t>>16&15|64]+_[t>>24&255]+"-"+_[63&r|128]+_[r>>8&255]+"-"+_[r>>16&255]+_[r>>24&255]+_[255&n]+_[n>>8&255]+_[n>>16&255]+_[n>>24&255]).toUpperCase()}(),i.uniforms=b({},n.uniforms,t.uniforms),i.defines=b({},n.defines,t.defines),i.defines[`TROIKA_DERIVED_MATERIAL_${r}`]="",i.extensions=b({},n.extensions,t.extensions),i._listeners=void 0,i},l={constructor:{value:s},isDerivedMaterial:{value:!0},type:{get:()=>e.type,set:t=>{e.type=t}},isDerivedFrom:{writable:!0,configurable:!0,value:function(e){const t=this.baseMaterial;return e===t||t.isDerivedMaterial&&t.isDerivedFrom(e)||!1}},customProgramCacheKey:{writable:!0,configurable:!0,value:function(){return e.customProgramCacheKey()+"|"+r}},onBeforeCompile:{get(){return o},set(e){this[a]=e}},copy:{writable:!0,configurable:!0,value:function(t){return e.copy.call(this,t),e.isShaderMaterial||e.isDerivedMaterial||(b(this.extensions,t.extensions),b(this.defines,t.defines),b(this.uniforms,n.rDY.clone(t.uniforms))),this}},clone:{writable:!0,configurable:!0,value:function(){const t=new e.constructor;return u(t).copy(this)}},getDepthMaterial:{writable:!0,configurable:!0,value:function(){let r=this._depthMaterial;return r||(r=this._depthMaterial=U(e.isDerivedMaterial?e.getDepthMaterial():new n.lRF({depthPacking:n.mSO}),t),r.defines.IS_DEPTH_MATERIAL="",r.uniforms=this.uniforms),r}},getDistanceMaterial:{writable:!0,configurable:!0,value:function(){let r=this._distanceMaterial;return r||(r=this._distanceMaterial=U(e.isDerivedMaterial?e.getDistanceMaterial():new n.Lun,t),r.defines.IS_DISTANCE_MATERIAL="",r.uniforms=this.uniforms),r}},dispose:{writable:!0,configurable:!0,value(){const{_depthMaterial:t,_distanceMaterial:r}=this;t&&t.dispose(),r&&r.dispose(),e.dispose.call(this)}}};return i[r]=s,new s}function k(e,t,r,n,i){return(n||i||r)&&(e=e.replace(m,`\n${r}\nvoid troikaOrigMain${t}() {`),e+=`\nvoid main() {\n  ${n}\n  troikaOrigMain${t}();\n  ${i}\n}`),e}function A(e,t){return"uniforms"===e?void 0:"function"==typeof t?t.toString():t}let E=0;const F=new Map;n.ehD;const C=h({name:"Typr Font Parser",dependencies:[function(){return"undefined"==typeof window&&(self.window=self),function(e){var t={parse:function(e){var r=t._bin,n=new Uint8Array(e);if("ttcf"==r.readASCII(n,0,4)){var i=4;r.readUshort(n,i),i+=2,r.readUshort(n,i),i+=2;var a=r.readUint(n,i);i+=4;for(var o=[],s=0;s<a;s++){var u=r.readUint(n,i);i+=4,o.push(t._readFont(n,u))}return o}return[t._readFont(n,0)]},_readFont:function(e,r){var n=t._bin,i=r;n.readFixed(e,r),r+=4;var a=n.readUshort(e,r);r+=2,n.readUshort(e,r),r+=2,n.readUshort(e,r),r+=2,n.readUshort(e,r),r+=2;for(var o=["cmap","head","hhea","maxp","hmtx","name","OS/2","post","loca","glyf","kern","CFF ","GDEF","GPOS","GSUB","SVG "],s={_data:e,_offset:i},u={},l=0;l<a;l++){var c=n.readASCII(e,r,4);r+=4,n.readUint(e,r),r+=4;var f=n.readUint(e,r);r+=4;var h=n.readUint(e,r);r+=4,u[c]={offset:f,length:h}}for(l=0;l<o.length;l++){var d=o[l];u[d]&&(s[d.trim()]=t[d.trim()].parse(e,u[d].offset,u[d].length,s))}return s},_tabOffset:function(e,r,n){for(var i=t._bin,a=i.readUshort(e,n+4),o=n+12,s=0;s<a;s++){var u=i.readASCII(e,o,4);o+=4,i.readUint(e,o),o+=4;var l=i.readUint(e,o);if(o+=4,i.readUint(e,o),o+=4,u==r)return l}return 0}};t._bin={readFixed:function(e,t){return(e[t]<<8|e[t+1])+(e[t+2]<<8|e[t+3])/65540},readF2dot14:function(e,r){return t._bin.readShort(e,r)/16384},readInt:function(e,r){return t._bin._view(e).getInt32(r)},readInt8:function(e,r){return t._bin._view(e).getInt8(r)},readShort:function(e,r){return t._bin._view(e).getInt16(r)},readUshort:function(e,r){return t._bin._view(e).getUint16(r)},readUshorts:function(e,r,n){for(var i=[],a=0;a<n;a++)i.push(t._bin.readUshort(e,r+2*a));return i},readUint:function(e,r){return t._bin._view(e).getUint32(r)},readUint64:function(e,r){return 4294967296*t._bin.readUint(e,r)+t._bin.readUint(e,r+4)},readASCII:function(e,t,r){for(var n="",i=0;i<r;i++)n+=String.fromCharCode(e[t+i]);return n},readUnicode:function(e,t,r){for(var n="",i=0;i<r;i++){var a=e[t++]<<8|e[t++];n+=String.fromCharCode(a)}return n},_tdec:"undefined"!=typeof window&&window.TextDecoder?new window.TextDecoder:null,readUTF8:function(e,r,n){var i=t._bin._tdec;return i&&0==r&&n==e.length?i.decode(e):t._bin.readASCII(e,r,n)},readBytes:function(e,t,r){for(var n=[],i=0;i<r;i++)n.push(e[t+i]);return n},readASCIIArray:function(e,t,r){for(var n=[],i=0;i<r;i++)n.push(String.fromCharCode(e[t+i]));return n},_view:function(e){return e._dataView||(e._dataView=e.buffer?new DataView(e.buffer,e.byteOffset,e.byteLength):new DataView(new Uint8Array(e).buffer))}},t._lctf={},t._lctf.parse=function(e,r,n,i,a){var o=t._bin,s={},u=r;o.readFixed(e,r),r+=4;var l=o.readUshort(e,r);r+=2;var c=o.readUshort(e,r);r+=2;var f=o.readUshort(e,r);return r+=2,s.scriptList=t._lctf.readScriptList(e,u+l),s.featureList=t._lctf.readFeatureList(e,u+c),s.lookupList=t._lctf.readLookupList(e,u+f,a),s},t._lctf.readLookupList=function(e,r,n){var i=t._bin,a=r,o=[],s=i.readUshort(e,r);r+=2;for(var u=0;u<s;u++){var l=i.readUshort(e,r);r+=2;var c=t._lctf.readLookupTable(e,a+l,n);o.push(c)}return o},t._lctf.readLookupTable=function(e,r,n){var i=t._bin,a=r,o={tabs:[]};o.ltype=i.readUshort(e,r),r+=2,o.flag=i.readUshort(e,r),r+=2;var s=i.readUshort(e,r);r+=2;for(var u=o.ltype,l=0;l<s;l++){var c=i.readUshort(e,r);r+=2;var f=n(e,u,a+c,o);o.tabs.push(f)}return o},t._lctf.numOfOnes=function(e){for(var t=0,r=0;r<32;r++)0!=(e>>>r&1)&&t++;return t},t._lctf.readClassDef=function(e,r){var n=t._bin,i=[],a=n.readUshort(e,r);if(r+=2,1==a){var o=n.readUshort(e,r);r+=2;var s=n.readUshort(e,r);r+=2;for(var u=0;u<s;u++)i.push(o+u),i.push(o+u),i.push(n.readUshort(e,r)),r+=2}if(2==a){var l=n.readUshort(e,r);for(r+=2,u=0;u<l;u++)i.push(n.readUshort(e,r)),r+=2,i.push(n.readUshort(e,r)),r+=2,i.push(n.readUshort(e,r)),r+=2}return i},t._lctf.getInterval=function(e,t){for(var r=0;r<e.length;r+=3){var n=e[r],i=e[r+1];if(e[r+2],n<=t&&t<=i)return r}return-1},t._lctf.readCoverage=function(e,r){var n=t._bin,i={};i.fmt=n.readUshort(e,r),r+=2;var a=n.readUshort(e,r);return r+=2,1==i.fmt&&(i.tab=n.readUshorts(e,r,a)),2==i.fmt&&(i.tab=n.readUshorts(e,r,3*a)),i},t._lctf.coverageIndex=function(e,r){var n=e.tab;if(1==e.fmt)return n.indexOf(r);if(2==e.fmt){var i=t._lctf.getInterval(n,r);if(-1!=i)return n[i+2]+(r-n[i])}return-1},t._lctf.readFeatureList=function(e,r){var n=t._bin,i=r,a=[],o=n.readUshort(e,r);r+=2;for(var s=0;s<o;s++){var u=n.readASCII(e,r,4);r+=4;var l=n.readUshort(e,r);r+=2;var c=t._lctf.readFeatureTable(e,i+l);c.tag=u.trim(),a.push(c)}return a},t._lctf.readFeatureTable=function(e,r){var n=t._bin,i=r,a={},o=n.readUshort(e,r);r+=2,o>0&&(a.featureParams=i+o);var s=n.readUshort(e,r);r+=2,a.tab=[];for(var u=0;u<s;u++)a.tab.push(n.readUshort(e,r+2*u));return a},t._lctf.readScriptList=function(e,r){var n=t._bin,i=r,a={},o=n.readUshort(e,r);r+=2;for(var s=0;s<o;s++){var u=n.readASCII(e,r,4);r+=4;var l=n.readUshort(e,r);r+=2,a[u.trim()]=t._lctf.readScriptTable(e,i+l)}return a},t._lctf.readScriptTable=function(e,r){var n=t._bin,i=r,a={},o=n.readUshort(e,r);r+=2,o>0&&(a.default=t._lctf.readLangSysTable(e,i+o));var s=n.readUshort(e,r);r+=2;for(var u=0;u<s;u++){var l=n.readASCII(e,r,4);r+=4;var c=n.readUshort(e,r);r+=2,a[l.trim()]=t._lctf.readLangSysTable(e,i+c)}return a},t._lctf.readLangSysTable=function(e,r){var n=t._bin,i={};n.readUshort(e,r),r+=2,i.reqFeature=n.readUshort(e,r),r+=2;var a=n.readUshort(e,r);return r+=2,i.features=n.readUshorts(e,r,a),i},t.CFF={},t.CFF.parse=function(e,r,n){var i=t._bin;(e=new Uint8Array(e.buffer,r,n))[r=0],e[++r],e[++r],e[++r],r++;var a=[];r=t.CFF.readIndex(e,r,a);for(var o=[],s=0;s<a.length-1;s++)o.push(i.readASCII(e,r+a[s],a[s+1]-a[s]));r+=a[a.length-1];var u=[];r=t.CFF.readIndex(e,r,u);var l=[];for(s=0;s<u.length-1;s++)l.push(t.CFF.readDict(e,r+u[s],r+u[s+1]));r+=u[u.length-1];var c=l[0],f=[];r=t.CFF.readIndex(e,r,f);var h=[];for(s=0;s<f.length-1;s++)h.push(i.readASCII(e,r+f[s],f[s+1]-f[s]));if(r+=f[f.length-1],t.CFF.readSubrs(e,r,c),c.CharStrings){r=c.CharStrings,f=[],r=t.CFF.readIndex(e,r,f);var d=[];for(s=0;s<f.length-1;s++)d.push(i.readBytes(e,r+f[s],f[s+1]-f[s]));c.CharStrings=d}if(c.ROS){r=c.FDArray;var p=[];for(r=t.CFF.readIndex(e,r,p),c.FDArray=[],s=0;s<p.length-1;s++){var v=t.CFF.readDict(e,r+p[s],r+p[s+1]);t.CFF._readFDict(e,v,h),c.FDArray.push(v)}r+=p[p.length-1],r=c.FDSelect,c.FDSelect=[];var g=e[r];if(r++,3!=g)throw g;var m=i.readUshort(e,r);for(r+=2,s=0;s<m+1;s++)c.FDSelect.push(i.readUshort(e,r),e[r+2]),r+=3}return c.Encoding&&(c.Encoding=t.CFF.readEncoding(e,c.Encoding,c.CharStrings.length)),c.charset&&(c.charset=t.CFF.readCharset(e,c.charset,c.CharStrings.length)),t.CFF._readFDict(e,c,h),c},t.CFF._readFDict=function(e,r,n){var i;for(var a in r.Private&&(i=r.Private[1],r.Private=t.CFF.readDict(e,i,i+r.Private[0]),r.Private.Subrs&&t.CFF.readSubrs(e,i+r.Private.Subrs,r.Private)),r)-1!=["FamilyName","FontName","FullName","Notice","version","Copyright"].indexOf(a)&&(r[a]=n[r[a]-426+35])},t.CFF.readSubrs=function(e,r,n){var i=t._bin,a=[];r=t.CFF.readIndex(e,r,a);var o,s=a.length;o=s<1240?107:s<33900?1131:32768,n.Bias=o,n.Subrs=[];for(var u=0;u<a.length-1;u++)n.Subrs.push(i.readBytes(e,r+a[u],a[u+1]-a[u]))},t.CFF.tableSE=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,0,111,112,113,114,0,115,116,117,118,119,120,121,122,0,123,0,124,125,126,127,128,129,130,131,0,132,133,0,134,135,136,137,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,138,0,139,0,0,0,0,140,141,142,143,0,0,0,0,0,144,0,0,0,145,0,0,146,147,148,149,0,0,0,0],t.CFF.glyphByUnicode=function(e,t){for(var r=0;r<e.charset.length;r++)if(e.charset[r]==t)return r;return-1},t.CFF.glyphBySE=function(e,r){return r<0||r>255?-1:t.CFF.glyphByUnicode(e,t.CFF.tableSE[r])},t.CFF.readEncoding=function(e,r,n){t._bin;var i=[".notdef"],a=e[r];if(r++,0!=a)throw"error: unknown encoding format: "+a;var o=e[r];r++;for(var s=0;s<o;s++)i.push(e[r+s]);return i},t.CFF.readCharset=function(e,r,n){var i=t._bin,a=[".notdef"],o=e[r];if(r++,0==o)for(var s=0;s<n;s++){var u=i.readUshort(e,r);r+=2,a.push(u)}else{if(1!=o&&2!=o)throw"error: format: "+o;for(;a.length<n;){u=i.readUshort(e,r),r+=2;var l=0;for(1==o?(l=e[r],r++):(l=i.readUshort(e,r),r+=2),s=0;s<=l;s++)a.push(u),u++}}return a},t.CFF.readIndex=function(e,r,n){var i=t._bin,a=i.readUshort(e,r)+1,o=e[r+=2];if(r++,1==o)for(var s=0;s<a;s++)n.push(e[r+s]);else if(2==o)for(s=0;s<a;s++)n.push(i.readUshort(e,r+2*s));else if(3==o)for(s=0;s<a;s++)n.push(16777215&i.readUint(e,r+3*s-1));else if(1!=a)throw"unsupported offset size: "+o+", count: "+a;return(r+=a*o)-1},t.CFF.getCharString=function(e,r,n){var i=t._bin,a=e[r],o=e[r+1];e[r+2],e[r+3],e[r+4];var s=1,u=null,l=null;a<=20&&(u=a,s=1),12==a&&(u=100*a+o,s=2),21<=a&&a<=27&&(u=a,s=1),28==a&&(l=i.readShort(e,r+1),s=3),29<=a&&a<=31&&(u=a,s=1),32<=a&&a<=246&&(l=a-139,s=1),247<=a&&a<=250&&(l=256*(a-247)+o+108,s=2),251<=a&&a<=254&&(l=256*-(a-251)-o-108,s=2),255==a&&(l=i.readInt(e,r+1)/65535,s=5),n.val=null!=l?l:"o"+u,n.size=s},t.CFF.readCharString=function(e,r,n){for(var i=r+n,a=t._bin,o=[];r<i;){var s=e[r],u=e[r+1];e[r+2],e[r+3],e[r+4];var l=1,c=null,f=null;s<=20&&(c=s,l=1),12==s&&(c=100*s+u,l=2),19!=s&&20!=s||(c=s,l=2),21<=s&&s<=27&&(c=s,l=1),28==s&&(f=a.readShort(e,r+1),l=3),29<=s&&s<=31&&(c=s,l=1),32<=s&&s<=246&&(f=s-139,l=1),247<=s&&s<=250&&(f=256*(s-247)+u+108,l=2),251<=s&&s<=254&&(f=256*-(s-251)-u-108,l=2),255==s&&(f=a.readInt(e,r+1)/65535,l=5),o.push(null!=f?f:"o"+c),r+=l}return o},t.CFF.readDict=function(e,r,n){for(var i=t._bin,a={},o=[];r<n;){var s=e[r],u=e[r+1];e[r+2],e[r+3],e[r+4];var l=1,c=null,f=null;if(28==s&&(f=i.readShort(e,r+1),l=3),29==s&&(f=i.readInt(e,r+1),l=5),32<=s&&s<=246&&(f=s-139,l=1),247<=s&&s<=250&&(f=256*(s-247)+u+108,l=2),251<=s&&s<=254&&(f=256*-(s-251)-u-108,l=2),255==s)throw f=i.readInt(e,r+1)/65535,l=5,"unknown number";if(30==s){var h=[];for(l=1;;){var d=e[r+l];l++;var p=d>>4,v=15&d;if(15!=p&&h.push(p),15!=v&&h.push(v),15==v)break}for(var g="",m=[0,1,2,3,4,5,6,7,8,9,".","e","e-","reserved","-","endOfNumber"],y=0;y<h.length;y++)g+=m[h[y]];f=parseFloat(g)}s<=21&&(c=["version","Notice","FullName","FamilyName","Weight","FontBBox","BlueValues","OtherBlues","FamilyBlues","FamilyOtherBlues","StdHW","StdVW","escape","UniqueID","XUID","charset","Encoding","CharStrings","Private","Subrs","defaultWidthX","nominalWidthX"][s],l=1,12==s&&(c=["Copyright","isFixedPitch","ItalicAngle","UnderlinePosition","UnderlineThickness","PaintType","CharstringType","FontMatrix","StrokeWidth","BlueScale","BlueShift","BlueFuzz","StemSnapH","StemSnapV","ForceBold",0,0,"LanguageGroup","ExpansionFactor","initialRandomSeed","SyntheticBase","PostScript","BaseFontName","BaseFontBlend",0,0,0,0,0,0,"ROS","CIDFontVersion","CIDFontRevision","CIDFontType","CIDCount","UIDBase","FDArray","FDSelect","FontName"][u],l=2)),null!=c?(a[c]=1==o.length?o[0]:o,o=[]):o.push(f),r+=l}return a},t.cmap={},t.cmap.parse=function(e,r,n){e=new Uint8Array(e.buffer,r,n),r=0;var i=t._bin,a={};i.readUshort(e,r),r+=2;var o=i.readUshort(e,r);r+=2;var s=[];a.tables=[];for(var u=0;u<o;u++){var l=i.readUshort(e,r);r+=2;var c=i.readUshort(e,r);r+=2;var f=i.readUint(e,r);r+=4;var h="p"+l+"e"+c,d=s.indexOf(f);if(-1==d){var p;d=a.tables.length,s.push(f);var v=i.readUshort(e,f);0==v?p=t.cmap.parse0(e,f):4==v?p=t.cmap.parse4(e,f):6==v?p=t.cmap.parse6(e,f):12==v?p=t.cmap.parse12(e,f):console.debug("unknown format: "+v,l,c,f),a.tables.push(p)}if(null!=a[h])throw"multiple tables for one platform+encoding";a[h]=d}return a},t.cmap.parse0=function(e,r){var n=t._bin,i={};i.format=n.readUshort(e,r),r+=2;var a=n.readUshort(e,r);r+=2,n.readUshort(e,r),r+=2,i.map=[];for(var o=0;o<a-6;o++)i.map.push(e[r+o]);return i},t.cmap.parse4=function(e,r){var n=t._bin,i=r,a={};a.format=n.readUshort(e,r),r+=2;var o=n.readUshort(e,r);r+=2,n.readUshort(e,r),r+=2;var s=n.readUshort(e,r);r+=2;var u=s/2;a.searchRange=n.readUshort(e,r),r+=2,a.entrySelector=n.readUshort(e,r),r+=2,a.rangeShift=n.readUshort(e,r),r+=2,a.endCount=n.readUshorts(e,r,u),r+=2*u,r+=2,a.startCount=n.readUshorts(e,r,u),r+=2*u,a.idDelta=[];for(var l=0;l<u;l++)a.idDelta.push(n.readShort(e,r)),r+=2;for(a.idRangeOffset=n.readUshorts(e,r,u),r+=2*u,a.glyphIdArray=[];r<i+o;)a.glyphIdArray.push(n.readUshort(e,r)),r+=2;return a},t.cmap.parse6=function(e,r){var n=t._bin,i={};i.format=n.readUshort(e,r),r+=2,n.readUshort(e,r),r+=2,n.readUshort(e,r),r+=2,i.firstCode=n.readUshort(e,r),r+=2;var a=n.readUshort(e,r);r+=2,i.glyphIdArray=[];for(var o=0;o<a;o++)i.glyphIdArray.push(n.readUshort(e,r)),r+=2;return i},t.cmap.parse12=function(e,r){var n=t._bin,i={};i.format=n.readUshort(e,r),r+=2,r+=2,n.readUint(e,r),r+=4,n.readUint(e,r),r+=4;var a=n.readUint(e,r);r+=4,i.groups=[];for(var o=0;o<a;o++){var s=r+12*o,u=n.readUint(e,s+0),l=n.readUint(e,s+4),c=n.readUint(e,s+8);i.groups.push([u,l,c])}return i},t.glyf={},t.glyf.parse=function(e,t,r,n){for(var i=[],a=0;a<n.maxp.numGlyphs;a++)i.push(null);return i},t.glyf._parseGlyf=function(e,r){var n=t._bin,i=e._data,a=t._tabOffset(i,"glyf",e._offset)+e.loca[r];if(e.loca[r]==e.loca[r+1])return null;var o={};if(o.noc=n.readShort(i,a),a+=2,o.xMin=n.readShort(i,a),a+=2,o.yMin=n.readShort(i,a),a+=2,o.xMax=n.readShort(i,a),a+=2,o.yMax=n.readShort(i,a),a+=2,o.xMin>=o.xMax||o.yMin>=o.yMax)return null;if(o.noc>0){o.endPts=[];for(var s=0;s<o.noc;s++)o.endPts.push(n.readUshort(i,a)),a+=2;var u=n.readUshort(i,a);if(a+=2,i.length-a<u)return null;o.instructions=n.readBytes(i,a,u),a+=u;var l=o.endPts[o.noc-1]+1;for(o.flags=[],s=0;s<l;s++){var c=i[a];if(a++,o.flags.push(c),0!=(8&c)){var f=i[a];a++;for(var h=0;h<f;h++)o.flags.push(c),s++}}for(o.xs=[],s=0;s<l;s++){var d=0!=(2&o.flags[s]),p=0!=(16&o.flags[s]);d?(o.xs.push(p?i[a]:-i[a]),a++):p?o.xs.push(0):(o.xs.push(n.readShort(i,a)),a+=2)}for(o.ys=[],s=0;s<l;s++)d=0!=(4&o.flags[s]),p=0!=(32&o.flags[s]),d?(o.ys.push(p?i[a]:-i[a]),a++):p?o.ys.push(0):(o.ys.push(n.readShort(i,a)),a+=2);var v=0,g=0;for(s=0;s<l;s++)v+=o.xs[s],g+=o.ys[s],o.xs[s]=v,o.ys[s]=g}else{var m;o.parts=[];do{m=n.readUshort(i,a),a+=2;var y={m:{a:1,b:0,c:0,d:1,tx:0,ty:0},p1:-1,p2:-1};if(o.parts.push(y),y.glyphIndex=n.readUshort(i,a),a+=2,1&m){var _=n.readShort(i,a);a+=2;var b=n.readShort(i,a);a+=2}else _=n.readInt8(i,a),a++,b=n.readInt8(i,a),a++;2&m?(y.m.tx=_,y.m.ty=b):(y.p1=_,y.p2=b),8&m?(y.m.a=y.m.d=n.readF2dot14(i,a),a+=2):64&m?(y.m.a=n.readF2dot14(i,a),a+=2,y.m.d=n.readF2dot14(i,a),a+=2):128&m&&(y.m.a=n.readF2dot14(i,a),a+=2,y.m.b=n.readF2dot14(i,a),a+=2,y.m.c=n.readF2dot14(i,a),a+=2,y.m.d=n.readF2dot14(i,a),a+=2)}while(32&m);if(256&m){var x=n.readUshort(i,a);for(a+=2,o.instr=[],s=0;s<x;s++)o.instr.push(i[a]),a++}}return o},t.GDEF={},t.GDEF.parse=function(e,r,n,i){var a=r;r+=4;var o=t._bin.readUshort(e,r);return{glyphClassDef:0===o?null:t._lctf.readClassDef(e,a+o)}},t.GPOS={},t.GPOS.parse=function(e,r,n,i){return t._lctf.parse(e,r,n,i,t.GPOS.subt)},t.GPOS.subt=function(e,r,n,i){var a=t._bin,o=n,s={};if(s.fmt=a.readUshort(e,n),n+=2,1==r||2==r||3==r||7==r||8==r&&s.fmt<=2){var u=a.readUshort(e,n);n+=2,s.coverage=t._lctf.readCoverage(e,u+o)}if(1==r&&1==s.fmt){var l=a.readUshort(e,n);n+=2,0!=l&&(s.pos=t.GPOS.readValueRecord(e,n,l))}else if(2==r&&s.fmt>=1&&s.fmt<=2){l=a.readUshort(e,n),n+=2;var c=a.readUshort(e,n);n+=2;var f=t._lctf.numOfOnes(l),h=t._lctf.numOfOnes(c);if(1==s.fmt){s.pairsets=[];var d=a.readUshort(e,n);n+=2;for(var p=0;p<d;p++){var v=o+a.readUshort(e,n);n+=2;var g=a.readUshort(e,v);v+=2;for(var m=[],y=0;y<g;y++){var _=a.readUshort(e,v);v+=2,0!=l&&(U=t.GPOS.readValueRecord(e,v,l),v+=2*f),0!=c&&(k=t.GPOS.readValueRecord(e,v,c),v+=2*h),m.push({gid2:_,val1:U,val2:k})}s.pairsets.push(m)}}if(2==s.fmt){var b=a.readUshort(e,n);n+=2;var x=a.readUshort(e,n);n+=2;var S=a.readUshort(e,n);n+=2;var w=a.readUshort(e,n);for(n+=2,s.classDef1=t._lctf.readClassDef(e,o+b),s.classDef2=t._lctf.readClassDef(e,o+x),s.matrix=[],p=0;p<S;p++){var T=[];for(y=0;y<w;y++){var U=null,k=null;0!=l&&(U=t.GPOS.readValueRecord(e,n,l),n+=2*f),0!=c&&(k=t.GPOS.readValueRecord(e,n,c),n+=2*h),T.push({val1:U,val2:k})}s.matrix.push(T)}}}else if(4==r&&1==s.fmt)s.markCoverage=t._lctf.readCoverage(e,a.readUshort(e,n)+o),s.baseCoverage=t._lctf.readCoverage(e,a.readUshort(e,n+2)+o),s.markClassCount=a.readUshort(e,n+4),s.markArray=t.GPOS.readMarkArray(e,a.readUshort(e,n+6)+o),s.baseArray=t.GPOS.readBaseArray(e,a.readUshort(e,n+8)+o,s.markClassCount);else if(6==r&&1==s.fmt)s.mark1Coverage=t._lctf.readCoverage(e,a.readUshort(e,n)+o),s.mark2Coverage=t._lctf.readCoverage(e,a.readUshort(e,n+2)+o),s.markClassCount=a.readUshort(e,n+4),s.mark1Array=t.GPOS.readMarkArray(e,a.readUshort(e,n+6)+o),s.mark2Array=t.GPOS.readBaseArray(e,a.readUshort(e,n+8)+o,s.markClassCount);else{if(9==r&&1==s.fmt){var A=a.readUshort(e,n);n+=2;var E=a.readUint(e,n);if(n+=4,9==i.ltype)i.ltype=A;else if(i.ltype!=A)throw"invalid extension substitution";return t.GPOS.subt(e,i.ltype,o+E)}console.debug("unsupported GPOS table LookupType",r,"format",s.fmt)}return s},t.GPOS.readValueRecord=function(e,r,n){var i=t._bin,a=[];return a.push(1&n?i.readShort(e,r):0),r+=1&n?2:0,a.push(2&n?i.readShort(e,r):0),r+=2&n?2:0,a.push(4&n?i.readShort(e,r):0),r+=4&n?2:0,a.push(8&n?i.readShort(e,r):0),r+=8&n?2:0,a},t.GPOS.readBaseArray=function(e,r,n){var i=t._bin,a=[],o=r,s=i.readUshort(e,r);r+=2;for(var u=0;u<s;u++){for(var l=[],c=0;c<n;c++)l.push(t.GPOS.readAnchorRecord(e,o+i.readUshort(e,r))),r+=2;a.push(l)}return a},t.GPOS.readMarkArray=function(e,r){var n=t._bin,i=[],a=r,o=n.readUshort(e,r);r+=2;for(var s=0;s<o;s++){var u=t.GPOS.readAnchorRecord(e,n.readUshort(e,r+2)+a);u.markClass=n.readUshort(e,r),i.push(u),r+=4}return i},t.GPOS.readAnchorRecord=function(e,r){var n=t._bin,i={};return i.fmt=n.readUshort(e,r),i.x=n.readShort(e,r+2),i.y=n.readShort(e,r+4),i},t.GSUB={},t.GSUB.parse=function(e,r,n,i){return t._lctf.parse(e,r,n,i,t.GSUB.subt)},t.GSUB.subt=function(e,r,n,i){var a=t._bin,o=n,s={};if(s.fmt=a.readUshort(e,n),n+=2,1!=r&&2!=r&&4!=r&&5!=r&&6!=r)return null;if(1==r||2==r||4==r||5==r&&s.fmt<=2||6==r&&s.fmt<=2){var u=a.readUshort(e,n);n+=2,s.coverage=t._lctf.readCoverage(e,o+u)}if(1==r&&s.fmt>=1&&s.fmt<=2){if(1==s.fmt)s.delta=a.readShort(e,n),n+=2;else if(2==s.fmt){var l=a.readUshort(e,n);n+=2,s.newg=a.readUshorts(e,n,l),n+=2*s.newg.length}}else if(2==r&&1==s.fmt){l=a.readUshort(e,n),n+=2,s.seqs=[];for(var c=0;c<l;c++){var f=a.readUshort(e,n)+o;n+=2;var h=a.readUshort(e,f);s.seqs.push(a.readUshorts(e,f+2,h))}}else if(4==r)for(s.vals=[],l=a.readUshort(e,n),n+=2,c=0;c<l;c++){var d=a.readUshort(e,n);n+=2,s.vals.push(t.GSUB.readLigatureSet(e,o+d))}else if(5==r&&2==s.fmt){if(2==s.fmt){var p=a.readUshort(e,n);n+=2,s.cDef=t._lctf.readClassDef(e,o+p),s.scset=[];var v=a.readUshort(e,n);for(n+=2,c=0;c<v;c++){var g=a.readUshort(e,n);n+=2,s.scset.push(0==g?null:t.GSUB.readSubClassSet(e,o+g))}}}else if(6==r&&3==s.fmt){if(3==s.fmt){for(c=0;c<3;c++){l=a.readUshort(e,n),n+=2;for(var m=[],y=0;y<l;y++)m.push(t._lctf.readCoverage(e,o+a.readUshort(e,n+2*y)));n+=2*l,0==c&&(s.backCvg=m),1==c&&(s.inptCvg=m),2==c&&(s.ahedCvg=m)}l=a.readUshort(e,n),n+=2,s.lookupRec=t.GSUB.readSubstLookupRecords(e,n,l)}}else{if(7==r&&1==s.fmt){var _=a.readUshort(e,n);n+=2;var b=a.readUint(e,n);if(n+=4,9==i.ltype)i.ltype=_;else if(i.ltype!=_)throw"invalid extension substitution";return t.GSUB.subt(e,i.ltype,o+b)}console.debug("unsupported GSUB table LookupType",r,"format",s.fmt)}return s},t.GSUB.readSubClassSet=function(e,r){var n=t._bin.readUshort,i=r,a=[],o=n(e,r);r+=2;for(var s=0;s<o;s++){var u=n(e,r);r+=2,a.push(t.GSUB.readSubClassRule(e,i+u))}return a},t.GSUB.readSubClassRule=function(e,r){var n=t._bin.readUshort,i={},a=n(e,r),o=n(e,r+=2);r+=2,i.input=[];for(var s=0;s<a-1;s++)i.input.push(n(e,r)),r+=2;return i.substLookupRecords=t.GSUB.readSubstLookupRecords(e,r,o),i},t.GSUB.readSubstLookupRecords=function(e,r,n){for(var i=t._bin.readUshort,a=[],o=0;o<n;o++)a.push(i(e,r),i(e,r+2)),r+=4;return a},t.GSUB.readChainSubClassSet=function(e,r){var n=t._bin,i=r,a=[],o=n.readUshort(e,r);r+=2;for(var s=0;s<o;s++){var u=n.readUshort(e,r);r+=2,a.push(t.GSUB.readChainSubClassRule(e,i+u))}return a},t.GSUB.readChainSubClassRule=function(e,r){for(var n=t._bin,i={},a=["backtrack","input","lookahead"],o=0;o<a.length;o++){var s=n.readUshort(e,r);r+=2,1==o&&s--,i[a[o]]=n.readUshorts(e,r,s),r+=2*i[a[o]].length}return s=n.readUshort(e,r),r+=2,i.subst=n.readUshorts(e,r,2*s),r+=2*i.subst.length,i},t.GSUB.readLigatureSet=function(e,r){var n=t._bin,i=r,a=[],o=n.readUshort(e,r);r+=2;for(var s=0;s<o;s++){var u=n.readUshort(e,r);r+=2,a.push(t.GSUB.readLigature(e,i+u))}return a},t.GSUB.readLigature=function(e,r){var n=t._bin,i={chain:[]};i.nglyph=n.readUshort(e,r),r+=2;var a=n.readUshort(e,r);r+=2;for(var o=0;o<a-1;o++)i.chain.push(n.readUshort(e,r)),r+=2;return i},t.head={},t.head.parse=function(e,r,n){var i=t._bin,a={};return i.readFixed(e,r),r+=4,a.fontRevision=i.readFixed(e,r),r+=4,i.readUint(e,r),r+=4,i.readUint(e,r),r+=4,a.flags=i.readUshort(e,r),r+=2,a.unitsPerEm=i.readUshort(e,r),r+=2,a.created=i.readUint64(e,r),r+=8,a.modified=i.readUint64(e,r),r+=8,a.xMin=i.readShort(e,r),r+=2,a.yMin=i.readShort(e,r),r+=2,a.xMax=i.readShort(e,r),r+=2,a.yMax=i.readShort(e,r),r+=2,a.macStyle=i.readUshort(e,r),r+=2,a.lowestRecPPEM=i.readUshort(e,r),r+=2,a.fontDirectionHint=i.readShort(e,r),r+=2,a.indexToLocFormat=i.readShort(e,r),r+=2,a.glyphDataFormat=i.readShort(e,r),r+=2,a},t.hhea={},t.hhea.parse=function(e,r,n){var i=t._bin,a={};return i.readFixed(e,r),r+=4,a.ascender=i.readShort(e,r),r+=2,a.descender=i.readShort(e,r),r+=2,a.lineGap=i.readShort(e,r),r+=2,a.advanceWidthMax=i.readUshort(e,r),r+=2,a.minLeftSideBearing=i.readShort(e,r),r+=2,a.minRightSideBearing=i.readShort(e,r),r+=2,a.xMaxExtent=i.readShort(e,r),r+=2,a.caretSlopeRise=i.readShort(e,r),r+=2,a.caretSlopeRun=i.readShort(e,r),r+=2,a.caretOffset=i.readShort(e,r),r+=2,r+=8,a.metricDataFormat=i.readShort(e,r),r+=2,a.numberOfHMetrics=i.readUshort(e,r),r+=2,a},t.hmtx={},t.hmtx.parse=function(e,r,n,i){for(var a=t._bin,o={aWidth:[],lsBearing:[]},s=0,u=0,l=0;l<i.maxp.numGlyphs;l++)l<i.hhea.numberOfHMetrics&&(s=a.readUshort(e,r),r+=2,u=a.readShort(e,r),r+=2),o.aWidth.push(s),o.lsBearing.push(u);return o},t.kern={},t.kern.parse=function(e,r,n,i){var a=t._bin,o=a.readUshort(e,r);if(r+=2,1==o)return t.kern.parseV1(e,r-2,n,i);var s=a.readUshort(e,r);r+=2;for(var u={glyph1:[],rval:[]},l=0;l<s;l++){r+=2,n=a.readUshort(e,r),r+=2;var c=a.readUshort(e,r);r+=2;var f=c>>>8;if(0!=(f&=15))throw"unknown kern table format: "+f;r=t.kern.readFormat0(e,r,u)}return u},t.kern.parseV1=function(e,r,n,i){var a=t._bin;a.readFixed(e,r),r+=4;var o=a.readUint(e,r);r+=4;for(var s={glyph1:[],rval:[]},u=0;u<o;u++){a.readUint(e,r),r+=4;var l=a.readUshort(e,r);r+=2,a.readUshort(e,r),r+=2;var c=l>>>8;if(0!=(c&=15))throw"unknown kern table format: "+c;r=t.kern.readFormat0(e,r,s)}return s},t.kern.readFormat0=function(e,r,n){var i=t._bin,a=-1,o=i.readUshort(e,r);r+=2,i.readUshort(e,r),r+=2,i.readUshort(e,r),r+=2,i.readUshort(e,r),r+=2;for(var s=0;s<o;s++){var u=i.readUshort(e,r);r+=2;var l=i.readUshort(e,r);r+=2;var c=i.readShort(e,r);r+=2,u!=a&&(n.glyph1.push(u),n.rval.push({glyph2:[],vals:[]}));var f=n.rval[n.rval.length-1];f.glyph2.push(l),f.vals.push(c),a=u}return r},t.loca={},t.loca.parse=function(e,r,n,i){var a=t._bin,o=[],s=i.head.indexToLocFormat,u=i.maxp.numGlyphs+1;if(0==s)for(var l=0;l<u;l++)o.push(a.readUshort(e,r+(l<<1))<<1);if(1==s)for(l=0;l<u;l++)o.push(a.readUint(e,r+(l<<2)));return o},t.maxp={},t.maxp.parse=function(e,r,n){var i=t._bin,a={},o=i.readUint(e,r);return r+=4,a.numGlyphs=i.readUshort(e,r),r+=2,65536==o&&(a.maxPoints=i.readUshort(e,r),r+=2,a.maxContours=i.readUshort(e,r),r+=2,a.maxCompositePoints=i.readUshort(e,r),r+=2,a.maxCompositeContours=i.readUshort(e,r),r+=2,a.maxZones=i.readUshort(e,r),r+=2,a.maxTwilightPoints=i.readUshort(e,r),r+=2,a.maxStorage=i.readUshort(e,r),r+=2,a.maxFunctionDefs=i.readUshort(e,r),r+=2,a.maxInstructionDefs=i.readUshort(e,r),r+=2,a.maxStackElements=i.readUshort(e,r),r+=2,a.maxSizeOfInstructions=i.readUshort(e,r),r+=2,a.maxComponentElements=i.readUshort(e,r),r+=2,a.maxComponentDepth=i.readUshort(e,r),r+=2),a},t.name={},t.name.parse=function(e,r,n){var i=t._bin,a={};i.readUshort(e,r),r+=2;var o=i.readUshort(e,r);r+=2,i.readUshort(e,r);for(var s,u=["copyright","fontFamily","fontSubfamily","ID","fullName","version","postScriptName","trademark","manufacturer","designer","description","urlVendor","urlDesigner","licence","licenceURL","---","typoFamilyName","typoSubfamilyName","compatibleFull","sampleText","postScriptCID","wwsFamilyName","wwsSubfamilyName","lightPalette","darkPalette"],l=r+=2,c=0;c<o;c++){var f=i.readUshort(e,r);r+=2;var h=i.readUshort(e,r);r+=2;var d=i.readUshort(e,r);r+=2;var p=i.readUshort(e,r);r+=2;var v=i.readUshort(e,r);r+=2;var g=i.readUshort(e,r);r+=2;var m,y=u[p],_=l+12*o+g;if(0==f)m=i.readUnicode(e,_,v/2);else if(3==f&&0==h)m=i.readUnicode(e,_,v/2);else if(0==h)m=i.readASCII(e,_,v);else if(1==h)m=i.readUnicode(e,_,v/2);else if(3==h)m=i.readUnicode(e,_,v/2);else{if(1!=f)throw"unknown encoding "+h+", platformID: "+f;m=i.readASCII(e,_,v),console.debug("reading unknown MAC encoding "+h+" as ASCII")}var b="p"+f+","+d.toString(16);null==a[b]&&(a[b]={}),a[b][void 0!==y?y:p]=m,a[b]._lang=d}for(var x in a)if(null!=a[x].postScriptName&&1033==a[x]._lang)return a[x];for(var x in a)if(null!=a[x].postScriptName&&0==a[x]._lang)return a[x];for(var x in a)if(null!=a[x].postScriptName&&3084==a[x]._lang)return a[x];for(var x in a)if(null!=a[x].postScriptName)return a[x];for(var x in a){s=x;break}return console.debug("returning name table with languageID "+a[s]._lang),a[s]},t["OS/2"]={},t["OS/2"].parse=function(e,r,n){var i=t._bin.readUshort(e,r);r+=2;var a={};if(0==i)t["OS/2"].version0(e,r,a);else if(1==i)t["OS/2"].version1(e,r,a);else if(2==i||3==i||4==i)t["OS/2"].version2(e,r,a);else{if(5!=i)throw"unknown OS/2 table version: "+i;t["OS/2"].version5(e,r,a)}return a},t["OS/2"].version0=function(e,r,n){var i=t._bin;return n.xAvgCharWidth=i.readShort(e,r),r+=2,n.usWeightClass=i.readUshort(e,r),r+=2,n.usWidthClass=i.readUshort(e,r),r+=2,n.fsType=i.readUshort(e,r),r+=2,n.ySubscriptXSize=i.readShort(e,r),r+=2,n.ySubscriptYSize=i.readShort(e,r),r+=2,n.ySubscriptXOffset=i.readShort(e,r),r+=2,n.ySubscriptYOffset=i.readShort(e,r),r+=2,n.ySuperscriptXSize=i.readShort(e,r),r+=2,n.ySuperscriptYSize=i.readShort(e,r),r+=2,n.ySuperscriptXOffset=i.readShort(e,r),r+=2,n.ySuperscriptYOffset=i.readShort(e,r),r+=2,n.yStrikeoutSize=i.readShort(e,r),r+=2,n.yStrikeoutPosition=i.readShort(e,r),r+=2,n.sFamilyClass=i.readShort(e,r),r+=2,n.panose=i.readBytes(e,r,10),r+=10,n.ulUnicodeRange1=i.readUint(e,r),r+=4,n.ulUnicodeRange2=i.readUint(e,r),r+=4,n.ulUnicodeRange3=i.readUint(e,r),r+=4,n.ulUnicodeRange4=i.readUint(e,r),r+=4,n.achVendID=[i.readInt8(e,r),i.readInt8(e,r+1),i.readInt8(e,r+2),i.readInt8(e,r+3)],r+=4,n.fsSelection=i.readUshort(e,r),r+=2,n.usFirstCharIndex=i.readUshort(e,r),r+=2,n.usLastCharIndex=i.readUshort(e,r),r+=2,n.sTypoAscender=i.readShort(e,r),r+=2,n.sTypoDescender=i.readShort(e,r),r+=2,n.sTypoLineGap=i.readShort(e,r),r+=2,n.usWinAscent=i.readUshort(e,r),r+=2,n.usWinDescent=i.readUshort(e,r),r+2},t["OS/2"].version1=function(e,r,n){var i=t._bin;return r=t["OS/2"].version0(e,r,n),n.ulCodePageRange1=i.readUint(e,r),r+=4,n.ulCodePageRange2=i.readUint(e,r),r+4},t["OS/2"].version2=function(e,r,n){var i=t._bin;return r=t["OS/2"].version1(e,r,n),n.sxHeight=i.readShort(e,r),r+=2,n.sCapHeight=i.readShort(e,r),r+=2,n.usDefault=i.readUshort(e,r),r+=2,n.usBreak=i.readUshort(e,r),r+=2,n.usMaxContext=i.readUshort(e,r),r+2},t["OS/2"].version5=function(e,r,n){var i=t._bin;return r=t["OS/2"].version2(e,r,n),n.usLowerOpticalPointSize=i.readUshort(e,r),r+=2,n.usUpperOpticalPointSize=i.readUshort(e,r),r+2},t.post={},t.post.parse=function(e,r,n){var i=t._bin,a={};return a.version=i.readFixed(e,r),r+=4,a.italicAngle=i.readFixed(e,r),r+=4,a.underlinePosition=i.readShort(e,r),r+=2,a.underlineThickness=i.readShort(e,r),r+=2,a},null==t&&(t={}),null==t.U&&(t.U={}),t.U.codeToGlyph=function(e,t){var r=e.cmap,n=-1;if(null!=r.p0e4?n=r.p0e4:null!=r.p3e1?n=r.p3e1:null!=r.p1e0?n=r.p1e0:null!=r.p0e3&&(n=r.p0e3),-1==n)throw"no familiar platform and encoding!";var i=r.tables[n];if(0==i.format)return t>=i.map.length?0:i.map[t];if(4==i.format){for(var a=-1,o=0;o<i.endCount.length;o++)if(t<=i.endCount[o]){a=o;break}return-1==a||i.startCount[a]>t?0:65535&(0!=i.idRangeOffset[a]?i.glyphIdArray[t-i.startCount[a]+(i.idRangeOffset[a]>>1)-(i.idRangeOffset.length-a)]:t+i.idDelta[a])}if(12==i.format){if(t>i.groups[i.groups.length-1][1])return 0;for(o=0;o<i.groups.length;o++){var s=i.groups[o];if(s[0]<=t&&t<=s[1])return s[2]+(t-s[0])}return 0}throw"unknown cmap table format "+i.format},t.U.glyphToPath=function(e,r){var n={cmds:[],crds:[]};if(e.SVG&&e.SVG.entries[r]){var i=e.SVG.entries[r];return null==i?n:("string"==typeof i&&(i=t.SVG.toPath(i),e.SVG.entries[r]=i),i)}if(e.CFF){var a={x:0,y:0,stack:[],nStems:0,haveWidth:!1,width:e.CFF.Private?e.CFF.Private.defaultWidthX:0,open:!1},o=e.CFF,s=e.CFF.Private;if(o.ROS){for(var u=0;o.FDSelect[u+2]<=r;)u+=2;s=o.FDArray[o.FDSelect[u+1]].Private}t.U._drawCFF(e.CFF.CharStrings[r],a,o,s,n)}else e.glyf&&t.U._drawGlyf(r,e,n);return n},t.U._drawGlyf=function(e,r,n){var i=r.glyf[e];null==i&&(i=r.glyf[e]=t.glyf._parseGlyf(r,e)),null!=i&&(i.noc>-1?t.U._simpleGlyph(i,n):t.U._compoGlyph(i,r,n))},t.U._simpleGlyph=function(e,r){for(var n=0;n<e.noc;n++){for(var i=0==n?0:e.endPts[n-1]+1,a=e.endPts[n],o=i;o<=a;o++){var s=o==i?a:o-1,u=o==a?i:o+1,l=1&e.flags[o],c=1&e.flags[s],f=1&e.flags[u],h=e.xs[o],d=e.ys[o];if(o==i)if(l){if(!c){t.U.P.moveTo(r,h,d);continue}t.U.P.moveTo(r,e.xs[s],e.ys[s])}else c?t.U.P.moveTo(r,e.xs[s],e.ys[s]):t.U.P.moveTo(r,(e.xs[s]+h)/2,(e.ys[s]+d)/2);l?c&&t.U.P.lineTo(r,h,d):f?t.U.P.qcurveTo(r,h,d,e.xs[u],e.ys[u]):t.U.P.qcurveTo(r,h,d,(h+e.xs[u])/2,(d+e.ys[u])/2)}t.U.P.closePath(r)}},t.U._compoGlyph=function(e,r,n){for(var i=0;i<e.parts.length;i++){var a={cmds:[],crds:[]},o=e.parts[i];t.U._drawGlyf(o.glyphIndex,r,a);for(var s=o.m,u=0;u<a.crds.length;u+=2){var l=a.crds[u],c=a.crds[u+1];n.crds.push(l*s.a+c*s.b+s.tx),n.crds.push(l*s.c+c*s.d+s.ty)}for(u=0;u<a.cmds.length;u++)n.cmds.push(a.cmds[u])}},t.U._getGlyphClass=function(e,r){var n=t._lctf.getInterval(r,e);return-1==n?0:r[n+2]},t.U._applySubs=function(e,r,n,i){for(var a=e.length-r-1,o=0;o<n.tabs.length;o++)if(null!=n.tabs[o]){var s,u=n.tabs[o];if(!u.coverage||-1!=(s=t._lctf.coverageIndex(u.coverage,e[r])))if(1==n.ltype)e[r],1==u.fmt?e[r]=e[r]+u.delta:e[r]=u.newg[s];else if(4==n.ltype)for(var l=u.vals[s],c=0;c<l.length;c++){var f=l[c],h=f.chain.length;if(!(h>a)){for(var d=!0,p=0,v=0;v<h;v++){for(;-1==e[r+p+(1+v)];)p++;f.chain[v]!=e[r+p+(1+v)]&&(d=!1)}if(d){for(e[r]=f.nglyph,v=0;v<h+p;v++)e[r+v+1]=-1;break}}}else if(5==n.ltype&&2==u.fmt)for(var g=t._lctf.getInterval(u.cDef,e[r]),m=u.cDef[g+2],y=u.scset[m],_=0;_<y.length;_++){var b=y[_],x=b.input;if(!(x.length>a)){for(d=!0,v=0;v<x.length;v++){var S=t._lctf.getInterval(u.cDef,e[r+1+v]);if(-1==g&&u.cDef[S+2]!=x[v]){d=!1;break}}if(d){var w=b.substLookupRecords;for(c=0;c<w.length;c+=2)w[c],w[c+1]}}}else if(6==n.ltype&&3==u.fmt){if(!t.U._glsCovered(e,u.backCvg,r-u.backCvg.length))continue;if(!t.U._glsCovered(e,u.inptCvg,r))continue;if(!t.U._glsCovered(e,u.ahedCvg,r+u.inptCvg.length))continue;var T=u.lookupRec;for(_=0;_<T.length;_+=2){g=T[_];var U=i[T[_+1]];t.U._applySubs(e,r+g,U,i)}}}},t.U._glsCovered=function(e,r,n){for(var i=0;i<r.length;i++)if(-1==t._lctf.coverageIndex(r[i],e[n+i]))return!1;return!0},t.U.glyphsToPath=function(e,r,n){for(var i={cmds:[],crds:[]},a=0,o=0;o<r.length;o++){var s=r[o];if(-1!=s){for(var u=o<r.length-1&&-1!=r[o+1]?r[o+1]:0,l=t.U.glyphToPath(e,s),c=0;c<l.crds.length;c+=2)i.crds.push(l.crds[c]+a),i.crds.push(l.crds[c+1]);for(n&&i.cmds.push(n),c=0;c<l.cmds.length;c++)i.cmds.push(l.cmds[c]);n&&i.cmds.push("X"),a+=e.hmtx.aWidth[s],o<r.length-1&&(a+=t.U.getPairAdjustment(e,s,u))}}return i},t.U.P={},t.U.P.moveTo=function(e,t,r){e.cmds.push("M"),e.crds.push(t,r)},t.U.P.lineTo=function(e,t,r){e.cmds.push("L"),e.crds.push(t,r)},t.U.P.curveTo=function(e,t,r,n,i,a,o){e.cmds.push("C"),e.crds.push(t,r,n,i,a,o)},t.U.P.qcurveTo=function(e,t,r,n,i){e.cmds.push("Q"),e.crds.push(t,r,n,i)},t.U.P.closePath=function(e){e.cmds.push("Z")},t.U._drawCFF=function(e,r,n,i,a){for(var o=r.stack,s=r.nStems,u=r.haveWidth,l=r.width,c=r.open,f=0,h=r.x,d=r.y,p=0,v=0,g=0,m=0,y=0,_=0,b=0,x=0,S=0,w=0,T={val:0,size:0};f<e.length;){t.CFF.getCharString(e,f,T);var U=T.val;if(f+=T.size,"o1"==U||"o18"==U)o.length%2!=0&&!u&&(l=o.shift()+i.nominalWidthX),s+=o.length>>1,o.length=0,u=!0;else if("o3"==U||"o23"==U)o.length%2!=0&&!u&&(l=o.shift()+i.nominalWidthX),s+=o.length>>1,o.length=0,u=!0;else if("o4"==U)o.length>1&&!u&&(l=o.shift()+i.nominalWidthX,u=!0),c&&t.U.P.closePath(a),d+=o.pop(),t.U.P.moveTo(a,h,d),c=!0;else if("o5"==U)for(;o.length>0;)h+=o.shift(),d+=o.shift(),t.U.P.lineTo(a,h,d);else if("o6"==U||"o7"==U)for(var k=o.length,A="o6"==U,E=0;E<k;E++){var F=o.shift();A?h+=F:d+=F,A=!A,t.U.P.lineTo(a,h,d)}else if("o8"==U||"o24"==U){k=o.length;for(var C=0;C+6<=k;)p=h+o.shift(),v=d+o.shift(),g=p+o.shift(),m=v+o.shift(),h=g+o.shift(),d=m+o.shift(),t.U.P.curveTo(a,p,v,g,m,h,d),C+=6;"o24"==U&&(h+=o.shift(),d+=o.shift(),t.U.P.lineTo(a,h,d))}else{if("o11"==U)break;if("o1234"==U||"o1235"==U||"o1236"==U||"o1237"==U)"o1234"==U&&(v=d,g=(p=h+o.shift())+o.shift(),w=m=v+o.shift(),_=m,x=d,h=(b=(y=(S=g+o.shift())+o.shift())+o.shift())+o.shift(),t.U.P.curveTo(a,p,v,g,m,S,w),t.U.P.curveTo(a,y,_,b,x,h,d)),"o1235"==U&&(p=h+o.shift(),v=d+o.shift(),g=p+o.shift(),m=v+o.shift(),S=g+o.shift(),w=m+o.shift(),y=S+o.shift(),_=w+o.shift(),b=y+o.shift(),x=_+o.shift(),h=b+o.shift(),d=x+o.shift(),o.shift(),t.U.P.curveTo(a,p,v,g,m,S,w),t.U.P.curveTo(a,y,_,b,x,h,d)),"o1236"==U&&(p=h+o.shift(),v=d+o.shift(),g=p+o.shift(),w=m=v+o.shift(),_=m,b=(y=(S=g+o.shift())+o.shift())+o.shift(),x=_+o.shift(),h=b+o.shift(),t.U.P.curveTo(a,p,v,g,m,S,w),t.U.P.curveTo(a,y,_,b,x,h,d)),"o1237"==U&&(p=h+o.shift(),v=d+o.shift(),g=p+o.shift(),m=v+o.shift(),S=g+o.shift(),w=m+o.shift(),y=S+o.shift(),_=w+o.shift(),b=y+o.shift(),x=_+o.shift(),Math.abs(b-h)>Math.abs(x-d)?h=b+o.shift():d=x+o.shift(),t.U.P.curveTo(a,p,v,g,m,S,w),t.U.P.curveTo(a,y,_,b,x,h,d));else if("o14"==U){if(o.length>0&&!u&&(l=o.shift()+n.nominalWidthX,u=!0),4==o.length){var M=o.shift(),R=o.shift(),D=o.shift(),I=o.shift(),P=t.CFF.glyphBySE(n,D),B=t.CFF.glyphBySE(n,I);t.U._drawCFF(n.CharStrings[P],r,n,i,a),r.x=M,r.y=R,t.U._drawCFF(n.CharStrings[B],r,n,i,a)}c&&(t.U.P.closePath(a),c=!1)}else if("o19"==U||"o20"==U)o.length%2!=0&&!u&&(l=o.shift()+i.nominalWidthX),s+=o.length>>1,o.length=0,u=!0,f+=s+7>>3;else if("o21"==U)o.length>2&&!u&&(l=o.shift()+i.nominalWidthX,u=!0),d+=o.pop(),h+=o.pop(),c&&t.U.P.closePath(a),t.U.P.moveTo(a,h,d),c=!0;else if("o22"==U)o.length>1&&!u&&(l=o.shift()+i.nominalWidthX,u=!0),h+=o.pop(),c&&t.U.P.closePath(a),t.U.P.moveTo(a,h,d),c=!0;else if("o25"==U){for(;o.length>6;)h+=o.shift(),d+=o.shift(),t.U.P.lineTo(a,h,d);p=h+o.shift(),v=d+o.shift(),g=p+o.shift(),m=v+o.shift(),h=g+o.shift(),d=m+o.shift(),t.U.P.curveTo(a,p,v,g,m,h,d)}else if("o26"==U)for(o.length%2&&(h+=o.shift());o.length>0;)p=h,v=d+o.shift(),h=g=p+o.shift(),d=(m=v+o.shift())+o.shift(),t.U.P.curveTo(a,p,v,g,m,h,d);else if("o27"==U)for(o.length%2&&(d+=o.shift());o.length>0;)v=d,g=(p=h+o.shift())+o.shift(),m=v+o.shift(),h=g+o.shift(),d=m,t.U.P.curveTo(a,p,v,g,m,h,d);else if("o10"==U||"o29"==U){var z="o10"==U?i:n;if(0==o.length)console.debug("error: empty stack");else{var O=o.pop(),L=z.Subrs[O+z.Bias];r.x=h,r.y=d,r.nStems=s,r.haveWidth=u,r.width=l,r.open=c,t.U._drawCFF(L,r,n,i,a),h=r.x,d=r.y,s=r.nStems,u=r.haveWidth,l=r.width,c=r.open}}else if("o30"==U||"o31"==U){var G=o.length,j=(C=0,"o31"==U);for(C+=G-(k=-3&G);C<k;)j?(v=d,g=(p=h+o.shift())+o.shift(),d=(m=v+o.shift())+o.shift(),k-C==5?(h=g+o.shift(),C++):h=g,j=!1):(p=h,v=d+o.shift(),g=p+o.shift(),m=v+o.shift(),h=g+o.shift(),k-C==5?(d=m+o.shift(),C++):d=m,j=!0),t.U.P.curveTo(a,p,v,g,m,h,d),C+=4}else{if("o"==(U+"").charAt(0))throw console.debug("Unknown operation: "+U,e),U;o.push(U)}}}r.x=h,r.y=d,r.nStems=s,r.haveWidth=u,r.width=l,r.open=c};var r=t,n={Typr:r};return e.Typr=r,e.default=n,Object.defineProperty(e,"__esModule",{value:!0}),e}({}).Typr},function(){return function(e){var t=Uint8Array,r=Uint16Array,n=Uint32Array,i=new t([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),a=new t([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),o=new t([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),s=function(e,t){for(var i=new r(31),a=0;a<31;++a)i[a]=t+=1<<e[a-1];var o=new n(i[30]);for(a=1;a<30;++a)for(var s=i[a];s<i[a+1];++s)o[s]=s-i[a]<<5|a;return[i,o]},u=s(i,2),l=u[0],c=u[1];l[28]=258,c[258]=28;for(var f=s(a,0)[0],h=new r(32768),d=0;d<32768;++d){var p=(43690&d)>>>1|(21845&d)<<1;p=(61680&(p=(52428&p)>>>2|(13107&p)<<2))>>>4|(3855&p)<<4,h[d]=((65280&p)>>>8|(255&p)<<8)>>>1}var v=function(e,t,n){for(var i=e.length,a=0,o=new r(t);a<i;++a)++o[e[a]-1];var s,u=new r(t);for(a=0;a<t;++a)u[a]=u[a-1]+o[a-1]<<1;if(n){s=new r(1<<t);var l=15-t;for(a=0;a<i;++a)if(e[a])for(var c=a<<4|e[a],f=t-e[a],d=u[e[a]-1]++<<f,p=d|(1<<f)-1;d<=p;++d)s[h[d]>>>l]=c}else for(s=new r(i),a=0;a<i;++a)e[a]&&(s[a]=h[u[e[a]-1]++]>>>15-e[a]);return s},g=new t(288);for(d=0;d<144;++d)g[d]=8;for(d=144;d<256;++d)g[d]=9;for(d=256;d<280;++d)g[d]=7;for(d=280;d<288;++d)g[d]=8;var m=new t(32);for(d=0;d<32;++d)m[d]=5;var y=v(g,9,1),_=v(m,5,1),b=function(e){for(var t=e[0],r=1;r<e.length;++r)e[r]>t&&(t=e[r]);return t},x=function(e,t,r){var n=t/8|0;return(e[n]|e[n+1]<<8)>>(7&t)&r},S=function(e,t){var r=t/8|0;return(e[r]|e[r+1]<<8|e[r+2]<<16)>>(7&t)},w=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],T=function(e,t,r){var n=new Error(t||w[e]);if(n.code=e,Error.captureStackTrace&&Error.captureStackTrace(n,T),!r)throw n;return n},U=function(e,s,u){var c=e.length;if(!c||u&&!u.l&&c<5)return s||new t(0);var h=!s||u,d=!u||u.i;u||(u={}),s||(s=new t(3*c));var p,g=function(e){var r=s.length;if(e>r){var n=new t(Math.max(2*r,e));n.set(s),s=n}},m=u.f||0,w=u.p||0,U=u.b||0,k=u.l,A=u.d,E=u.m,F=u.n,C=8*c;do{if(!k){u.f=m=x(e,w,1);var M=x(e,w+1,3);if(w+=3,!M){var R=e[(W=((p=w)/8|0)+(7&p&&1)+4)-4]|e[W-3]<<8,D=W+R;if(D>c){d&&T(0);break}h&&g(U+R),s.set(e.subarray(W,D),U),u.b=U+=R,u.p=w=8*D;continue}if(1==M)k=y,A=_,E=9,F=5;else if(2==M){var I=x(e,w,31)+257,P=x(e,w+10,15)+4,B=I+x(e,w+5,31)+1;w+=14;for(var z=new t(B),O=new t(19),L=0;L<P;++L)O[o[L]]=x(e,w+3*L,7);w+=3*P;var G=b(O),j=(1<<G)-1,N=v(O,G,1);for(L=0;L<B;){var W,H=N[x(e,w,j)];if(w+=15&H,(W=H>>>4)<16)z[L++]=W;else{var V=0,$=0;for(16==W?($=3+x(e,w,3),w+=2,V=z[L-1]):17==W?($=3+x(e,w,7),w+=3):18==W&&($=11+x(e,w,127),w+=7);$--;)z[L++]=V}}var X=z.subarray(0,I),q=z.subarray(I);E=b(X),F=b(q),k=v(X,E,1),A=v(q,F,1)}else T(1);if(w>C){d&&T(0);break}}h&&g(U+131072);for(var Y=(1<<E)-1,K=(1<<F)-1,Z=w;;Z=w){var Q=(V=k[S(e,w)&Y])>>>4;if((w+=15&V)>C){d&&T(0);break}if(V||T(2),Q<256)s[U++]=Q;else{if(256==Q){Z=w,k=null;break}var J=Q-254;if(Q>264){var ee=i[L=Q-257];J=x(e,w,(1<<ee)-1)+l[L],w+=ee}var te=A[S(e,w)&K],re=te>>>4;if(te||T(3),w+=15&te,q=f[re],re>3&&(ee=a[re],q+=S(e,w)&(1<<ee)-1,w+=ee),w>C){d&&T(0);break}h&&g(U+131072);for(var ne=U+J;U<ne;U+=4)s[U]=s[U-q],s[U+1]=s[U+1-q],s[U+2]=s[U+2-q],s[U+3]=s[U+3-q];U=ne}}u.l=k,u.p=Z,u.b=U,k&&(m=1,u.m=E,u.d=A,u.n=F)}while(!m);return U==s.length?s:function(e,i,a){(null==i||i<0)&&(i=0),(null==a||a>e.length)&&(a=e.length);var o=new(e instanceof r?r:e instanceof n?n:t)(a-i);return o.set(e.subarray(i,a)),o}(s,0,U)},k=new t(0),A="undefined"!=typeof TextDecoder&&new TextDecoder;try{A.decode(k,{stream:!0})}catch(e){}return e.convert_streams=function(e){var t=new DataView(e),r=0;function n(){var e=t.getUint16(r);return r+=2,e}function i(){var e=t.getUint32(r);return r+=4,e}function a(e){m.setUint16(y,e),y+=2}function o(e){m.setUint32(y,e),y+=4}for(var s={signature:i(),flavor:i(),length:i(),numTables:n(),reserved:n(),totalSfntSize:i(),majorVersion:n(),minorVersion:n(),metaOffset:i(),metaLength:i(),metaOrigLength:i(),privOffset:i(),privLength:i()},u=0;Math.pow(2,u)<=s.numTables;)u++;u--;for(var l=16*Math.pow(2,u),c=16*s.numTables-l,f=12,h=[],d=0;d<s.numTables;d++)h.push({tag:i(),offset:i(),compLength:i(),origLength:i(),origChecksum:i()}),f+=16;var p,v=new Uint8Array(12+16*h.length+h.reduce((function(e,t){return e+t.origLength+4}),0)),g=v.buffer,m=new DataView(g),y=0;return o(s.flavor),a(s.numTables),a(l),a(u),a(c),h.forEach((function(e){o(e.tag),o(e.origChecksum),o(f),o(e.origLength),e.outOffset=f,(f+=e.origLength)%4!=0&&(f+=4-f%4)})),h.forEach((function(t){var r,n=e.slice(t.offset,t.offset+t.compLength);if(t.compLength!=t.origLength){var i=new Uint8Array(t.origLength);r=new Uint8Array(n,2),U(r,i)}else i=new Uint8Array(n);v.set(i,t.outOffset);var a=0;(f=t.outOffset+t.origLength)%4!=0&&(a=4-f%4),v.set(new Uint8Array(a).buffer,t.outOffset+t.origLength),p=f+a})),g.slice(0,p)},Object.defineProperty(e,"__esModule",{value:!0}),e}({}).convert_streams},function(e,t){const r={M:2,L:2,Q:4,C:6,Z:0},n={C:"18g,ca,368,1kz",D:"17k,6,2,2+4,5+c,2+6,2+1,10+1,9+f,j+11,2+1,a,2,2+1,15+2,3,j+2,6+3,2+8,2,2,2+1,w+a,4+e,3+3,2,3+2,3+5,23+w,2f+4,3,2+9,2,b,2+3,3,1k+9,6+1,3+1,2+2,2+d,30g,p+y,1,1+1g,f+x,2,sd2+1d,jf3+4,f+3,2+4,2+2,b+3,42,2,4+2,2+1,2,3,t+1,9f+w,2,el+2,2+g,d+2,2l,2+1,5,3+1,2+1,2,3,6,16wm+1v",R:"17m+3,2,2,6+3,m,15+2,2+2,h+h,13,3+8,2,2,3+1,2,p+1,x,5+4,5,a,2,2,3,u,c+2,g+1,5,2+1,4+1,5j,6+1,2,b,2+2,f,2+1,1s+2,2,3+1,7,1ez0,2,2+1,4+4,b,4,3,b,42,2+2,4,3,2+1,2,o+3,ae,ep,x,2o+2,3+1,3,5+1,6",L:"x9u,jff,a,fd,jv",T:"4t,gj+33,7o+4,1+1,7c+18,2,2+1,2+1,2,21+a,2,1b+k,h,2u+6,3+5,3+1,2+3,y,2,v+q,2k+a,1n+8,a,p+3,2+8,2+2,2+4,18+2,3c+e,2+v,1k,2,5+7,5,4+6,b+1,u,1n,5+3,9,l+1,r,3+1,1m,5+1,5+1,3+2,4,v+1,4,c+1,1m,5+4,2+1,5,l+1,n+5,2,1n,3,2+3,9,8+1,c+1,v,1q,d,1f,4,1m+2,6+2,2+3,8+1,c+1,u,1n,3,7,6+1,l+1,t+1,1m+1,5+3,9,l+1,u,21,8+2,2,2j,3+6,d+7,2r,3+8,c+5,23+1,s,2,2,1k+d,2+4,2+1,6+a,2+z,a,2v+3,2+5,2+1,3+1,q+1,5+2,h+3,e,3+1,7,g,jk+2,qb+2,u+2,u+1,v+1,1t+1,2+6,9,3+a,a,1a+2,3c+1,z,3b+2,5+1,a,7+2,64+1,3,1n,2+6,2,2,3+7,7+9,3,1d+d,1,1+1,1s+3,1d,2+4,2,6,15+8,d+1,x+3,3+1,2+2,1l,2+1,4,2+2,1n+7,3+1,49+2,2+c,2+6,5,7,4+1,5j+1l,2+4,ek,3+1,r+4,1e+4,6+5,2p+c,1+3,1,1+2,1+b,2db+2,3y,2p+v,ff+3,30+1,n9x,1+2,2+9,x+1,29+1,7l,4,5,q+1,6,48+1,r+h,e,13+7,q+a,1b+2,1d,3+3,3+1,14,1w+5,3+1,3+1,d,9,1c,1g,2+2,3+1,6+1,2,17+1,9,6n,3,5,fn5,ki+f,h+f,5s,6y+2,ea,6b,46+4,1af+2,2+1,6+3,15+2,5,4m+1,fy+3,as+1,4a+a,4x,1j+e,1l+2,1e+3,3+1,1y+2,11+4,2+7,1r,d+1,1h+8,b+3,3,2o+2,3,2+1,7,4h,4+7,m+1,1m+1,4,12+6,4+4,5g+7,3+2,2,o,2d+5,2,5+1,2+1,6n+3,7+1,2+1,s+1,2e+7,3,2+1,2z,2,3+5,2,2u+2,3+3,2+4,78+8,2+1,75+1,2,5,41+3,3+1,5,x+9,15+5,3+3,9,a+5,3+2,1b+c,2+1,bb+6,2+5,2,2b+l,3+6,2+1,2+1,3f+5,4,2+1,2+6,2,21+1,4,2,9o+1,470+8,at4+4,1o+6,t5,1s+3,2a,f5l+1,2+3,43o+2,a+7,1+7,3+6,v+3,45+2,1j0+1i,5+1d,9,f,n+4,2+e,11t+6,2+g,3+6,2+1,2+4,7a+6,c6+3,15t+6,32+6,1,gzau,v+2n,3l+6n"};let i;function a(e){if(!i){const e={R:2,L:1,D:4,C:16,U:32,T:8};i=new Map;for(let t in n){let r=0;n[t].split(",").forEach((n=>{let[a,o]=n.split("+");a=parseInt(a,36),o=o?parseInt(o,36):0,i.set(r+=a,e[t]);for(let n=o;n--;)i.set(++r,e[t])}))}}return i.get(e)||32}const o=[null,"isol","init","fina","medi"];function s(e){const t=new Uint8Array(e.length);let r=32,n=1,i=-1;for(let o=0;o<e.length;o++){const s=e.codePointAt(o);let u=0|a(s),l=1;8&u||(21&r?22&u?(l=3,1!==n&&3!==n||t[i]++):33&u&&(2!==n&&4!==n||t[i]--):34&r&&(2!==n&&4!==n||t[i]--),n=t[o]=l,r=u,i=o,s>65535&&o++)}return t}function u(t,r){const n=t.GDEF&&t.GDEF.glyphClassDef;return n?e.U._getGlyphClass(r,n):0}function l(...e){for(let t=0;t<e.length;t++)if("number"==typeof e[t])return e[t]}function c(t){const n=Object.create(null),i=t["OS/2"],a=t.hhea,c=t.head.unitsPerEm,f=l(i&&i.sTypoAscender,a&&a.ascender,c),h={unitsPerEm:c,ascender:f,descender:l(i&&i.sTypoDescender,a&&a.descender,0),capHeight:l(i&&i.sCapHeight,f),xHeight:l(i&&i.sxHeight,f),lineGap:l(i&&i.sTypoLineGap,a&&a.lineGap),supportsCodePoint(r){return e.U.codeToGlyph(t,r)>0},forEachGlyph(i,a,l,c){let f=0;const d=1/h.unitsPerEm*a,p=function(t,r){const n=[];for(let i=0;i<r.length;i++){const a=r.codePointAt(i);a>65535&&i++,n.push(e.U.codeToGlyph(t,a))}const i=t.GSUB;if(i){const{lookupList:t,featureList:a}=i;let u;const l=/^(rlig|liga|mset|isol|init|fina|medi|half|pres|blws|ccmp)$/,c=[];a.forEach((i=>{if(l.test(i.tag))for(let a=0;a<i.tab.length;a++){if(c[i.tab[a]])continue;c[i.tab[a]]=!0;const l=t[i.tab[a]],f=/^(isol|init|fina|medi)$/.test(i.tag);f&&!u&&(u=s(r));for(let r=0;r<n.length;r++)u&&f&&o[u[r]]!==i.tag||e.U._applySubs(n,r,l,t)}}))}return n}(t,i);let v=0;const g=function(t,r){const n=new Int16Array(3*r.length);let i=0;for(;i<r.length;i++){const l=r[i];if(-1===l)continue;n[3*i+2]=t.hmtx.aWidth[l];const c=t.GPOS;if(c){const f=c.lookupList;for(let c=0;c<f.length;c++){const h=f[c];for(let c=0;c<h.tabs.length;c++){const f=h.tabs[c];if(1===h.ltype){if(-1!==e._lctf.coverageIndex(f.coverage,l)&&f.pos){s(f.pos,i);break}}else if(2===h.ltype){let t=null,n=a();if(-1!==n){const a=e._lctf.coverageIndex(f.coverage,r[n]);if(-1!==a){if(1===f.fmt){const e=f.pairsets[a];for(let r=0;r<e.length;r++)e[r].gid2===l&&(t=e[r])}else if(2===f.fmt){const i=e.U._getGlyphClass(r[n],f.classDef1),a=e.U._getGlyphClass(l,f.classDef2);t=f.matrix[i][a]}if(t){t.val1&&s(t.val1,n),t.val2&&s(t.val2,i);break}}}}else if(4===h.ltype){const t=e._lctf.coverageIndex(f.markCoverage,l);if(-1!==t){const s=a(o),u=-1===s?-1:e._lctf.coverageIndex(f.baseCoverage,r[s]);if(-1!==u){const e=f.markArray[t],r=f.baseArray[u][e.markClass];n[3*i]=r.x-e.x+n[3*s]-n[3*s+2],n[3*i+1]=r.y-e.y+n[3*s+1];break}}}else if(6===h.ltype){const o=e._lctf.coverageIndex(f.mark1Coverage,l);if(-1!==o){const s=a();if(-1!==s){const a=r[s];if(3===u(t,a)){const t=e._lctf.coverageIndex(f.mark2Coverage,a);if(-1!==t){const e=f.mark1Array[o],r=f.mark2Array[t][e.markClass];n[3*i]=r.x-e.x+n[3*s]-n[3*s+2],n[3*i+1]=r.y-e.y+n[3*s+1];break}}}}}}}}else if(t.kern&&!t.cff){const e=a();if(-1!==e){const i=t.kern.glyph1.indexOf(r[e]);if(-1!==i){const r=t.kern.rval[i].glyph2.indexOf(l);-1!==r&&(n[3*e+2]+=t.kern.rval[i].vals[r])}}}}return n;function a(e){for(let t=i-1;t>=0;t--)if(-1!==r[t]&&(!e||e(r[t])))return t;return-1}function o(e){return 1===u(t,e)}function s(e,t){for(let r=0;r<3;r++)n[3*t+r]+=e[r]||0}}(t,p);return p.forEach(((o,s)=>{if(-1!==o){let i=n[o];if(!i){const{cmds:a,crds:s}=e.U.glyphToPath(t,o);let u,l,c,f,h="",d=0;for(let e=0,t=a.length;e<t;e++){const t=r[a[e]];h+=a[e];for(let e=1;e<=t;e++)h+=(e>1?",":"")+s[d++]}if(s.length){u=l=1/0,c=f=-1/0;for(let e=0,t=s.length;e<t;e+=2){let t=s[e],r=s[e+1];t<u&&(u=t),r<l&&(l=r),t>c&&(c=t),r>f&&(f=r)}}else u=c=l=f=0;i=n[o]={index:o,advanceWidth:t.hmtx.aWidth[o],xMin:u,yMin:l,xMax:c,yMax:f,path:h}}c.call(null,i,f+g[3*s]*d,g[3*s+1]*d,v),f+=g[3*s+2]*d,l&&(f+=l*a)}v+=i.codePointAt(v)>65535?2:1})),f}};return h}return function(r){const n=new Uint8Array(r,0,4),i=e._bin.readASCII(n,0,4);if("wOFF"===i)r=t(r);else if("wOF2"===i)throw new Error("woff2 fonts not supported");return c(e.parse(r)[0])}}],init(e,t,r){return r(e(),t())}});const M=h({name:"FontResolver",dependencies:[function(e,t){const r=Object.create(null),n=Object.create(null);function i(t,i){let a=r[t];a?i(a):n[t]?n[t].push(i):(n[t]=[i],function(t,r){const n=e=>{console.error(`Failure loading font ${t}`,e)};try{const i=new XMLHttpRequest;i.open("get",t,!0),i.responseType="arraybuffer",i.onload=function(){if(i.status>=400)n(new Error(i.statusText));else if(i.status>0)try{const n=e(i.response);n.src=t,r(n)}catch(e){n(e)}},i.onerror=n,i.send()}catch(e){n(e)}}(t,(e=>{e.src=t,r[t]=e,n[t].forEach((t=>t(e))),delete n[t]})))}return function(e,n,{lang:a,fonts:o=[],style:s="normal",weight:u="normal",unicodeFontsURL:l}={}){const c=new Uint8Array(e.length),f=[];e.length||v();const h=new Map,d=[];if("italic"!==s&&(s="normal"),"number"!=typeof u&&(u="bold"===u?700:400),o&&!Array.isArray(o)&&(o=[o]),(o=o.slice().filter((e=>!e.lang||e.lang.test(a))).reverse()).length){const t=1,n=2;let a=0;!function s(u=0){for(let l=u,p=e.length;l<p;l++){const u=e.codePointAt(l);if(a===t&&f[c[l-1]].supportsCodePoint(u)||l>0&&/\s/.test(e[l]))c[l]=c[l-1],a===n&&(d[d.length-1][1]=l);else for(let e=c[l],p=o.length;e<=p;e++)if(e===p){(a===n?d[d.length-1]:d[d.length]=[l,l])[1]=l,a=n}else{c[l]=e;const{src:n,unicodeRange:d}=o[e];if(!d||g(u,d)){const e=r[n];if(!e)return void i(n,(()=>{s(l)}));if(e.supportsCodePoint(u)){let r=h.get(e);"number"!=typeof r&&(r=f.length,f.push(e),h.set(e,r)),c[l]=r,a=t;break}}}u>65535&&l+1<p&&(c[l+1]=c[l],l++,a===n&&(d[d.length-1][1]=l))}p()}()}else d.push([0,e.length-1]),p();function p(){if(d.length){const r=d.map((t=>e.substring(t[0],t[1]+1))).join("\n");t.getFontsForString(r,{lang:a||void 0,style:s,weight:u,dataUrl:l}).then((({fontUrls:e,chars:t})=>{const r=f.length;let n=0;d.forEach((e=>{for(let i=0,a=e[1]-e[0];i<=a;i++)c[e[0]+i]=t[n++]+r;n++}));let a=0;e.forEach(((t,n)=>{i(t,(t=>{f[n+r]=t,++a===e.length&&v()}))}))}))}else v()}function v(){n({chars:c,fonts:f})}function g(e,t){for(let r=0;r<t.length;r++){const[n,i=n]=t[r];if(n<=e&&e<=i)return!0}return!1}}},C,function(){return function(e){var t=function(){this.buckets=new Map};t.prototype.add=function(e){var t=e>>5;this.buckets.set(t,(this.buckets.get(t)||0)|1<<(31&e))},t.prototype.has=function(e){var t=this.buckets.get(e>>5);return void 0!==t&&0!=(t&1<<(31&e))},t.prototype.serialize=function(){var e=[];return this.buckets.forEach((function(t,r){e.push((+r).toString(36)+":"+t.toString(36))})),e.join(",")},t.prototype.deserialize=function(e){var t=this;this.buckets.clear(),e.split(",").forEach((function(e){var r=e.split(":");t.buckets.set(parseInt(r[0],36),parseInt(r[1],36))}))};var r=Math.pow(2,8),n=r-1,i=~n;function a(e){var t=function(e){return e&i}(e).toString(16),n=function(e){return(e&i)+r-1}(e).toString(16);return"codepoint-index/plane"+(e>>16)+"/"+t+"-"+n+".json"}function o(e,t){var r=e&n,i=t.codePointAt(r/6|0);return 0!=((i=(i||48)-48)&1<<r%6)}function s(e,t){!function(e,t){var r;(r=e,r.replace(/U\+/gi,"").replace(/^,+|,+$/g,"").split(/,+/).map((function(e){return e.split("-").map((function(e){return parseInt(e.trim(),16)}))}))).forEach((function(e){var r=e[0],n=e[1];void 0===n&&(n=r),t(r,n)}))}(e,(function(e,r){for(var n=e;n<=r;n++)t(n)}))}var u={},l={},c=new WeakMap,f="https://cdn.jsdelivr.net/gh/lojjic/unicode-font-resolver@v1.0.1/packages/data";function h(e){var r=c.get(e);return r||(r=new t,s(e.ranges,(function(e){return r.add(e)})),c.set(e,r)),r}var d,p=new Map;function v(e,t,r){return e[t]?t:e[r]?r:function(e){for(var t in e)return t}(e)}function g(e,t){var r=t;if(!e.includes(r)){r=1/0;for(var n=0;n<e.length;n++)Math.abs(e[n]-t)<Math.abs(r-t)&&(r=e[n])}return r}function m(e){return d||(d=new Set,s("9-D,20,85,A0,1680,2000-200A,2028-202F,205F,3000",(function(e){d.add(e)}))),d.has(e)}return e.CodePointSet=t,e.clearCache=function(){u={},l={}},e.getFontsForString=function(e,t){void 0===t&&(t={});var r,n=t.lang;void 0===n&&(n=/\p{Script=Hangul}/u.test(r=e)?"ko":/\p{Script=Hiragana}|\p{Script=Katakana}/u.test(r)?"ja":"en");var i=t.category;void 0===i&&(i="sans-serif");var s=t.style;void 0===s&&(s="normal");var c=t.weight;void 0===c&&(c=400);var d=(t.dataUrl||f).replace(/\/$/g,""),y=new Map,_=new Uint8Array(e.length),b={},x={},S=new Array(e.length),w=new Map,T=!1;function U(e){var t=p.get(e);return t||(t=fetch(d+"/"+e).then((function(e){if(!e.ok)throw new Error(e.statusText);return e.json().then((function(e){if(!Array.isArray(e)||1!==e[0])throw new Error("Incorrect schema version; need 1, got "+e[0]);return e[1]}))})).catch((function(t){if(d!==f)return T||(console.error('unicode-font-resolver: Failed loading from dataUrl "'+d+'", trying default CDN. '+t.message),T=!0),d=f,p.delete(e),U(e);throw t})),p.set(e,t)),t}for(var k=function(t){var r=e.codePointAt(t),n=a(r);S[t]=n,u[n]||w.has(n)||w.set(n,U(n).then((function(e){u[n]=e}))),r>65535&&(t++,A=t)},A=0;A<e.length;A++)k(A);return Promise.all(w.values()).then((function(){w.clear();for(var t=function(t){var i=e.codePointAt(t),a=null,s=u[S[t]],c=void 0;for(var f in s){var h=x[f];if(void 0===h&&(h=x[f]=new RegExp(f).test(n||"en")),h){for(var d in c=f,s[f])if(o(i,s[f][d])){a=d;break}break}}if(!a)e:for(var p in s)if(p!==c)for(var v in s[p])if(o(i,s[p][v])){a=v;break e}a||(console.debug("No font coverage for U+"+i.toString(16)),a="latin"),S[t]=a,l[a]||w.has(a)||w.set(a,U("font-meta/"+a+".json").then((function(e){l[a]=e}))),i>65535&&(t++,r=t)},r=0;r<e.length;r++)t(r);return Promise.all(w.values())})).then((function(){for(var t,r=null,n=0;n<e.length;n++){var a=e.codePointAt(n);if(r&&(m(a)||h(r).has(a)))_[n]=_[n-1];else{r=l[S[n]];var o=b[r.id];if(!o){var u=r.typeforms,f=v(u,i,"sans-serif"),p=v(u[f],s,"normal"),x=g(null===(t=u[f])||void 0===t?void 0:t[p],c);o=b[r.id]=d+"/font-files/"+r.id+"/"+f+"."+p+"."+x+".woff"}var w=y.get(o);null==w&&(w=y.size,y.set(o,w)),_[n]=w}a>65535&&(n++,_[n]=_[n-1])}return{fontUrls:Array.from(y.keys()),chars:_}}))},Object.defineProperty(e,"__esModule",{value:!0}),e}({})}],init(e,t,r){return e(t,r())}});const R=()=>(self.performance||Date).now(),D=v();let I;const P=[];let B=0;function z(){const e=R();for(;P.length&&R()-e<5;)P.shift()();B=P.length?setTimeout(z,0):0}const O=(...e)=>new Promise(((t,r)=>{P.push((()=>{const n=R();try{D.webgl.generateIntoCanvas(...e),t({timing:R()-n})}catch(e){r(e)}})),B||(B=setTimeout(z,0))})),L={};let G=0;function j(e,t,r,n,i,a,o,s,u,f){const d="TroikaTextSDFGenerator_JS_"+G++%4;let p=L[d];return p||(p=L[d]={workerModule:h({name:d,workerId:d,dependencies:[v,R],init(e,t){const r=e().javascript.generate;return function(...e){const n=t();return{textureData:r(...e),timing:t()-n}}},getTransferables(e){return[e.textureData.buffer]}}),requests:0,idleTimer:null}),p.requests++,clearTimeout(p.idleTimer),p.workerModule(e,t,r,n,i,a).then((({textureData:r,timing:n})=>{const i=R(),a=new Uint8Array(4*r.length);for(let e=0;e<r.length;e++)a[4*e+f]=r[e];return D.webglUtils.renderImageData(o,a,s,u,e,t,1<<3-f),n+=R()-i,0==--p.requests&&(p.idleTimer=setTimeout((()=>{!function(e){c[e]&&c[e].forEach((function(e){e()})),l[e]&&(l[e].terminate(),delete l[e])}(d)}),2e3)),{timing:n}}))}const N=D.webglUtils.resizeWebGLCanvasWithoutClearing,W={defaultFontURL:null,unicodeFontsURL:null,sdfGlyphSize:64,sdfMargin:1/16,sdfExponent:9,textureWidth:2048,useWorker:!0},H=new n.Ilk;let V=!1;function $(){return(self.performance||Date).now()}const X=Object.create(null);function q(e,t){V=!0,e=K({},e);const r=$(),{defaultFontURL:i}=W,a=[];if(i&&a.push({label:"default",src:Q(i)}),e.font&&a.push({label:"user",src:Q(e.font)}),e.font=a,e.text=""+e.text,e.sdfGlyphSize=e.sdfGlyphSize||W.sdfGlyphSize,e.unicodeFontsURL=e.unicodeFontsURL||W.unicodeFontsURL,null!=e.colorRanges){let t={};for(let r in e.colorRanges)if(e.colorRanges.hasOwnProperty(r)){let n=e.colorRanges[r];"number"!=typeof n&&(n=H.set(n).getHex()),t[r]=n}e.colorRanges=t}Object.freeze(e);const{textureWidth:o,sdfExponent:s}=W,{sdfGlyphSize:u}=e,l=o/u*4;let c=X[u];if(!c){const e=document.createElement("canvas");e.width=o,e.height=256*u/l,c=X[u]={glyphCount:0,sdfGlyphSize:u,sdfCanvas:e,sdfTexture:new n.xEZ(e,void 0,void 0,void 0,n.wem,n.wem),contextLost:!1,glyphsByFont:new Map},c.sdfTexture.generateMipmaps=!1,function(e){const t=e.sdfCanvas;t.addEventListener("webglcontextlost",(t=>{console.log("Context Lost",t),t.preventDefault(),e.contextLost=!0})),t.addEventListener("webglcontextrestored",(t=>{console.log("Context Restored",t),e.contextLost=!1;const r=[];e.glyphsByFont.forEach((t=>{t.forEach((t=>{r.push(Y(t,e,!0))}))})),Promise.all(r).then((()=>{J(e),e.sdfTexture.needsUpdate=!0}))}))}(c)}const{sdfTexture:f,sdfCanvas:h}=c;(W.useWorker?te:re)(e).then((n=>{const{glyphIds:i,glyphFontIndices:a,fontData:d,glyphPositions:p,fontSize:v,timings:g}=n,m=[],y=new Float32Array(4*i.length);let _=0,b=0;const x=$(),S=d.map((e=>{let t=c.glyphsByFont.get(e.src);return t||c.glyphsByFont.set(e.src,t=new Map),t}));i.forEach(((e,t)=>{const r=a[t],{src:o,unitsPerEm:s}=d[r];let l=S[r].get(e);if(!l){const{path:t,pathBounds:i}=n.glyphData[o][e],a=Math.max(i[2]-i[0],i[3]-i[1])/u*(W.sdfMargin*u+.5),s=c.glyphCount++,f=[i[0]-a,i[1]-a,i[2]+a,i[3]+a];S[r].set(e,l={path:t,atlasIndex:s,sdfViewBox:f}),m.push(l)}const{sdfViewBox:f}=l,h=p[b++],g=p[b++],x=v/s;y[_++]=h+f[0]*x,y[_++]=g+f[1]*x,y[_++]=h+f[2]*x,y[_++]=g+f[3]*x,i[t]=l.atlasIndex})),g.quads=(g.quads||0)+($()-x);const w=$();g.sdf={};const T=h.height,U=Math.ceil(c.glyphCount/l),k=Math.pow(2,Math.ceil(Math.log2(U*u)));k>T&&(console.info(`Increasing SDF texture size ${T}->${k}`),N(h,o,k),f.dispose()),Promise.all(m.map((t=>Y(t,c,e.gpuAccelerateSDF).then((({timing:e})=>{g.sdf[t.atlasIndex]=e}))))).then((()=>{m.length&&!c.contextLost&&(J(c),f.needsUpdate=!0),g.sdfTotal=$()-w,g.total=$()-r,t(Object.freeze({parameters:e,sdfTexture:f,sdfGlyphSize:u,sdfExponent:s,glyphBounds:y,glyphAtlasIndices:i,glyphColors:n.glyphColors,caretPositions:n.caretPositions,chunkedBounds:n.chunkedBounds,ascender:n.ascender,descender:n.descender,lineHeight:n.lineHeight,capHeight:n.capHeight,xHeight:n.xHeight,topBaseline:n.topBaseline,blockBounds:n.blockBounds,visibleBounds:n.visibleBounds,timings:n.timings}))}))})),Promise.resolve().then((()=>{var e;c.contextLost||(e=h)._warm||(D.webgl.isSupported(e),e._warm=!0)}))}function Y({path:e,atlasIndex:t,sdfViewBox:r},{sdfGlyphSize:n,sdfCanvas:i,contextLost:a},o){if(a)return Promise.resolve({timing:-1});const{textureWidth:s,sdfExponent:u}=W,l=Math.max(r[2]-r[0],r[3]-r[1]),c=Math.floor(t/4);return function(e,t,r,n,i,a,o,s,u,l,c=!0){return c?O(e,t,r,n,i,a,o,s,u,l).then(null,(c=>(I||(console.warn("WebGL SDF generation failed, falling back to JS",c),I=!0),j(e,t,r,n,i,a,o,s,u,l)))):j(e,t,r,n,i,a,o,s,u,l)}(n,n,e,r,l,u,i,c%(s/n)*n,Math.floor(c/(s/n))*n,t%4,o)}function K(e,t){for(let r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);return e}let Z;function Q(e){return Z||(Z="undefined"==typeof document?{}:document.createElement("a")),Z.href=e,Z.href}function J(e){if("function"!=typeof createImageBitmap){console.info("Safari<15: applying SDF canvas workaround");const{sdfCanvas:t,sdfTexture:r}=e,{width:n,height:i}=t,a=e.sdfCanvas.getContext("webgl");let o=r.image.data;o&&o.length===n*i*4||(o=new Uint8Array(n*i*4),r.image={width:n,height:i,data:o},r.flipY=!1,r.isDataTexture=!0),a.readPixels(0,0,n,i,a.RGBA,a.UNSIGNED_BYTE,o)}}const ee=h({name:"Typesetter",dependencies:[function(e,t){const r=1/0,n=/[\u00AD\u034F\u061C\u115F-\u1160\u17B4-\u17B5\u180B-\u180E\u200B-\u200F\u202A-\u202E\u2060-\u206F\u3164\uFE00-\uFE0F\uFEFF\uFFA0\uFFF0-\uFFF8]/,i="[^\\S\\u00A0]",a=new RegExp(`${i}|[\\-\\u007C\\u00AD\\u2010\\u2012-\\u2014\\u2027\\u2056\\u2E17\\u2E40]`);function o({text:o="",font:f,lang:h,sdfGlyphSize:d=64,fontSize:p=400,fontWeight:v=1,fontStyle:g="normal",letterSpacing:m=0,lineHeight:y="normal",maxWidth:_=r,direction:b,textAlign:x="left",textIndent:S=0,whiteSpace:w="normal",overflowWrap:T="normal",anchorX:U=0,anchorY:k=0,metricsOnly:A=!1,unicodeFontsURL:E,preResolvedFonts:F=null,includeCaretPositions:C=!1,chunkedBoundsSize:M=8192,colorRanges:R=null},D){const I=l(),P={fontLoad:0,typesetting:0};o.indexOf("\r")>-1&&(console.info("Typesetter: got text with \\r chars; normalizing to \\n"),o=o.replace(/\r\n/g,"\n").replace(/\r/g,"\n")),p=+p,m=+m,_=+_,y=y||"normal",S=+S,function({text:t,lang:r,fonts:n,style:i,weight:a,preResolvedFonts:o,unicodeFontsURL:s},u){const l=({chars:e,fonts:t})=>{let r,n;const i=[];for(let a=0;a<e.length;a++)e[a]!==n?(n=e[a],i.push(r={start:a,end:a,fontObj:t[e[a]]})):r.end=a;u(i)};o?l(o):e(t,l,{lang:r,fonts:n,style:i,weight:a,unicodeFontsURL:s})}({text:o,lang:h,style:g,weight:v,fonts:"string"==typeof f?[{src:f}]:f,unicodeFontsURL:E,preResolvedFonts:F},(e=>{P.fontLoad=l()-I;const f=isFinite(_);let h=null,d=null,v=null,g=null,E=null,F=null,B=null,z=null,O=0,L=0,G="nowrap"!==w;const j=new Map,N=l();let W=S,H=0,V=new c;const $=[V];e.forEach((e=>{const{fontObj:t}=e,{ascender:r,descender:s,unitsPerEm:u,lineGap:l,capHeight:h,xHeight:d}=t;let v=j.get(t);if(!v){const e=p/u,n="normal"===y?(r-s+l)*e:y*p,i=(n-(r-s)*e)/2,a=Math.min(n,(r-s)*e),o=(r+s)/2*e+a/2;v={index:j.size,src:t.src,fontObj:t,fontSizeMult:e,unitsPerEm:u,ascender:r*e,descender:s*e,capHeight:h*e,xHeight:d*e,lineHeight:n,baseline:-i-r*e,caretTop:o,caretBottom:o-a},j.set(t,v)}const{fontSizeMult:g}=v,b=o.slice(e.start,e.end+1);let x,w;t.forEachGlyph(b,p,m,((t,r,s,u)=>{r+=H,u+=e.start,x=r,w=t;const l=o.charAt(u),h=t.advanceWidth*g,d=V.count;let y;if("isEmpty"in t||(t.isWhitespace=!!l&&new RegExp(i).test(l),t.canBreakAfter=!!l&&a.test(l),t.isEmpty=t.xMin===t.xMax||t.yMin===t.yMax||n.test(l)),t.isWhitespace||t.isEmpty||L++,G&&f&&!t.isWhitespace&&r+h+W>_&&d){if(V.glyphAt(d-1).glyphObj.canBreakAfter)y=new c,W=-r;else for(let e=d;e--;){if(0===e&&"break-word"===T){y=new c,W=-r;break}if(V.glyphAt(e).glyphObj.canBreakAfter){y=V.splitAt(e+1);const t=y.glyphAt(0).x;W-=t;for(let e=y.count;e--;)y.glyphAt(e).x-=t;break}}y&&(V.isSoftWrapped=!0,V=y,$.push(V),O=_)}let b=V.glyphAt(V.count);b.glyphObj=t,b.x=r+W,b.y=s,b.width=h,b.charIndex=u,b.fontData=v,"\n"===l&&(V=new c,$.push(V),W=-(r+h+m*p)+S)})),H=x+w.advanceWidth*g+m*p}));let X=0;$.forEach((e=>{let t=!0;for(let r=e.count;r--;){const n=e.glyphAt(r);t&&!n.glyphObj.isWhitespace&&(e.width=n.x+n.width,e.width>O&&(O=e.width),t=!1);let{lineHeight:i,capHeight:a,xHeight:o,baseline:s}=n.fontData;i>e.lineHeight&&(e.lineHeight=i);const u=s-e.baseline;u<0&&(e.baseline+=u,e.cap+=u,e.ex+=u),e.cap=Math.max(e.cap,e.baseline+a),e.ex=Math.max(e.ex,e.baseline+o)}e.baseline-=X,e.cap-=X,e.ex-=X,X+=e.lineHeight}));let q=0,Y=0;if(U&&("number"==typeof U?q=-U:"string"==typeof U&&(q=-O*("left"===U?0:"center"===U?.5:"right"===U?1:s(U)))),k&&("number"==typeof k?Y=-k:"string"==typeof k&&(Y="top"===k?0:"top-baseline"===k?-$[0].baseline:"top-cap"===k?-$[0].cap:"top-ex"===k?-$[0].ex:"middle"===k?X/2:"bottom"===k?X:"bottom-baseline"===k?-$[$.length-1].baseline:s(k)*X)),!A){const e=t.getEmbeddingLevels(o,b);h=new Uint16Array(L),d=new Uint8Array(L),v=new Float32Array(2*L),g={},B=[r,r,-1/0,-1/0],z=[],C&&(F=new Float32Array(4*o.length)),R&&(E=new Uint8Array(3*L));let n,i,a=0,s=-1,l=-1;if($.forEach(((c,f)=>{let{count:p,width:m}=c;if(p>0){let f=0;for(let e=p;e--&&c.glyphAt(e).glyphObj.isWhitespace;)f++;let y=0,_=0;if("center"===x)y=(O-m)/2;else if("right"===x)y=O-m;else if("justify"===x&&c.isSoftWrapped){let e=0;for(let t=p-f;t--;)c.glyphAt(t).glyphObj.isWhitespace&&e++;_=(O-m)/e}if(_||y){let e=0;for(let t=0;t<p;t++){let r=c.glyphAt(t);const n=r.glyphObj;r.x+=y+e,0!==_&&n.isWhitespace&&t<p-f&&(e+=_,r.width+=_)}}const b=t.getReorderSegments(o,e,c.glyphAt(0).charIndex,c.glyphAt(c.count-1).charIndex);for(let e=0;e<b.length;e++){const[t,r]=b[e];let n=1/0,i=-1/0;for(let e=0;e<p;e++)if(c.glyphAt(e).charIndex>=t){let t=e,a=e;for(;a<p;a++){let e=c.glyphAt(a);if(e.charIndex>r)break;a<p-f&&(n=Math.min(n,e.x),i=Math.max(i,e.x+e.width))}for(let e=t;e<a;e++){const t=c.glyphAt(e);t.x=i-(t.x+t.width-n)}break}}let S;const w=e=>S=e;for(let f=0;f<p;f++){const p=c.glyphAt(f);S=p.glyphObj;const m=S.index,y=1&e.levels[p.charIndex];if(y){const e=t.getMirroredCharacter(o[p.charIndex]);e&&p.fontData.fontObj.forEachGlyph(e,0,0,w)}if(C){const{charIndex:e,fontData:t}=p,r=p.x+q,n=p.x+p.width+q;F[4*e]=y?n:r,F[4*e+1]=y?r:n,F[4*e+2]=c.baseline+t.caretBottom+Y,F[4*e+3]=c.baseline+t.caretTop+Y;const i=e-s;i>1&&u(F,s,i),s=e}if(R){const{charIndex:e}=p;for(;e>l;)l++,R.hasOwnProperty(l)&&(i=R[l])}if(!S.isWhitespace&&!S.isEmpty){const e=a++,{fontSizeMult:t,src:o,index:s}=p.fontData,u=g[o]||(g[o]={});u[m]||(u[m]={path:S.path,pathBounds:[S.xMin,S.yMin,S.xMax,S.yMax]});const l=p.x+q,f=p.y+c.baseline+Y;v[2*e]=l,v[2*e+1]=f;const y=l+S.xMin*t,_=f+S.yMin*t,b=l+S.xMax*t,x=f+S.yMax*t;y<B[0]&&(B[0]=y),_<B[1]&&(B[1]=_),b>B[2]&&(B[2]=b),x>B[3]&&(B[3]=x),e%M==0&&(n={start:e,end:e,rect:[r,r,-1/0,-1/0]},z.push(n)),n.end++;const w=n.rect;if(y<w[0]&&(w[0]=y),_<w[1]&&(w[1]=_),b>w[2]&&(w[2]=b),x>w[3]&&(w[3]=x),h[e]=m,d[e]=s,R){const t=3*e;E[t]=i>>16&255,E[t+1]=i>>8&255,E[t+2]=255&i}}}}})),F){const e=o.length-s;e>1&&u(F,s,e)}}const K=[];j.forEach((({index:e,src:t,unitsPerEm:r,ascender:n,descender:i,lineHeight:a,capHeight:o,xHeight:s})=>{K[e]={src:t,unitsPerEm:r,ascender:n,descender:i,lineHeight:a,capHeight:o,xHeight:s}})),P.typesetting=l()-N,D({glyphIds:h,glyphFontIndices:d,glyphPositions:v,glyphData:g,fontData:K,caretPositions:F,glyphColors:E,chunkedBounds:z,fontSize:p,topBaseline:Y+$[0].baseline,blockBounds:[q,Y-X,q+O,Y],visibleBounds:B,timings:P})}))}function s(e){let t=e.match(/^([\d.]+)%$/),r=t?parseFloat(t[1]):NaN;return isNaN(r)?0:r/100}function u(e,t,r){const n=e[4*t],i=e[4*t+1],a=e[4*t+2],o=e[4*t+3],s=(i-n)/r;for(let i=0;i<r;i++){const r=4*(t+i);e[r]=n+s*i,e[r+1]=n+s*(i+1),e[r+2]=a,e[r+3]=o}}function l(){return(self.performance||Date).now()}function c(){this.data=[]}const f=["glyphObj","x","y","width","charIndex","fontData"];return c.prototype={width:0,lineHeight:0,baseline:0,cap:0,ex:0,isSoftWrapped:!1,get count(){return Math.ceil(this.data.length/f.length)},glyphAt(e){let t=c.flyweight;return t.data=this.data,t.index=e,t},splitAt(e){let t=new c;return t.data=this.data.splice(e*f.length),t}},c.flyweight=f.reduce(((e,t,r,n)=>(Object.defineProperty(e,t,{get(){return this.data[this.index*f.length+r]},set(e){this.data[this.index*f.length+r]=e}}),e)),{data:null,index:0}),{typeset:o,measure:function(e,t){o({...e,metricsOnly:!0},(e=>{const[r,n,i,a]=e.blockBounds;t({width:i-r,height:a-n})}))}}},M,g],init(e,t,r){return e(t,r())}}),te=h({name:"Typesetter",dependencies:[ee],init(e){return function(t){return new Promise((r=>{e.typeset(t,r)}))}},getTransferables(e){const t=[];for(let r in e)e[r]&&e[r].buffer&&t.push(e[r].buffer);return t}}),re=te.onMainThread;const ne={};const ie="aTroikaGlyphBounds",ae="aTroikaGlyphIndex";class oe extends n.L5s{constructor(){super(),this.detail=1,this.curveRadius=0,this.groups=[{start:0,count:1/0,materialIndex:0},{start:0,count:1/0,materialIndex:1}],this.boundingSphere=new n.aLr,this.boundingBox=new n.ZzF}computeBoundingSphere(){}computeBoundingBox(){}set detail(e){if(e!==this._detail){this._detail=e,("number"!=typeof e||e<1)&&(e=1);let t=function(e){let t=ne[e];return t||(t=ne[e]=new n._12(1,1,e,e).translate(.5,.5,0)),t}(e);["position","normal","uv"].forEach((e=>{this.attributes[e]=t.attributes[e].clone()})),this.setIndex(t.getIndex().clone())}}get detail(){return this._detail}set curveRadius(e){e!==this._curveRadius&&(this._curveRadius=e,this._updateBounds())}get curveRadius(){return this._curveRadius}updateGlyphs(e,t,r,n,i){this.updateAttributeData(ie,e,4),this.updateAttributeData(ae,t,1),this.updateAttributeData("aTroikaGlyphColor",i,3),this._blockBounds=r,this._chunkedBounds=n,this.instanceCount=t.length,this._updateBounds()}_updateBounds(){const e=this._blockBounds;if(e){const{curveRadius:t,boundingBox:r}=this;if(t){const{PI:n,floor:i,min:a,max:o,sin:s,cos:u}=Math,l=n/2,c=2*n,f=Math.abs(t),h=e[0]/f,d=e[2]/f,p=i((h+l)/c)!==i((d+l)/c)?-f:a(s(h)*f,s(d)*f),v=i((h-l)/c)!==i((d-l)/c)?f:o(s(h)*f,s(d)*f),g=i((h+n)/c)!==i((d+n)/c)?2*f:o(f-u(h)*f,f-u(d)*f);r.min.set(p,e[1],t<0?-g:0),r.max.set(v,e[3],t<0?0:g)}else r.min.set(e[0],e[1],0),r.max.set(e[2],e[3],0);r.getBoundingSphere(this.boundingSphere)}}applyClipRect(e){let t=this.getAttribute(ae).count,r=this._chunkedBounds;if(r)for(let n=r.length;n--;){t=r[n].end;let i=r[n].rect;if(i[1]<e.w&&i[3]>e.y&&i[0]<e.z&&i[2]>e.x)break}this.instanceCount=t}updateAttributeData(e,t,r){const i=this.getAttribute(e);t?i&&i.array.length===t.length?(i.array.set(t),i.needsUpdate=!0):(this.setAttribute(e,new n.lb7(t,r)),delete this._maxInstanceCount,this.dispose()):i&&this.deleteAttribute(e)}}function se(e){const t=U(e,{chained:!0,extensions:{derivatives:!0},uniforms:{uTroikaSDFTexture:{value:null},uTroikaSDFTextureSize:{value:new n.FM8},uTroikaSDFGlyphSize:{value:0},uTroikaSDFExponent:{value:0},uTroikaTotalBounds:{value:new n.Ltg(0,0,0,0)},uTroikaClipRect:{value:new n.Ltg(0,0,0,0)},uTroikaEdgeOffset:{value:0},uTroikaFillOpacity:{value:1},uTroikaPositionOffset:{value:new n.FM8},uTroikaCurveRadius:{value:0},uTroikaBlurRadius:{value:0},uTroikaStrokeWidth:{value:0},uTroikaStrokeColor:{value:new n.Ilk},uTroikaStrokeOpacity:{value:1},uTroikaOrient:{value:new n.Vkp},uTroikaUseGlyphColors:{value:!0},uTroikaSDFDebug:{value:!1}},vertexDefs:"\nuniform vec2 uTroikaSDFTextureSize;\nuniform float uTroikaSDFGlyphSize;\nuniform vec4 uTroikaTotalBounds;\nuniform vec4 uTroikaClipRect;\nuniform mat3 uTroikaOrient;\nuniform bool uTroikaUseGlyphColors;\nuniform float uTroikaEdgeOffset;\nuniform float uTroikaBlurRadius;\nuniform vec2 uTroikaPositionOffset;\nuniform float uTroikaCurveRadius;\nattribute vec4 aTroikaGlyphBounds;\nattribute float aTroikaGlyphIndex;\nattribute vec3 aTroikaGlyphColor;\nvarying vec2 vTroikaGlyphUV;\nvarying vec4 vTroikaTextureUVBounds;\nvarying float vTroikaTextureChannel;\nvarying vec3 vTroikaGlyphColor;\nvarying vec2 vTroikaGlyphDimensions;\n",vertexTransform:"\nvec4 bounds = aTroikaGlyphBounds;\nbounds.xz += uTroikaPositionOffset.x;\nbounds.yw -= uTroikaPositionOffset.y;\n\nvec4 outlineBounds = vec4(\n  bounds.xy - uTroikaEdgeOffset - uTroikaBlurRadius,\n  bounds.zw + uTroikaEdgeOffset + uTroikaBlurRadius\n);\nvec4 clippedBounds = vec4(\n  clamp(outlineBounds.xy, uTroikaClipRect.xy, uTroikaClipRect.zw),\n  clamp(outlineBounds.zw, uTroikaClipRect.xy, uTroikaClipRect.zw)\n);\n\nvec2 clippedXY = (mix(clippedBounds.xy, clippedBounds.zw, position.xy) - bounds.xy) / (bounds.zw - bounds.xy);\n\nposition.xy = mix(bounds.xy, bounds.zw, clippedXY);\n\nuv = (position.xy - uTroikaTotalBounds.xy) / (uTroikaTotalBounds.zw - uTroikaTotalBounds.xy);\n\nfloat rad = uTroikaCurveRadius;\nif (rad != 0.0) {\n  float angle = position.x / rad;\n  position.xz = vec2(sin(angle) * rad, rad - cos(angle) * rad);\n  normal.xz = vec2(sin(angle), cos(angle));\n}\n  \nposition = uTroikaOrient * position;\nnormal = uTroikaOrient * normal;\n\nvTroikaGlyphUV = clippedXY.xy;\nvTroikaGlyphDimensions = vec2(bounds[2] - bounds[0], bounds[3] - bounds[1]);\n\n\nfloat txCols = uTroikaSDFTextureSize.x / uTroikaSDFGlyphSize;\nvec2 txUvPerSquare = uTroikaSDFGlyphSize / uTroikaSDFTextureSize;\nvec2 txStartUV = txUvPerSquare * vec2(\n  mod(floor(aTroikaGlyphIndex / 4.0), txCols),\n  floor(floor(aTroikaGlyphIndex / 4.0) / txCols)\n);\nvTroikaTextureUVBounds = vec4(txStartUV, vec2(txStartUV) + txUvPerSquare);\nvTroikaTextureChannel = mod(aTroikaGlyphIndex, 4.0);\n",fragmentDefs:"\nuniform sampler2D uTroikaSDFTexture;\nuniform vec2 uTroikaSDFTextureSize;\nuniform float uTroikaSDFGlyphSize;\nuniform float uTroikaSDFExponent;\nuniform float uTroikaEdgeOffset;\nuniform float uTroikaFillOpacity;\nuniform float uTroikaBlurRadius;\nuniform vec3 uTroikaStrokeColor;\nuniform float uTroikaStrokeWidth;\nuniform float uTroikaStrokeOpacity;\nuniform bool uTroikaSDFDebug;\nvarying vec2 vTroikaGlyphUV;\nvarying vec4 vTroikaTextureUVBounds;\nvarying float vTroikaTextureChannel;\nvarying vec2 vTroikaGlyphDimensions;\n\nfloat troikaSdfValueToSignedDistance(float alpha) {\n  // Inverse of exponential encoding in webgl-sdf-generator\n  \n  float maxDimension = max(vTroikaGlyphDimensions.x, vTroikaGlyphDimensions.y);\n  float absDist = (1.0 - pow(2.0 * (alpha > 0.5 ? 1.0 - alpha : alpha), 1.0 / uTroikaSDFExponent)) * maxDimension;\n  float signedDist = absDist * (alpha > 0.5 ? -1.0 : 1.0);\n  return signedDist;\n}\n\nfloat troikaGlyphUvToSdfValue(vec2 glyphUV) {\n  vec2 textureUV = mix(vTroikaTextureUVBounds.xy, vTroikaTextureUVBounds.zw, glyphUV);\n  vec4 rgba = texture2D(uTroikaSDFTexture, textureUV);\n  float ch = floor(vTroikaTextureChannel + 0.5); //NOTE: can't use round() in WebGL1\n  return ch == 0.0 ? rgba.r : ch == 1.0 ? rgba.g : ch == 2.0 ? rgba.b : rgba.a;\n}\n\nfloat troikaGlyphUvToDistance(vec2 uv) {\n  return troikaSdfValueToSignedDistance(troikaGlyphUvToSdfValue(uv));\n}\n\nfloat troikaGetAADist() {\n  \n  #if defined(GL_OES_standard_derivatives) || __VERSION__ >= 300\n  return length(fwidth(vTroikaGlyphUV * vTroikaGlyphDimensions)) * 0.5;\n  #else\n  return vTroikaGlyphDimensions.x / 64.0;\n  #endif\n}\n\nfloat troikaGetFragDistValue() {\n  vec2 clampedGlyphUV = clamp(vTroikaGlyphUV, 0.5 / uTroikaSDFGlyphSize, 1.0 - 0.5 / uTroikaSDFGlyphSize);\n  float distance = troikaGlyphUvToDistance(clampedGlyphUV);\n \n  // Extrapolate distance when outside bounds:\n  distance += clampedGlyphUV == vTroikaGlyphUV ? 0.0 : \n    length((vTroikaGlyphUV - clampedGlyphUV) * vTroikaGlyphDimensions);\n\n  \n\n  return distance;\n}\n\nfloat troikaGetEdgeAlpha(float distance, float distanceOffset, float aaDist) {\n  #if defined(IS_DEPTH_MATERIAL) || defined(IS_DISTANCE_MATERIAL)\n  float alpha = step(-distanceOffset, -distance);\n  #else\n\n  float alpha = smoothstep(\n    distanceOffset + aaDist,\n    distanceOffset - aaDist,\n    distance\n  );\n  #endif\n\n  return alpha;\n}\n",fragmentColorTransform:"\nfloat aaDist = troikaGetAADist();\nfloat fragDistance = troikaGetFragDistValue();\nfloat edgeAlpha = uTroikaSDFDebug ?\n  troikaGlyphUvToSdfValue(vTroikaGlyphUV) :\n  troikaGetEdgeAlpha(fragDistance, uTroikaEdgeOffset, max(aaDist, uTroikaBlurRadius));\n\n#if !defined(IS_DEPTH_MATERIAL) && !defined(IS_DISTANCE_MATERIAL)\nvec4 fillRGBA = gl_FragColor;\nfillRGBA.a *= uTroikaFillOpacity;\nvec4 strokeRGBA = uTroikaStrokeWidth == 0.0 ? fillRGBA : vec4(uTroikaStrokeColor, uTroikaStrokeOpacity);\nif (fillRGBA.a == 0.0) fillRGBA.rgb = strokeRGBA.rgb;\ngl_FragColor = mix(fillRGBA, strokeRGBA, smoothstep(\n  -uTroikaStrokeWidth - aaDist,\n  -uTroikaStrokeWidth + aaDist,\n  fragDistance\n));\ngl_FragColor.a *= edgeAlpha;\n#endif\n\nif (edgeAlpha == 0.0) {\n  discard;\n}\n",customRewriter({vertexShader:e,fragmentShader:t}){let r=/\buniform\s+vec3\s+diffuse\b/;return r.test(t)&&(t=t.replace(r,"varying vec3 vTroikaGlyphColor").replace(/\bdiffuse\b/g,"vTroikaGlyphColor"),r.test(e)||(e=e.replace(m,"uniform vec3 diffuse;\n$&\nvTroikaGlyphColor = uTroikaUseGlyphColors ? aTroikaGlyphColor / 255.0 : diffuse;\n"))),{vertexShader:e,fragmentShader:t}}});return t.transparent=!0,t.forceSinglePass=!0,Object.defineProperties(t,{isTroikaTextMaterial:{value:!0},shadowSide:{get(){return this.side},set(){}}}),t}const ue=new n.vBJ({color:16777215,side:n.ehD,transparent:!0}),le=8421504,ce=new n.yGw,fe=new n.Pa4,he=new n.Pa4,de=[],pe=new n.Pa4,ve="+x+y";function ge(e){return Array.isArray(e)?e[0]:e}let me=()=>{const e=new n.Kj0(new n._12(1,1),ue);return me=()=>e,e},ye=()=>{const e=new n.Kj0(new n._12(1,1,32,1),ue);return ye=()=>e,e};const _e={type:"syncstart"},be={type:"synccomplete"},xe=["font","fontSize","fontStyle","fontWeight","lang","letterSpacing","lineHeight","maxWidth","overflowWrap","text","direction","textAlign","textIndent","whiteSpace","anchorX","anchorY","colorRanges","sdfGlyphSize"],Se=xe.concat("material","color","depthOffset","clipRect","curveRadius","orientation","glyphGeometryDetail");class we extends n.Kj0{constructor(){super(new oe,null),this.text="",this.anchorX=0,this.anchorY=0,this.curveRadius=0,this.direction="auto",this.font=null,this.unicodeFontsURL=null,this.fontSize=.1,this.fontWeight="normal",this.fontStyle="normal",this.lang=null,this.letterSpacing=0,this.lineHeight="normal",this.maxWidth=1/0,this.overflowWrap="normal",this.textAlign="left",this.textIndent=0,this.whiteSpace="normal",this.material=null,this.color=null,this.colorRanges=null,this.outlineWidth=0,this.outlineColor=0,this.outlineOpacity=1,this.outlineBlur=0,this.outlineOffsetX=0,this.outlineOffsetY=0,this.strokeWidth=0,this.strokeColor=le,this.strokeOpacity=1,this.fillOpacity=1,this.depthOffset=0,this.clipRect=null,this.orientation=ve,this.glyphGeometryDetail=1,this.sdfGlyphSize=null,this.gpuAccelerateSDF=!0,this.debugSDF=!1}sync(e){this._needsSync&&(this._needsSync=!1,this._isSyncing?(this._queuedSyncs||(this._queuedSyncs=[])).push(e):(this._isSyncing=!0,this.dispatchEvent(_e),q({text:this.text,font:this.font,lang:this.lang,fontSize:this.fontSize||.1,fontWeight:this.fontWeight||"normal",fontStyle:this.fontStyle||"normal",letterSpacing:this.letterSpacing||0,lineHeight:this.lineHeight||"normal",maxWidth:this.maxWidth,direction:this.direction||"auto",textAlign:this.textAlign,textIndent:this.textIndent,whiteSpace:this.whiteSpace,overflowWrap:this.overflowWrap,anchorX:this.anchorX,anchorY:this.anchorY,colorRanges:this.colorRanges,includeCaretPositions:!0,sdfGlyphSize:this.sdfGlyphSize,gpuAccelerateSDF:this.gpuAccelerateSDF,unicodeFontsURL:this.unicodeFontsURL},(t=>{this._isSyncing=!1,this._textRenderInfo=t,this.geometry.updateGlyphs(t.glyphBounds,t.glyphAtlasIndices,t.blockBounds,t.chunkedBounds,t.glyphColors);const r=this._queuedSyncs;r&&(this._queuedSyncs=null,this._needsSync=!0,this.sync((()=>{r.forEach((e=>e&&e()))}))),this.dispatchEvent(be),e&&e()}))))}onBeforeRender(e,t,r,n,i,a){this.sync(),i.isTroikaTextMaterial&&this._prepareForRender(i)}dispose(){this.geometry.dispose()}get textRenderInfo(){return this._textRenderInfo||null}createDerivedMaterial(e){return se(e)}get material(){let e=this._derivedMaterial;const t=this._baseMaterial||this._defaultMaterial||(this._defaultMaterial=ue.clone());if(e&&e.isDerivedFrom(t)||(e=this._derivedMaterial=this.createDerivedMaterial(t),t.addEventListener("dispose",(function r(){t.removeEventListener("dispose",r),e.dispose()}))),this.hasOutline()){let t=e._outlineMtl;return t||(t=e._outlineMtl=Object.create(e,{id:{value:e.id+.1}}),t.isTextOutlineMaterial=!0,t.depthWrite=!1,t.map=null,e.addEventListener("dispose",(function r(){e.removeEventListener("dispose",r),t.dispose()}))),[t,e]}return e}set material(e){e&&e.isTroikaTextMaterial?(this._derivedMaterial=e,this._baseMaterial=e.baseMaterial):this._baseMaterial=e}hasOutline(){return!!(this.outlineWidth||this.outlineBlur||this.outlineOffsetX||this.outlineOffsetY)}get glyphGeometryDetail(){return this.geometry.detail}set glyphGeometryDetail(e){this.geometry.detail=e}get curveRadius(){return this.geometry.curveRadius}set curveRadius(e){this.geometry.curveRadius=e}get customDepthMaterial(){return ge(this.material).getDepthMaterial()}get customDistanceMaterial(){return ge(this.material).getDistanceMaterial()}_prepareForRender(e){const t=e.isTextOutlineMaterial,r=e.uniforms,i=this.textRenderInfo;if(i){const{sdfTexture:e,blockBounds:n}=i;r.uTroikaSDFTexture.value=e,r.uTroikaSDFTextureSize.value.set(e.image.width,e.image.height),r.uTroikaSDFGlyphSize.value=i.sdfGlyphSize,r.uTroikaSDFExponent.value=i.sdfExponent,r.uTroikaTotalBounds.value.fromArray(n),r.uTroikaUseGlyphColors.value=!t&&!!i.glyphColors;let a,o,s,u=0,l=0,c=0,f=0,h=0;if(t){let{outlineWidth:e,outlineOffsetX:t,outlineOffsetY:r,outlineBlur:n,outlineOpacity:i}=this;u=this._parsePercent(e)||0,l=Math.max(0,this._parsePercent(n)||0),a=i,f=this._parsePercent(t)||0,h=this._parsePercent(r)||0}else c=Math.max(0,this._parsePercent(this.strokeWidth)||0),c&&(s=this.strokeColor,r.uTroikaStrokeColor.value.set(null==s?le:s),o=this.strokeOpacity,null==o&&(o=1)),a=this.fillOpacity;r.uTroikaEdgeOffset.value=u,r.uTroikaPositionOffset.value.set(f,h),r.uTroikaBlurRadius.value=l,r.uTroikaStrokeWidth.value=c,r.uTroikaStrokeOpacity.value=o,r.uTroikaFillOpacity.value=null==a?1:a,r.uTroikaCurveRadius.value=this.curveRadius||0;let d=this.clipRect;if(d&&Array.isArray(d)&&4===d.length)r.uTroikaClipRect.value.fromArray(d);else{const e=100*(this.fontSize||.1);r.uTroikaClipRect.value.set(n[0]-e,n[1]-e,n[2]+e,n[3]+e)}this.geometry.applyClipRect(r.uTroikaClipRect.value)}r.uTroikaSDFDebug.value=!!this.debugSDF,e.polygonOffset=!!this.depthOffset,e.polygonOffsetFactor=e.polygonOffsetUnits=this.depthOffset||0;const a=t?this.outlineColor||0:this.color;if(null==a)delete e.color;else{const t=e.hasOwnProperty("color")?e.color:e.color=new n.Ilk;a===t._input&&"object"!=typeof a||t.set(t._input=a)}let o=this.orientation||ve;if(o!==e._orientation){let t=r.uTroikaOrient.value;o=o.replace(/[^-+xyz]/g,"");let n=o!==ve&&o.match(/^([-+])([xyz])([-+])([xyz])$/);if(n){let[,e,r,i,a]=n;fe.set(0,0,0)[r]="-"===e?1:-1,he.set(0,0,0)[a]="-"===i?-1:1,ce.lookAt(pe,fe.cross(he),he),t.setFromMatrix4(ce)}else t.identity();e._orientation=o}}_parsePercent(e){if("string"==typeof e){let t=e.match(/^(-?[\d.]+)%$/),r=t?parseFloat(t[1]):NaN;e=(isNaN(r)?0:r/100)*this.fontSize}return e}localPositionToTextCoords(e,t=new n.FM8){t.copy(e);const r=this.curveRadius;return r&&(t.x=Math.atan2(e.x,Math.abs(r)-Math.abs(e.z))*Math.abs(r)),t}worldPositionToTextCoords(e,t=new n.FM8){return fe.copy(e),this.localPositionToTextCoords(this.worldToLocal(fe),t)}raycast(e,t){const{textRenderInfo:r,curveRadius:n}=this;if(r){const i=r.blockBounds,a=n?ye():me(),o=a.geometry,{position:s,uv:u}=o.attributes;for(let e=0;e<u.count;e++){let t=i[0]+u.getX(e)*(i[2]-i[0]);const r=i[1]+u.getY(e)*(i[3]-i[1]);let a=0;n&&(a=n-Math.cos(t/n)*n,t=Math.sin(t/n)*n),s.setXYZ(e,t,r,a)}o.boundingSphere=this.geometry.boundingSphere,o.boundingBox=this.geometry.boundingBox,a.matrixWorld=this.matrixWorld,a.material.side=this.material.side,de.length=0,a.raycast(e,de);for(let e=0;e<de.length;e++)de[e].object=this,t.push(de[e])}}copy(e){const t=this.geometry;return super.copy(e),this.geometry=t,Se.forEach((t=>{this[t]=e[t]})),this}clone(){return(new this.constructor).copy(this)}}xe.forEach((e=>{const t="_private_"+e;Object.defineProperty(we.prototype,e,{get(){return this[t]},set(e){e!==this[t]&&(this[t]=e,this._needsSync=!0)}})}));new n.ZzF,new n.Ilk;new WeakMap;new WeakMap},42399:function(e,t,r){"use strict";r.d(t,{CD:function(){return G},DD:function(){return I},H5:function(){return Y},Mn:function(){return H},xC:function(){return p}});var n=r(99892),i=.001,a=(()=>{const e=new Float32Array([-1,-1,0,3,-1,0,-1,3,0]),t=new Float32Array([0,0,2,0,0,2]),r=new n.u9r;return r.setAttribute("position",new n.TlE(e,3)),r.setAttribute("uv",new n.TlE(t,2)),r})(),o=class e{static get fullscreenGeometry(){return a}constructor(e="Pass",t=new n.xsS,r=new n.V1s){this.name=e,this.renderer=null,this.scene=t,this.camera=r,this.screen=null,this.rtt=!0,this.needsSwap=!0,this.needsDepthTexture=!1,this.enabled=!0}get renderToScreen(){return!this.rtt}set renderToScreen(e){if(this.rtt===e){const t=this.fullscreenMaterial;null!==t&&(t.needsUpdate=!0),this.rtt=!e}}set mainScene(e){}set mainCamera(e){}setRenderer(e){this.renderer=e}isEnabled(){return this.enabled}setEnabled(e){this.enabled=e}get fullscreenMaterial(){return null!==this.screen?this.screen.material:null}set fullscreenMaterial(t){let r=this.screen;null!==r?r.material=t:(r=new n.Kj0(e.fullscreenGeometry,t),r.frustumCulled=!1,null===this.scene&&(this.scene=new n.xsS),this.scene.add(r),this.screen=r)}getFullscreenMaterial(){return this.fullscreenMaterial}setFullscreenMaterial(e){this.fullscreenMaterial=e}getDepthTexture(){return null}setDepthTexture(e,t=n.z81){}render(e,t,r,n,i){throw new Error("Render method not implemented!")}setSize(e,t){}initialize(e,t,r){}dispose(){for(const t of Object.keys(this)){const r=this[t];(r instanceof n.dd2||r instanceof n.F5T||r instanceof n.xEZ||r instanceof e)&&this[t].dispose()}null!==this.fullscreenMaterial&&this.fullscreenMaterial.dispose()}},s=class extends o{constructor(){super("ClearMaskPass",null,null),this.needsSwap=!1}render(e,t,r,n,i){const a=e.state.buffers.stencil;a.setLocked(!1),a.setTest(!1)}},u="varying vec2 vUv;void main(){vUv=position.xy*0.5+0.5;gl_Position=vec4(position.xy,1.0,1.0);}",l=class extends n.jyz{constructor(){super({name:"CopyMaterial",uniforms:{inputBuffer:new n.xWb(null),opacity:new n.xWb(1)},blending:n.jFi,toneMapped:!1,depthWrite:!1,depthTest:!1,fragmentShader:"#include <common>\n#include <dithering_pars_fragment>\n#ifdef FRAMEBUFFER_PRECISION_HIGH\nuniform mediump sampler2D inputBuffer;\n#else\nuniform lowp sampler2D inputBuffer;\n#endif\nuniform float opacity;varying vec2 vUv;void main(){vec4 texel=texture2D(inputBuffer,vUv);gl_FragColor=opacity*texel;\n#include <colorspace_fragment>\n#include <dithering_fragment>\n}",vertexShader:u})}set inputBuffer(e){this.uniforms.inputBuffer.value=e}setInputBuffer(e){this.uniforms.inputBuffer.value=e}getOpacity(e){return this.uniforms.opacity.value}setOpacity(e){this.uniforms.opacity.value=e}},c=class extends o{constructor(e,t=!0){super("CopyPass"),this.fullscreenMaterial=new l,this.needsSwap=!1,this.renderTarget=e,void 0===e&&(this.renderTarget=new n.dd2(1,1,{minFilter:n.wem,magFilter:n.wem,stencilBuffer:!1,depthBuffer:!1}),this.renderTarget.texture.name="CopyPass.Target"),this.autoResize=t}get resize(){return this.autoResize}set resize(e){this.autoResize=e}get texture(){return this.renderTarget.texture}getTexture(){return this.renderTarget.texture}setAutoResizeEnabled(e){this.autoResize=e}render(e,t,r,n,i){this.fullscreenMaterial.inputBuffer=t.texture,e.setRenderTarget(this.renderToScreen?null:this.renderTarget),e.render(this.scene,this.camera)}setSize(e,t){this.autoResize&&this.renderTarget.setSize(e,t)}initialize(e,t,r){void 0!==r&&(this.renderTarget.texture.type=r,r!==n.ywz?this.fullscreenMaterial.defines.FRAMEBUFFER_PRECISION_HIGH="1":null!==e&&e.outputColorSpace===n.KI_&&(this.renderTarget.texture.colorSpace=n.KI_))}},f=new n.Ilk,h=class extends o{constructor(e=!0,t=!0,r=!1){super("ClearPass",null,null),this.needsSwap=!1,this.color=e,this.depth=t,this.stencil=r,this.overrideClearColor=null,this.overrideClearAlpha=-1}setClearFlags(e,t,r){this.color=e,this.depth=t,this.stencil=r}getOverrideClearColor(){return this.overrideClearColor}setOverrideClearColor(e){this.overrideClearColor=e}getOverrideClearAlpha(){return this.overrideClearAlpha}setOverrideClearAlpha(e){this.overrideClearAlpha=e}render(e,t,r,n,i){const a=this.overrideClearColor,o=this.overrideClearAlpha,s=e.getClearAlpha(),u=null!==a,l=o>=0;u?(e.getClearColor(f),e.setClearColor(a,l?o:s)):l&&e.setClearAlpha(o),e.setRenderTarget(this.renderToScreen?null:t),e.clear(this.color,this.depth,this.stencil),u?e.setClearColor(f,s):l&&e.setClearAlpha(s)}},d=class extends o{constructor(e,t){super("MaskPass",e,t),this.needsSwap=!1,this.clearPass=new h(!1,!1,!0),this.inverse=!1}set mainScene(e){this.scene=e}set mainCamera(e){this.camera=e}get inverted(){return this.inverse}set inverted(e){this.inverse=e}get clear(){return this.clearPass.enabled}set clear(e){this.clearPass.enabled=e}getClearPass(){return this.clearPass}isInverted(){return this.inverted}setInverted(e){this.inverted=e}render(e,t,r,n,i){const a=e.getContext(),o=e.state.buffers,s=this.scene,u=this.camera,l=this.clearPass,c=this.inverted?0:1,f=1-c;o.color.setMask(!1),o.depth.setMask(!1),o.color.setLocked(!0),o.depth.setLocked(!0),o.stencil.setTest(!0),o.stencil.setOp(a.REPLACE,a.REPLACE,a.REPLACE),o.stencil.setFunc(a.ALWAYS,c,4294967295),o.stencil.setClear(f),o.stencil.setLocked(!0),this.clearPass.enabled&&(this.renderToScreen?l.render(e,null):(l.render(e,t),l.render(e,r))),this.renderToScreen?(e.setRenderTarget(null),e.render(s,u)):(e.setRenderTarget(t),e.render(s,u),e.setRenderTarget(r),e.render(s,u)),o.color.setLocked(!1),o.depth.setLocked(!1),o.stencil.setLocked(!1),o.stencil.setFunc(a.EQUAL,1,4294967295),o.stencil.setOp(a.KEEP,a.KEEP,a.KEEP),o.stencil.setLocked(!0)}},p=class{constructor(e=null,{depthBuffer:t=!0,stencilBuffer:r=!1,multisampling:n=0,frameBufferType:a}={}){this.renderer=null,this.inputBuffer=this.createBuffer(t,r,a,n),this.outputBuffer=this.inputBuffer.clone(),this.copyPass=new c,this.depthTexture=null,this.passes=[],this.timer=new class{constructor(){this.startTime=performance.now(),this.previousTime=0,this.currentTime=0,this._delta=0,this._elapsed=0,this._fixedDelta=1e3/60,this.timescale=1,this.useFixedDelta=!1,this._autoReset=!1}get autoReset(){return this._autoReset}set autoReset(e){"undefined"!=typeof document&&void 0!==document.hidden&&(e?document.addEventListener("visibilitychange",this):document.removeEventListener("visibilitychange",this),this._autoReset=e)}get delta(){return this._delta*i}get fixedDelta(){return this._fixedDelta*i}set fixedDelta(e){this._fixedDelta=1e3*e}get elapsed(){return this._elapsed*i}update(e){this.useFixedDelta?this._delta=this.fixedDelta:(this.previousTime=this.currentTime,this.currentTime=(void 0!==e?e:performance.now())-this.startTime,this._delta=this.currentTime-this.previousTime),this._delta*=this.timescale,this._elapsed+=this._delta}reset(){this._delta=0,this._elapsed=0,this.currentTime=performance.now()-this.startTime}getDelta(){return this.delta}getElapsed(){return this.elapsed}handleEvent(e){document.hidden||(this.currentTime=performance.now()-this.startTime)}dispose(){this.autoReset=!1}},this.autoRenderToScreen=!0,this.setRenderer(e)}get multisampling(){return this.inputBuffer.samples||0}set multisampling(e){const t=this.inputBuffer,r=this.multisampling;r>0&&e>0?(this.inputBuffer.samples=e,this.outputBuffer.samples=e,this.inputBuffer.dispose(),this.outputBuffer.dispose()):r!==e&&(this.inputBuffer.dispose(),this.outputBuffer.dispose(),this.inputBuffer=this.createBuffer(t.depthBuffer,t.stencilBuffer,t.texture.type,e),this.inputBuffer.depthTexture=this.depthTexture,this.outputBuffer=this.inputBuffer.clone())}getTimer(){return this.timer}getRenderer(){return this.renderer}setRenderer(e){if(this.renderer=e,null!==e){const t=e.getSize(new n.FM8),r=e.getContext().getContextAttributes().alpha,i=this.inputBuffer.texture.type;i===n.ywz&&e.outputColorSpace===n.KI_&&(this.inputBuffer.texture.colorSpace=n.KI_,this.outputBuffer.texture.colorSpace=n.KI_,this.inputBuffer.dispose(),this.outputBuffer.dispose()),e.autoClear=!1,this.setSize(t.width,t.height);for(const t of this.passes)t.initialize(e,r,i)}}replaceRenderer(e,t=!0){const r=this.renderer,n=r.domElement.parentNode;return this.setRenderer(e),t&&null!==n&&(n.removeChild(r.domElement),n.appendChild(e.domElement)),r}createDepthTexture(){const e=this.depthTexture=new n.$YQ;return this.inputBuffer.depthTexture=e,this.inputBuffer.dispose(),this.inputBuffer.stencilBuffer?(e.format=n.brP,e.type=n.wJv):e.type=n.JQ4,e}deleteDepthTexture(){if(null!==this.depthTexture){this.depthTexture.dispose(),this.depthTexture=null,this.inputBuffer.depthTexture=null,this.inputBuffer.dispose();for(const e of this.passes)e.setDepthTexture(null)}}createBuffer(e,t,r,i){const a=this.renderer,o=null===a?new n.FM8:a.getDrawingBufferSize(new n.FM8),s={minFilter:n.wem,magFilter:n.wem,stencilBuffer:t,depthBuffer:e,type:r},u=new n.dd2(o.width,o.height,s);return i>0&&(u.ignoreDepthForMultisampleCopy=!1,u.samples=i),r===n.ywz&&null!==a&&a.outputColorSpace===n.KI_&&(u.texture.colorSpace=n.KI_),u.texture.name="EffectComposer.Buffer",u.texture.generateMipmaps=!1,u}setMainScene(e){for(const t of this.passes)t.mainScene=e}setMainCamera(e){for(const t of this.passes)t.mainCamera=e}addPass(e,t){const r=this.passes,i=this.renderer,a=i.getDrawingBufferSize(new n.FM8),o=i.getContext().getContextAttributes().alpha,s=this.inputBuffer.texture.type;if(e.setRenderer(i),e.setSize(a.width,a.height),e.initialize(i,o,s),this.autoRenderToScreen&&(r.length>0&&(r[r.length-1].renderToScreen=!1),e.renderToScreen&&(this.autoRenderToScreen=!1)),void 0!==t?r.splice(t,0,e):r.push(e),this.autoRenderToScreen&&(r[r.length-1].renderToScreen=!0),e.needsDepthTexture||null!==this.depthTexture)if(null===this.depthTexture){const t=this.createDepthTexture();for(e of r)e.setDepthTexture(t)}else e.setDepthTexture(this.depthTexture)}removePass(e){const t=this.passes,r=t.indexOf(e);if(-1!==r&&t.splice(r,1).length>0){if(null!==this.depthTexture){const r=(e,t)=>e||t.needsDepthTexture;t.reduce(r,!1)||(e.getDepthTexture()===this.depthTexture&&e.setDepthTexture(null),this.deleteDepthTexture())}this.autoRenderToScreen&&r===t.length&&(e.renderToScreen=!1,t.length>0&&(t[t.length-1].renderToScreen=!0))}}removeAllPasses(){const e=this.passes;this.deleteDepthTexture(),e.length>0&&(this.autoRenderToScreen&&(e[e.length-1].renderToScreen=!1),this.passes=[])}render(e){const t=this.renderer,r=this.copyPass;let n,i,a,o=this.inputBuffer,u=this.outputBuffer,l=!1;void 0===e&&(this.timer.update(),e=this.timer.getDelta());for(const c of this.passes)c.enabled&&(c.render(t,o,u,e,l),c.needsSwap&&(l&&(r.renderToScreen=c.renderToScreen,n=t.getContext(),i=t.state.buffers.stencil,i.setFunc(n.NOTEQUAL,1,4294967295),r.render(t,o,u,e,l),i.setFunc(n.EQUAL,1,4294967295)),a=o,o=u,u=a),c instanceof d?l=!0:c instanceof s&&(l=!1))}setSize(e,t,r){const i=this.renderer,a=i.getSize(new n.FM8);void 0!==e&&void 0!==t||(e=a.width,t=a.height),a.width===e&&a.height===t||i.setSize(e,t,r);const o=i.getDrawingBufferSize(new n.FM8);this.inputBuffer.setSize(o.width,o.height),this.outputBuffer.setSize(o.width,o.height);for(const e of this.passes)e.setSize(o.width,o.height)}reset(){this.dispose(),this.autoRenderToScreen=!0}dispose(){for(const e of this.passes)e.dispose();this.passes=[],null!==this.inputBuffer&&this.inputBuffer.dispose(),null!==this.outputBuffer&&this.outputBuffer.dispose(),this.deleteDepthTexture(),this.copyPass.dispose(),this.timer.dispose(),o.fullscreenGeometry.dispose()}},v=0,g=1,m=2,y={FRAGMENT_HEAD:"FRAGMENT_HEAD",FRAGMENT_MAIN_UV:"FRAGMENT_MAIN_UV",FRAGMENT_MAIN_IMAGE:"FRAGMENT_MAIN_IMAGE",VERTEX_HEAD:"VERTEX_HEAD",VERTEX_MAIN_SUPPORT:"VERTEX_MAIN_SUPPORT"};var _=!1,b=class{constructor(e=null){this.originalMaterials=new Map,this.material=null,this.materials=null,this.materialsBackSide=null,this.materialsDoubleSide=null,this.materialsFlatShaded=null,this.materialsFlatShadedBackSide=null,this.materialsFlatShadedDoubleSide=null,this.setMaterial(e),this.meshCount=0,this.replaceMaterial=e=>{if(e.isMesh){let t;if(e.material.flatShading)switch(e.material.side){case n.ehD:t=this.materialsFlatShadedDoubleSide;break;case n._Li:t=this.materialsFlatShadedBackSide;break;default:t=this.materialsFlatShaded}else switch(e.material.side){case n.ehD:t=this.materialsDoubleSide;break;case n._Li:t=this.materialsBackSide;break;default:t=this.materials}this.originalMaterials.set(e,e.material),e.isSkinnedMesh?e.material=t[2]:e.isInstancedMesh?e.material=t[1]:e.material=t[0],++this.meshCount}}}cloneMaterial(e){if(!(e instanceof n.jyz))return e.clone();const t=e.uniforms,r=new Map;for(const e in t){const n=t[e].value;n.isRenderTargetTexture&&(t[e].value=null,r.set(e,n))}const i=e.clone();for(const e of r)t[e[0]].value=e[1],i.uniforms[e[0]].value=e[1];return i}setMaterial(e){if(this.disposeMaterials(),this.material=e,null!==e){const t=this.materials=[this.cloneMaterial(e),this.cloneMaterial(e),this.cloneMaterial(e)];for(const r of t)r.uniforms=Object.assign({},e.uniforms),r.side=n.Wl3;t[2].skinning=!0,this.materialsBackSide=t.map((t=>{const r=this.cloneMaterial(t);return r.uniforms=Object.assign({},e.uniforms),r.side=n._Li,r})),this.materialsDoubleSide=t.map((t=>{const r=this.cloneMaterial(t);return r.uniforms=Object.assign({},e.uniforms),r.side=n.ehD,r})),this.materialsFlatShaded=t.map((t=>{const r=this.cloneMaterial(t);return r.uniforms=Object.assign({},e.uniforms),r.flatShading=!0,r})),this.materialsFlatShadedBackSide=t.map((t=>{const r=this.cloneMaterial(t);return r.uniforms=Object.assign({},e.uniforms),r.flatShading=!0,r.side=n._Li,r})),this.materialsFlatShadedDoubleSide=t.map((t=>{const r=this.cloneMaterial(t);return r.uniforms=Object.assign({},e.uniforms),r.flatShading=!0,r.side=n.ehD,r}))}}render(e,t,r){const n=e.shadowMap.enabled;if(e.shadowMap.enabled=!1,_){const n=this.originalMaterials;this.meshCount=0,t.traverse(this.replaceMaterial),e.render(t,r);for(const e of n)e[0].material=e[1];this.meshCount!==n.size&&n.clear()}else{const n=t.overrideMaterial;t.overrideMaterial=this.material,e.render(t,r),t.overrideMaterial=n}e.shadowMap.enabled=n}disposeMaterials(){if(null!==this.material){const e=this.materials.concat(this.materialsBackSide).concat(this.materialsDoubleSide).concat(this.materialsFlatShaded).concat(this.materialsFlatShadedBackSide).concat(this.materialsFlatShadedDoubleSide);for(const t of e)t.dispose()}}dispose(){this.originalMaterials.clear(),this.disposeMaterials()}static get workaroundEnabled(){return _}static set workaroundEnabled(e){_=e}},x=-1,S=class extends n.pBf{constructor(e,t=-1,r=-1,i=1){super(),this.resizable=e,this.baseSize=new n.FM8(1,1),this.preferredSize=new n.FM8(t,r),this.target=this.preferredSize,this.s=i,this.effectiveSize=new n.FM8,this.addEventListener("change",(()=>this.updateEffectiveSize())),this.updateEffectiveSize()}updateEffectiveSize(){const e=this.baseSize,t=this.preferredSize,r=this.effectiveSize,n=this.scale;t.width!==x?r.width=t.width:t.height!==x?r.width=Math.round(t.height*(e.width/Math.max(e.height,1))):r.width=Math.round(e.width*n),t.height!==x?r.height=t.height:t.width!==x?r.height=Math.round(t.width/Math.max(e.width/Math.max(e.height,1),1)):r.height=Math.round(e.height*n)}get width(){return this.effectiveSize.width}set width(e){this.preferredWidth=e}get height(){return this.effectiveSize.height}set height(e){this.preferredHeight=e}getWidth(){return this.width}getHeight(){return this.height}get scale(){return this.s}set scale(e){this.s!==e&&(this.s=e,this.preferredSize.setScalar(x),this.dispatchEvent({type:"change"}),this.resizable.setSize(this.baseSize.width,this.baseSize.height))}getScale(){return this.scale}setScale(e){this.scale=e}get baseWidth(){return this.baseSize.width}set baseWidth(e){this.baseSize.width!==e&&(this.baseSize.width=e,this.dispatchEvent({type:"change"}),this.resizable.setSize(this.baseSize.width,this.baseSize.height))}getBaseWidth(){return this.baseWidth}setBaseWidth(e){this.baseWidth=e}get baseHeight(){return this.baseSize.height}set baseHeight(e){this.baseSize.height!==e&&(this.baseSize.height=e,this.dispatchEvent({type:"change"}),this.resizable.setSize(this.baseSize.width,this.baseSize.height))}getBaseHeight(){return this.baseHeight}setBaseHeight(e){this.baseHeight=e}setBaseSize(e,t){this.baseSize.width===e&&this.baseSize.height===t||(this.baseSize.set(e,t),this.dispatchEvent({type:"change"}),this.resizable.setSize(this.baseSize.width,this.baseSize.height))}get preferredWidth(){return this.preferredSize.width}set preferredWidth(e){this.preferredSize.width!==e&&(this.preferredSize.width=e,this.dispatchEvent({type:"change"}),this.resizable.setSize(this.baseSize.width,this.baseSize.height))}getPreferredWidth(){return this.preferredWidth}setPreferredWidth(e){this.preferredWidth=e}get preferredHeight(){return this.preferredSize.height}set preferredHeight(e){this.preferredSize.height!==e&&(this.preferredSize.height=e,this.dispatchEvent({type:"change"}),this.resizable.setSize(this.baseSize.width,this.baseSize.height))}getPreferredHeight(){return this.preferredHeight}setPreferredHeight(e){this.preferredHeight=e}setPreferredSize(e,t){this.preferredSize.width===e&&this.preferredSize.height===t||(this.preferredSize.set(e,t),this.dispatchEvent({type:"change"}),this.resizable.setSize(this.baseSize.width,this.baseSize.height))}copy(e){this.s=e.scale,this.baseSize.set(e.baseWidth,e.baseHeight),this.preferredSize.set(e.preferredWidth,e.preferredHeight),this.dispatchEvent({type:"change"}),this.resizable.setSize(this.baseSize.width,this.baseSize.height)}static get AUTO_SIZE(){return x}},w=new class{constructor(e=0){this.nextId=e}getNextId(){return this.nextId++}reset(e=0){return this.nextId=e,this}}(2),T=class extends Set{constructor(e,t=w.getNextId()){super(),this.exclusive=!1,this._layer=t,(this._layer<1||this._layer>31)&&(console.warn("Layer out of range, resetting to 2"),w.reset(2),this._layer=w.getNextId()),void 0!==e&&this.set(e)}get layer(){return this._layer}set layer(e){const t=this._layer;for(const r of this)r.layers.disable(t),r.layers.enable(e);this._layer=e}getLayer(){return this.layer}setLayer(e){this.layer=e}isExclusive(){return this.exclusive}setExclusive(e){this.exclusive=e}clear(){const e=this.layer;for(const t of this)t.layers.disable(e);return super.clear()}set(e){this.clear();for(const t of e)this.add(t);return this}indexOf(e){return this.has(e)?0:-1}add(e){return this.exclusive?e.layers.set(this.layer):e.layers.enable(this.layer),super.add(e)}delete(e){return this.has(e)&&e.layers.disable(this.layer),super.delete(e)}toggle(e){let t;return this.has(e)?(this.delete(e),t=!1):(this.add(e),t=!0),t}setVisible(e){for(const t of this)e?t.layers.enable(0):t.layers.disable(0);return this}},U=1,k=9,A=21,E=23,F=24,C=28,M=30,R=new Map([[0,"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,x+y,opacity);}"],[U,"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,y,min(y.a,opacity));}"],[2,"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,(x+y)*0.5,opacity);}"],[3,"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec3 xHSL=RGBToHSL(x.rgb);vec3 yHSL=RGBToHSL(y.rgb);vec3 z=HSLToRGB(vec3(yHSL.rg,xHSL.b));return vec4(mix(x.rgb,z,opacity),y.a);}"],[4,"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 z=mix(step(0.0,y)*(1.0-min(vec4(1.0),(1.0-x)/y)),vec4(1.0),step(1.0,x));return mix(x,z,opacity);}"],[5,"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 z=step(0.0,x)*mix(min(vec4(1.0),x/max(1.0-y,1e-9)),vec4(1.0),step(1.0,y));return mix(x,z,opacity);}"],[6,"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,min(x,y),opacity);}"],[7,"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,abs(x-y),opacity);}"],[8,"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,x/max(y,1e-12),opacity);}"],[k,null],[10,"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,(x+y-2.0*x*y),opacity);}"],[11,"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 a=min(x,1.0),b=min(y,1.0);vec4 z=mix(2.0*a*b,1.0-2.0*(1.0-a)*(1.0-b),step(0.5,y));return mix(x,z,opacity);}"],[12,"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,step(1.0,x+y),opacity);}"],[13,"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec3 xHSL=RGBToHSL(x.rgb);vec3 yHSL=RGBToHSL(y.rgb);vec3 z=HSLToRGB(vec3(yHSL.r,xHSL.gb));return vec4(mix(x.rgb,z,opacity),y.a);}"],[14,"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,1.0-y,opacity);}"],[15,"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,y*(1.0-x),opacity);}"],[16,"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,max(x,y),opacity);}"],[17,"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,clamp(y+x-1.0,0.0,1.0),opacity);}"],[18,"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,min(x+y,1.0),opacity);}"],[19,"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,clamp(2.0*y+x-1.0,0.0,1.0),opacity);}"],[20,"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec3 xHSL=RGBToHSL(x.rgb);vec3 yHSL=RGBToHSL(y.rgb);vec3 z=HSLToRGB(vec3(xHSL.rg,yHSL.b));return vec4(mix(x.rgb,z,opacity),y.a);}"],[A,"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,x*y,opacity);}"],[22,"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,1.0-abs(1.0-x-y),opacity);}"],[E,"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,y,opacity);}"],[F,"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 z=mix(2.0*y*x,1.0-2.0*(1.0-y)*(1.0-x),step(0.5,x));return mix(x,z,opacity);}"],[25,"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 y2=2.0*y;vec4 z=mix(mix(y2,x,step(0.5*x,y)),max(vec4(0.0),y2-1.0),step(x,(y2-1.0)));return mix(x,z,opacity);}"],[26,"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 z=mix(min(x*x/max(1.0-y,1e-12),1.0),y,step(1.0,y));return mix(x,z,opacity);}"],[27,"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec3 xHSL=RGBToHSL(x.rgb);vec3 yHSL=RGBToHSL(y.rgb);vec3 z=HSLToRGB(vec3(xHSL.r,yHSL.g,xHSL.b));return vec4(mix(x.rgb,z,opacity),y.a);}"],[C,"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,x+y-min(x*y,1.0),opacity);}"],[29,"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 y2=2.0*y;vec4 w=step(0.5,y);vec4 z=mix(x-(1.0-y2)*x*(1.0-x),mix(x+(y2-1.0)*(sqrt(x)-x),x+(y2-1.0)*x*((16.0*x-12.0)*x+3.0),w*(1.0-step(0.25,x))),w);return mix(x,z,opacity);}"],[M,"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return y;}"],[31,"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,max(x+y-1.0,0.0),opacity);}"],[32,"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 z=mix(max(1.0-min((1.0-x)/(2.0*y),1.0),0.0),min(x/(2.0*(1.0-y)),1.0),step(0.5,y));return mix(x,z,opacity);}"]]),D=class extends n.pBf{constructor(e,t=1){super(),this._blendFunction=e,this.opacity=new n.xWb(t)}getOpacity(){return this.opacity.value}setOpacity(e){this.opacity.value=e}get blendFunction(){return this._blendFunction}set blendFunction(e){this._blendFunction=e,this.dispatchEvent({type:"change"})}getBlendFunction(){return this.blendFunction}setBlendFunction(e){this.blendFunction=e}getShaderCode(){return R.get(this.blendFunction)}},I={VERY_SMALL:0,SMALL:1,MEDIUM:2,LARGE:3,VERY_LARGE:4,HUGE:5},P=[new Float32Array([0,0]),new Float32Array([0,1,1]),new Float32Array([0,1,1,2]),new Float32Array([0,1,2,2,3]),new Float32Array([0,1,2,3,4,4,5]),new Float32Array([0,1,2,3,4,5,7,8,9,10])],B=class extends n.jyz{constructor(e=new n.Ltg){super({name:"KawaseBlurMaterial",uniforms:{inputBuffer:new n.xWb(null),texelSize:new n.xWb(new n.Ltg),scale:new n.xWb(1),kernel:new n.xWb(0)},blending:n.jFi,toneMapped:!1,depthWrite:!1,depthTest:!1,fragmentShader:"#ifdef FRAMEBUFFER_PRECISION_HIGH\nuniform mediump sampler2D inputBuffer;\n#else\nuniform lowp sampler2D inputBuffer;\n#endif\nvarying vec2 vUv0;varying vec2 vUv1;varying vec2 vUv2;varying vec2 vUv3;void main(){vec4 sum=texture2D(inputBuffer,vUv0);sum+=texture2D(inputBuffer,vUv1);sum+=texture2D(inputBuffer,vUv2);sum+=texture2D(inputBuffer,vUv3);gl_FragColor=sum*0.25;\n#include <colorspace_fragment>\n}",vertexShader:"uniform vec4 texelSize;uniform float kernel;uniform float scale;varying vec2 vUv0;varying vec2 vUv1;varying vec2 vUv2;varying vec2 vUv3;void main(){vec2 uv=position.xy*0.5+0.5;vec2 dUv=(texelSize.xy*vec2(kernel)+texelSize.zw)*scale;vUv0=vec2(uv.x-dUv.x,uv.y+dUv.y);vUv1=vec2(uv.x+dUv.x,uv.y+dUv.y);vUv2=vec2(uv.x+dUv.x,uv.y-dUv.y);vUv3=vec2(uv.x-dUv.x,uv.y-dUv.y);gl_Position=vec4(position.xy,1.0,1.0);}"}),this.setTexelSize(e.x,e.y),this.kernelSize=I.MEDIUM}set inputBuffer(e){this.uniforms.inputBuffer.value=e}setInputBuffer(e){this.inputBuffer=e}get kernelSequence(){return P[this.kernelSize]}get scale(){return this.uniforms.scale.value}set scale(e){this.uniforms.scale.value=e}getScale(){return this.uniforms.scale.value}setScale(e){this.uniforms.scale.value=e}getKernel(){return null}get kernel(){return this.uniforms.kernel.value}set kernel(e){this.uniforms.kernel.value=e}setKernel(e){this.kernel=e}setTexelSize(e,t){this.uniforms.texelSize.value.set(e,t,.5*e,.5*t)}setSize(e,t){const r=1/e,n=1/t;this.uniforms.texelSize.value.set(r,n,.5*r,.5*n)}},z=class extends o{constructor({kernelSize:e=I.MEDIUM,resolutionScale:t=.5,width:r=S.AUTO_SIZE,height:i=S.AUTO_SIZE,resolutionX:a=r,resolutionY:o=i}={}){super("KawaseBlurPass"),this.renderTargetA=new n.dd2(1,1,{depthBuffer:!1}),this.renderTargetA.texture.name="Blur.Target.A",this.renderTargetB=this.renderTargetA.clone(),this.renderTargetB.texture.name="Blur.Target.B";const s=this.resolution=new S(this,a,o,t);s.addEventListener("change",(e=>this.setSize(s.baseWidth,s.baseHeight))),this._blurMaterial=new B,this._blurMaterial.kernelSize=e,this.copyMaterial=new l}getResolution(){return this.resolution}get blurMaterial(){return this._blurMaterial}set blurMaterial(e){this._blurMaterial=e}get dithering(){return this.copyMaterial.dithering}set dithering(e){this.copyMaterial.dithering=e}get kernelSize(){return this.blurMaterial.kernelSize}set kernelSize(e){this.blurMaterial.kernelSize=e}get width(){return this.resolution.width}set width(e){this.resolution.preferredWidth=e}get height(){return this.resolution.height}set height(e){this.resolution.preferredHeight=e}get scale(){return this.blurMaterial.scale}set scale(e){this.blurMaterial.scale=e}getScale(){return this.blurMaterial.scale}setScale(e){this.blurMaterial.scale=e}getKernelSize(){return this.kernelSize}setKernelSize(e){this.kernelSize=e}getResolutionScale(){return this.resolution.scale}setResolutionScale(e){this.resolution.scale=e}render(e,t,r,n,i){const a=this.scene,o=this.camera,s=this.renderTargetA,u=this.renderTargetB,l=this.blurMaterial,c=l.kernelSequence;let f=t;this.fullscreenMaterial=l;for(let t=0,r=c.length;t<r;++t){const r=0==(1&t)?s:u;l.kernel=c[t],l.inputBuffer=f.texture,e.setRenderTarget(r),e.render(a,o),f=r}this.fullscreenMaterial=this.copyMaterial,this.copyMaterial.inputBuffer=f.texture,e.setRenderTarget(this.renderToScreen?null:r),e.render(a,o)}setSize(e,t){const r=this.resolution;r.setBaseSize(e,t);const n=r.width,i=r.height;this.renderTargetA.setSize(n,i),this.renderTargetB.setSize(n,i),this.blurMaterial.setSize(e,t)}initialize(e,t,r){void 0!==r&&(this.renderTargetA.texture.type=r,this.renderTargetB.texture.type=r,r!==n.ywz?(this.blurMaterial.defines.FRAMEBUFFER_PRECISION_HIGH="1",this.copyMaterial.defines.FRAMEBUFFER_PRECISION_HIGH="1"):null!==e&&e.outputColorSpace===n.KI_&&(this.renderTargetA.texture.colorSpace=n.KI_,this.renderTargetB.texture.colorSpace=n.KI_))}static get AUTO_SIZE(){return S.AUTO_SIZE}},O=class extends n.pBf{constructor(e,t,{attributes:r=v,blendFunction:i=E,defines:a=new Map,uniforms:o=new Map,extensions:s=null,vertexShader:u=null}={}){super(),this.name=e,this.renderer=null,this.attributes=r,this.fragmentShader=t,this.vertexShader=u,this.defines=a,this.uniforms=o,this.extensions=s,this.blendMode=new D(i),this.blendMode.addEventListener("change",(e=>this.setChanged())),this._inputColorSpace=n.GUF,this._outputColorSpace=n.aCh}get inputColorSpace(){return this._inputColorSpace}set inputColorSpace(e){this._inputColorSpace=e,this.setChanged()}get outputColorSpace(){return this._outputColorSpace}set outputColorSpace(e){this._outputColorSpace=e,this.setChanged()}set mainScene(e){}set mainCamera(e){}getName(){return this.name}setRenderer(e){this.renderer=e}getDefines(){return this.defines}getUniforms(){return this.uniforms}getExtensions(){return this.extensions}getBlendMode(){return this.blendMode}getAttributes(){return this.attributes}setAttributes(e){this.attributes=e,this.setChanged()}getFragmentShader(){return this.fragmentShader}setFragmentShader(e){this.fragmentShader=e,this.setChanged()}getVertexShader(){return this.vertexShader}setVertexShader(e){this.vertexShader=e,this.setChanged()}setChanged(){this.dispatchEvent({type:"change"})}setDepthTexture(e,t=n.z81){}update(e,t,r){}setSize(e,t){}initialize(e,t,r){}dispose(){for(const e of Object.keys(this)){const t=this[e];(t instanceof n.dd2||t instanceof n.F5T||t instanceof n.xEZ||t instanceof o)&&this[e].dispose()}}};var L=class extends o{constructor(e,t="inputBuffer"){super("ShaderPass"),this.fullscreenMaterial=e,this.input=t}setInput(e){this.input=e}render(e,t,r,n,i){const a=this.fullscreenMaterial.uniforms;null!==t&&void 0!==a&&void 0!==a[this.input]&&(a[this.input].value=t.texture),e.setRenderTarget(this.renderToScreen?null:r),e.render(this.scene,this.camera)}initialize(e,t,r){void 0!==r&&r!==n.ywz&&(this.fullscreenMaterial.defines.FRAMEBUFFER_PRECISION_HIGH="1")}};var G=class extends o{constructor(e,t,r=null){super("RenderPass",e,t),this.needsSwap=!1,this.clearPass=new h,this.overrideMaterialManager=null===r?null:new b(r),this.ignoreBackground=!1,this.skipShadowMapUpdate=!1,this.selection=null}set mainScene(e){this.scene=e}set mainCamera(e){this.camera=e}get renderToScreen(){return super.renderToScreen}set renderToScreen(e){super.renderToScreen=e,this.clearPass.renderToScreen=e}get overrideMaterial(){const e=this.overrideMaterialManager;return null!==e?e.material:null}set overrideMaterial(e){const t=this.overrideMaterialManager;null!==e?null!==t?t.setMaterial(e):this.overrideMaterialManager=new b(e):null!==t&&(t.dispose(),this.overrideMaterialManager=null)}getOverrideMaterial(){return this.overrideMaterial}setOverrideMaterial(e){this.overrideMaterial=e}get clear(){return this.clearPass.enabled}set clear(e){this.clearPass.enabled=e}getSelection(){return this.selection}setSelection(e){this.selection=e}isBackgroundDisabled(){return this.ignoreBackground}setBackgroundDisabled(e){this.ignoreBackground=e}isShadowMapDisabled(){return this.skipShadowMapUpdate}setShadowMapDisabled(e){this.skipShadowMapUpdate=e}getClearPass(){return this.clearPass}render(e,t,r,n,i){const a=this.scene,o=this.camera,s=this.selection,u=o.layers.mask,l=a.background,c=e.shadowMap.autoUpdate,f=this.renderToScreen?null:t;null!==s&&o.layers.set(s.getLayer()),this.skipShadowMapUpdate&&(e.shadowMap.autoUpdate=!1),(this.ignoreBackground||null!==this.clearPass.overrideClearColor)&&(a.background=null),this.clearPass.enabled&&this.clearPass.render(e,t),e.setRenderTarget(f),null!==this.overrideMaterialManager?this.overrideMaterialManager.render(e,a,o):e.render(a,o),o.layers.mask=u,a.background=l,e.shadowMap.autoUpdate=c}};var j=class extends n.jyz{constructor(e=null,t){super({name:"DepthComparisonMaterial",defines:{DEPTH_PACKING:"0"},uniforms:{depthBuffer:new n.xWb(null),cameraNear:new n.xWb(.3),cameraFar:new n.xWb(1e3)},blending:n.jFi,toneMapped:!1,depthWrite:!1,depthTest:!1,fragmentShader:"#include <packing>\n#include <clipping_planes_pars_fragment>\n#ifdef GL_FRAGMENT_PRECISION_HIGH\nuniform highp sampler2D depthBuffer;\n#else\nuniform mediump sampler2D depthBuffer;\n#endif\nuniform float cameraNear;uniform float cameraFar;centroid varying float vViewZ;centroid varying vec4 vProjTexCoord;void main(){\n#include <clipping_planes_fragment>\nvec2 projTexCoord=(vProjTexCoord.xy/vProjTexCoord.w)*0.5+0.5;projTexCoord=clamp(projTexCoord,0.002,0.998);\n#if DEPTH_PACKING == 3201\nfloat fragCoordZ=unpackRGBAToDepth(texture2D(depthBuffer,projTexCoord));\n#else\nfloat fragCoordZ=texture2D(depthBuffer,projTexCoord).r;\n#endif\n#ifdef PERSPECTIVE_CAMERA\nfloat viewZ=perspectiveDepthToViewZ(fragCoordZ,cameraNear,cameraFar);\n#else\nfloat viewZ=orthographicDepthToViewZ(fragCoordZ,cameraNear,cameraFar);\n#endif\nfloat depthTest=(-vViewZ>-viewZ)?1.0:0.0;gl_FragColor.rg=vec2(0.0,depthTest);}",vertexShader:"#include <common>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvarying float vViewZ;varying vec4 vProjTexCoord;void main(){\n#include <skinbase_vertex>\n#include <begin_vertex>\n#include <morphtarget_vertex>\n#include <skinning_vertex>\n#include <project_vertex>\nvViewZ=mvPosition.z;vProjTexCoord=gl_Position;\n#include <clipping_planes_vertex>\n}"}),this.depthBuffer=e,this.depthPacking=n.mSO,this.copyCameraSettings(t)}set depthBuffer(e){this.uniforms.depthBuffer.value=e}set depthPacking(e){this.defines.DEPTH_PACKING=e.toFixed(0),this.needsUpdate=!0}setDepthBuffer(e,t=n.mSO){this.depthBuffer=e,this.depthPacking=t}adoptCameraSettings(e){this.copyCameraSettings(e)}copyCameraSettings(e){e&&(this.uniforms.cameraNear.value=e.near,this.uniforms.cameraFar.value=e.far,e instanceof n.cPb?this.defines.PERSPECTIVE_CAMERA="1":delete this.defines.PERSPECTIVE_CAMERA,this.needsUpdate=!0)}},N=class extends n.jyz{constructor(e=new n.FM8){super({name:"OutlineMaterial",uniforms:{inputBuffer:new n.xWb(null),texelSize:new n.xWb(new n.FM8)},blending:n.jFi,toneMapped:!1,depthWrite:!1,depthTest:!1,fragmentShader:"uniform lowp sampler2D inputBuffer;varying vec2 vUv0;varying vec2 vUv1;varying vec2 vUv2;varying vec2 vUv3;void main(){vec2 c0=texture2D(inputBuffer,vUv0).rg;vec2 c1=texture2D(inputBuffer,vUv1).rg;vec2 c2=texture2D(inputBuffer,vUv2).rg;vec2 c3=texture2D(inputBuffer,vUv3).rg;float d0=(c0.x-c1.x)*0.5;float d1=(c2.x-c3.x)*0.5;float d=length(vec2(d0,d1));float a0=min(c0.y,c1.y);float a1=min(c2.y,c3.y);float visibilityFactor=min(a0,a1);gl_FragColor.rg=(1.0-visibilityFactor>0.001)?vec2(d,0.0):vec2(0.0,d);}",vertexShader:"uniform vec2 texelSize;varying vec2 vUv0;varying vec2 vUv1;varying vec2 vUv2;varying vec2 vUv3;void main(){vec2 uv=position.xy*0.5+0.5;vUv0=vec2(uv.x+texelSize.x,uv.y);vUv1=vec2(uv.x-texelSize.x,uv.y);vUv2=vec2(uv.x,uv.y+texelSize.y);vUv3=vec2(uv.x,uv.y-texelSize.y);gl_Position=vec4(position.xy,1.0,1.0);}"}),this.uniforms.texelSize.value.set(e.x,e.y),this.uniforms.maskTexture=this.uniforms.inputBuffer}set inputBuffer(e){this.uniforms.inputBuffer.value=e}setInputBuffer(e){this.uniforms.inputBuffer.value=e}setTexelSize(e,t){this.uniforms.texelSize.value.set(e,t)}setSize(e,t){this.uniforms.texelSize.value.set(1/e,1/t)}},W=class extends o{constructor(e,t,{renderTarget:r,resolutionScale:i=1,width:a=S.AUTO_SIZE,height:o=S.AUTO_SIZE,resolutionX:s=a,resolutionY:u=o}={}){super("DepthPass"),this.needsSwap=!1,this.renderPass=new G(e,t,new n.lRF({depthPacking:n.mSO}));const l=this.renderPass;l.skipShadowMapUpdate=!0,l.ignoreBackground=!0;const c=l.clearPass;c.overrideClearColor=new n.Ilk(16777215),c.overrideClearAlpha=1,this.renderTarget=r,void 0===this.renderTarget&&(this.renderTarget=new n.dd2(1,1,{minFilter:n.TyD,magFilter:n.TyD}),this.renderTarget.texture.name="DepthPass.Target");const f=this.resolution=new S(this,s,u,i);f.addEventListener("change",(e=>this.setSize(f.baseWidth,f.baseHeight)))}set mainScene(e){this.renderPass.mainScene=e}set mainCamera(e){this.renderPass.mainCamera=e}get texture(){return this.renderTarget.texture}getTexture(){return this.renderTarget.texture}getResolution(){return this.resolution}getResolutionScale(){return this.resolution.scale}setResolutionScale(e){this.resolution.scale=e}render(e,t,r,n,i){const a=this.renderToScreen?null:this.renderTarget;this.renderPass.render(e,a)}setSize(e,t){const r=this.resolution;r.setBaseSize(e,t),this.renderTarget.setSize(r.width,r.height)}},H=class extends O{constructor(e,t,{blendFunction:r=C,patternTexture:i=null,patternScale:a=1,edgeStrength:o=1,pulseSpeed:s=0,visibleEdgeColor:u=16777215,hiddenEdgeColor:l=2230538,kernelSize:c=I.VERY_SMALL,blur:f=!1,xRay:d=!0,multisampling:p=0,resolutionScale:v=.5,width:g=S.AUTO_SIZE,height:m=S.AUTO_SIZE,resolutionX:y=g,resolutionY:_=m}={}){super("OutlineEffect","uniform lowp sampler2D edgeTexture;uniform lowp sampler2D maskTexture;uniform vec3 visibleEdgeColor;uniform vec3 hiddenEdgeColor;uniform float pulse;uniform float edgeStrength;\n#ifdef USE_PATTERN\nuniform lowp sampler2D patternTexture;varying vec2 vUvPattern;\n#endif\nvoid mainImage(const in vec4 inputColor,const in vec2 uv,out vec4 outputColor){vec2 edge=texture2D(edgeTexture,uv).rg;vec2 mask=texture2D(maskTexture,uv).rg;\n#ifndef X_RAY\nedge.y=0.0;\n#endif\nedge*=(edgeStrength*mask.x*pulse);vec3 color=edge.x*visibleEdgeColor+edge.y*hiddenEdgeColor;float visibilityFactor=0.0;\n#ifdef USE_PATTERN\nvec4 patternColor=texture2D(patternTexture,vUvPattern);\n#ifdef X_RAY\nfloat hiddenFactor=0.5;\n#else\nfloat hiddenFactor=0.0;\n#endif\nvisibilityFactor=(1.0-mask.y>0.0)?1.0:hiddenFactor;visibilityFactor*=(1.0-mask.x)*patternColor.a;color+=visibilityFactor*patternColor.rgb;\n#endif\nfloat alpha=max(max(edge.x,edge.y),visibilityFactor);\n#ifdef ALPHA\noutputColor=vec4(color,alpha);\n#else\noutputColor=vec4(color,max(alpha,inputColor.a));\n#endif\n}",{uniforms:new Map([["maskTexture",new n.xWb(null)],["edgeTexture",new n.xWb(null)],["edgeStrength",new n.xWb(o)],["visibleEdgeColor",new n.xWb(new n.Ilk(u))],["hiddenEdgeColor",new n.xWb(new n.Ilk(l))],["pulse",new n.xWb(1)],["patternScale",new n.xWb(a)],["patternTexture",new n.xWb(null)]])}),this.blendMode.addEventListener("change",(e=>{this.blendMode.blendFunction===U?this.defines.set("ALPHA","1"):this.defines.delete("ALPHA"),this.setChanged()})),this.blendMode.blendFunction=r,this.patternTexture=i,this.xRay=d,this.scene=e,this.camera=t,this.renderTargetMask=new n.dd2(1,1),this.renderTargetMask.samples=p,this.renderTargetMask.texture.name="Outline.Mask",this.uniforms.get("maskTexture").value=this.renderTargetMask.texture,this.renderTargetOutline=new n.dd2(1,1,{depthBuffer:!1}),this.renderTargetOutline.texture.name="Outline.Edges",this.uniforms.get("edgeTexture").value=this.renderTargetOutline.texture,this.clearPass=new h,this.clearPass.overrideClearColor=new n.Ilk(0),this.clearPass.overrideClearAlpha=1,this.depthPass=new W(e,t),this.maskPass=new G(e,t,new j(this.depthPass.texture,t));const b=this.maskPass.clearPass;b.overrideClearColor=new n.Ilk(16777215),b.overrideClearAlpha=1,this.blurPass=new z({resolutionScale:v,resolutionX:y,resolutionY:_,kernelSize:c}),this.blurPass.enabled=f;const x=this.blurPass.resolution;x.addEventListener("change",(e=>this.setSize(x.baseWidth,x.baseHeight))),this.outlinePass=new L(new N);this.outlinePass.fullscreenMaterial.inputBuffer=this.renderTargetMask.texture,this.time=0,this.forceUpdate=!0,this.selection=new T,this.pulseSpeed=s}set mainScene(e){this.scene=e,this.depthPass.mainScene=e,this.maskPass.mainScene=e}set mainCamera(e){this.camera=e,this.depthPass.mainCamera=e,this.maskPass.mainCamera=e,this.maskPass.overrideMaterial.copyCameraSettings(e)}get resolution(){return this.blurPass.resolution}getResolution(){return this.blurPass.getResolution()}get multisampling(){return this.renderTargetMask.samples}set multisampling(e){this.renderTargetMask.samples=e,this.renderTargetMask.dispose()}get patternScale(){return this.uniforms.get("patternScale").value}set patternScale(e){this.uniforms.get("patternScale").value=e}get edgeStrength(){return this.uniforms.get("edgeStrength").value}set edgeStrength(e){this.uniforms.get("edgeStrength").value=e}get visibleEdgeColor(){return this.uniforms.get("visibleEdgeColor").value}set visibleEdgeColor(e){this.uniforms.get("visibleEdgeColor").value=e}get hiddenEdgeColor(){return this.uniforms.get("hiddenEdgeColor").value}set hiddenEdgeColor(e){this.uniforms.get("hiddenEdgeColor").value=e}getBlurPass(){return this.blurPass}getSelection(){return this.selection}getPulseSpeed(){return this.pulseSpeed}setPulseSpeed(e){this.pulseSpeed=e}get width(){return this.resolution.width}set width(e){this.resolution.preferredWidth=e}get height(){return this.resolution.height}set height(e){this.resolution.preferredHeight=e}get selectionLayer(){return this.selection.layer}set selectionLayer(e){this.selection.layer=e}get dithering(){return this.blurPass.dithering}set dithering(e){this.blurPass.dithering=e}get kernelSize(){return this.blurPass.kernelSize}set kernelSize(e){this.blurPass.kernelSize=e}get blur(){return this.blurPass.enabled}set blur(e){this.blurPass.enabled=e}get xRay(){return this.defines.has("X_RAY")}set xRay(e){this.xRay!==e&&(e?this.defines.set("X_RAY","1"):this.defines.delete("X_RAY"),this.setChanged())}isXRayEnabled(){return this.xRay}setXRayEnabled(e){this.xRay=e}get patternTexture(){return this.uniforms.get("patternTexture").value}set patternTexture(e){null!==e?(e.wrapS=e.wrapT=n.rpg,this.defines.set("USE_PATTERN","1"),this.setVertexShader("uniform float patternScale;varying vec2 vUvPattern;void mainSupport(const in vec2 uv){vUvPattern=uv*vec2(aspect,1.0)*patternScale;}")):(this.defines.delete("USE_PATTERN"),this.setVertexShader(null)),this.uniforms.get("patternTexture").value=e,this.setChanged()}setPatternTexture(e){this.patternTexture=e}getResolutionScale(){return this.resolution.scale}setResolutionScale(e){this.resolution.scale=e}setSelection(e){return this.selection.set(e),this}clearSelection(){return this.selection.clear(),this}selectObject(e){return this.selection.add(e),this}deselectObject(e){return this.selection.delete(e),this}update(e,t,r){const n=this.scene,i=this.camera,a=this.selection,o=this.uniforms.get("pulse"),s=n.background,u=i.layers.mask;(this.forceUpdate||a.size>0)&&(n.background=null,o.value=1,this.pulseSpeed>0&&(o.value=.375*Math.cos(this.time*this.pulseSpeed*10)+.625),this.time+=r,a.setVisible(!1),this.depthPass.render(e),a.setVisible(!0),i.layers.set(a.layer),this.maskPass.render(e,this.renderTargetMask),i.layers.mask=u,n.background=s,this.outlinePass.render(e,null,this.renderTargetOutline),this.blurPass.enabled&&this.blurPass.render(e,this.renderTargetOutline,this.renderTargetOutline)),this.forceUpdate=a.size>0}setSize(e,t){this.blurPass.setSize(e,t),this.renderTargetMask.setSize(e,t);const r=this.resolution;r.setBaseSize(e,t);const n=r.width,i=r.height;this.depthPass.setSize(n,i),this.renderTargetOutline.setSize(n,i),this.outlinePass.fullscreenMaterial.setSize(n,i)}initialize(e,t,r){this.blurPass.initialize(e,t,n.ywz),void 0!==r&&(this.depthPass.initialize(e,t,r),this.maskPass.initialize(e,t,r),this.outlinePass.initialize(e,t,r))}},V=(Math.PI,class extends n.jyz{constructor(e,t,r,i,a=!1){super({name:"EffectMaterial",defines:{THREE_REVISION:n.UZH.replace(/\D+/g,""),DEPTH_PACKING:"0",ENCODE_OUTPUT:"1"},uniforms:{inputBuffer:new n.xWb(null),depthBuffer:new n.xWb(null),resolution:new n.xWb(new n.FM8),texelSize:new n.xWb(new n.FM8),cameraNear:new n.xWb(.3),cameraFar:new n.xWb(1e3),aspect:new n.xWb(1),time:new n.xWb(0)},blending:n.jFi,toneMapped:!1,depthWrite:!1,depthTest:!1,dithering:a}),e&&this.setShaderParts(e),t&&this.setDefines(t),r&&this.setUniforms(r),this.copyCameraSettings(i)}set inputBuffer(e){this.uniforms.inputBuffer.value=e}setInputBuffer(e){this.uniforms.inputBuffer.value=e}get depthBuffer(){return this.uniforms.depthBuffer.value}set depthBuffer(e){this.uniforms.depthBuffer.value=e}get depthPacking(){return Number(this.defines.DEPTH_PACKING)}set depthPacking(e){this.defines.DEPTH_PACKING=e.toFixed(0),this.needsUpdate=!0}setDepthBuffer(e,t=n.z81){this.depthBuffer=e,this.depthPacking=t}setShaderData(e){this.setShaderParts(e.shaderParts),this.setDefines(e.defines),this.setUniforms(e.uniforms),this.setExtensions(e.extensions)}setShaderParts(e){return this.fragmentShader="#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#define packFloatToRGBA(v) packDepthToRGBA(v)\n#define unpackRGBAToFloat(v) unpackRGBAToDepth(v)\n#ifdef FRAMEBUFFER_PRECISION_HIGH\nuniform mediump sampler2D inputBuffer;\n#else\nuniform lowp sampler2D inputBuffer;\n#endif\n#if DEPTH_PACKING == 3201\nuniform lowp sampler2D depthBuffer;\n#elif defined(GL_FRAGMENT_PRECISION_HIGH)\nuniform highp sampler2D depthBuffer;\n#else\nuniform mediump sampler2D depthBuffer;\n#endif\nuniform vec2 resolution;uniform vec2 texelSize;uniform float cameraNear;uniform float cameraFar;uniform float aspect;uniform float time;varying vec2 vUv;vec4 sRGBToLinear(const in vec4 value){return vec4(mix(pow(value.rgb*0.9478672986+vec3(0.0521327014),vec3(2.4)),value.rgb*0.0773993808,vec3(lessThanEqual(value.rgb,vec3(0.04045)))),value.a);}float readDepth(const in vec2 uv){\n#if DEPTH_PACKING == 3201\nreturn unpackRGBAToDepth(texture2D(depthBuffer,uv));\n#else\nreturn texture2D(depthBuffer,uv).r;\n#endif\n}float getViewZ(const in float depth){\n#ifdef PERSPECTIVE_CAMERA\nreturn perspectiveDepthToViewZ(depth,cameraNear,cameraFar);\n#else\nreturn orthographicDepthToViewZ(depth,cameraNear,cameraFar);\n#endif\n}vec3 RGBToHCV(const in vec3 RGB){vec4 P=mix(vec4(RGB.bg,-1.0,2.0/3.0),vec4(RGB.gb,0.0,-1.0/3.0),step(RGB.b,RGB.g));vec4 Q=mix(vec4(P.xyw,RGB.r),vec4(RGB.r,P.yzx),step(P.x,RGB.r));float C=Q.x-min(Q.w,Q.y);float H=abs((Q.w-Q.y)/(6.0*C+EPSILON)+Q.z);return vec3(H,C,Q.x);}vec3 RGBToHSL(const in vec3 RGB){vec3 HCV=RGBToHCV(RGB);float L=HCV.z-HCV.y*0.5;float S=HCV.y/(1.0-abs(L*2.0-1.0)+EPSILON);return vec3(HCV.x,S,L);}vec3 HueToRGB(const in float H){float R=abs(H*6.0-3.0)-1.0;float G=2.0-abs(H*6.0-2.0);float B=2.0-abs(H*6.0-4.0);return clamp(vec3(R,G,B),0.0,1.0);}vec3 HSLToRGB(const in vec3 HSL){vec3 RGB=HueToRGB(HSL.x);float C=(1.0-abs(2.0*HSL.z-1.0))*HSL.y;return(RGB-0.5)*C+HSL.z;}FRAGMENT_HEAD void main(){FRAGMENT_MAIN_UV vec4 color0=texture2D(inputBuffer,UV);vec4 color1=vec4(0.0);FRAGMENT_MAIN_IMAGE color0.a=clamp(color0.a,0.0,1.0);gl_FragColor=color0;\n#ifdef ENCODE_OUTPUT\n#include <colorspace_fragment>\n#endif\n#include <dithering_fragment>\n}".replace(y.FRAGMENT_HEAD,e.get(y.FRAGMENT_HEAD)||"").replace(y.FRAGMENT_MAIN_UV,e.get(y.FRAGMENT_MAIN_UV)||"").replace(y.FRAGMENT_MAIN_IMAGE,e.get(y.FRAGMENT_MAIN_IMAGE)||""),this.vertexShader="uniform vec2 resolution;uniform vec2 texelSize;uniform float cameraNear;uniform float cameraFar;uniform float aspect;uniform float time;varying vec2 vUv;VERTEX_HEAD void main(){vUv=position.xy*0.5+0.5;VERTEX_MAIN_SUPPORT gl_Position=vec4(position.xy,1.0,1.0);}".replace(y.VERTEX_HEAD,e.get(y.VERTEX_HEAD)||"").replace(y.VERTEX_MAIN_SUPPORT,e.get(y.VERTEX_MAIN_SUPPORT)||""),this.needsUpdate=!0,this}setDefines(e){for(const t of e.entries())this.defines[t[0]]=t[1];return this.needsUpdate=!0,this}setUniforms(e){for(const t of e.entries())this.uniforms[t[0]]=t[1];return this}setExtensions(e){this.extensions={};for(const t of e)this.extensions[t]=!0;return this}get encodeOutput(){return void 0!==this.defines.ENCODE_OUTPUT}set encodeOutput(e){this.encodeOutput!==e&&(e?this.defines.ENCODE_OUTPUT="1":delete this.defines.ENCODE_OUTPUT,this.needsUpdate=!0)}isOutputEncodingEnabled(e){return this.encodeOutput}setOutputEncodingEnabled(e){this.encodeOutput=e}get time(){return this.uniforms.time.value}set time(e){this.uniforms.time.value=e}setDeltaTime(e){this.uniforms.time.value+=e}adoptCameraSettings(e){this.copyCameraSettings(e)}copyCameraSettings(e){e&&(this.uniforms.cameraNear.value=e.near,this.uniforms.cameraFar.value=e.far,e instanceof n.cPb?this.defines.PERSPECTIVE_CAMERA="1":delete this.defines.PERSPECTIVE_CAMERA,this.needsUpdate=!0)}setSize(e,t){const r=this.uniforms;r.resolution.value.set(e,t),r.texelSize.value.set(1/e,1/t),r.aspect.value=e/t}static get Section(){return y}}),$=(Number(n.UZH.replace(/\D+/g,"")),255/256);new Float32Array([5.9371814131736755e-8,$/65536,.0038909912109375,$]),new Float32Array([$,.0038909912109375,$/65536,1/256**3]);function X(e,t,r){for(const n of t){const t="$1"+e+n.charAt(0).toUpperCase()+n.slice(1),i=new RegExp("([^\\.])(\\b"+n+"\\b)","g");for(const e of r.entries())null!==e[1]&&r.set(e[0],e[1].replace(i,t))}}function q(e,t,r){let i=t.getFragmentShader(),a=t.getVertexShader();const o=void 0!==i&&/mainImage/.test(i),s=void 0!==i&&/mainUv/.test(i);if(r.attributes|=t.getAttributes(),void 0===i)throw new Error(`Missing fragment shader (${t.name})`);if(s&&0!=(r.attributes&m))throw new Error(`Effects that transform UVs are incompatible with convolution effects (${t.name})`);if(!o&&!s)throw new Error(`Could not find mainImage or mainUv function (${t.name})`);{const u=/\w+\s+(\w+)\([\w\s,]*\)\s*{/g,l=r.shaderParts;let c=l.get(y.FRAGMENT_HEAD)||"",f=l.get(y.FRAGMENT_MAIN_UV)||"",h=l.get(y.FRAGMENT_MAIN_IMAGE)||"",d=l.get(y.VERTEX_HEAD)||"",p=l.get(y.VERTEX_MAIN_SUPPORT)||"";const v=new Set,m=new Set;if(s&&(f+=`\t${e}MainUv(UV);\n`,r.uvTransformation=!0),null!==a&&/mainSupport/.test(a)){const t=/mainSupport *\([\w\s]*?uv\s*?\)/.test(a);p+=`\t${e}MainSupport(`,p+=t?"vUv);\n":");\n";for(const e of a.matchAll(/(?:varying\s+\w+\s+([\S\s]*?);)/g))for(const t of e[1].split(/\s*,\s*/))r.varyings.add(t),v.add(t),m.add(t);for(const e of a.matchAll(u))m.add(e[1])}for(const e of i.matchAll(u))m.add(e[1]);for(const e of t.defines.keys())m.add(e.replace(/\([\w\s,]*\)/g,""));for(const e of t.uniforms.keys())m.add(e);m.delete("while"),m.delete("for"),m.delete("if"),t.uniforms.forEach(((t,n)=>r.uniforms.set(e+n.charAt(0).toUpperCase()+n.slice(1),t))),t.defines.forEach(((t,n)=>r.defines.set(e+n.charAt(0).toUpperCase()+n.slice(1),t)));const _=new Map([["fragment",i],["vertex",a]]);X(e,m,r.defines),X(e,m,_),i=_.get("fragment"),a=_.get("vertex");const b=t.blendMode;if(r.blendModes.set(b.blendFunction,b),o){null!==t.inputColorSpace&&t.inputColorSpace!==r.colorSpace&&(h+=t.inputColorSpace===n.KI_?"color0 = sRGBTransferOETF(color0);\n\t":"color0 = sRGBToLinear(color0);\n\t"),t.outputColorSpace!==n.aCh?r.colorSpace=t.outputColorSpace:null!==t.inputColorSpace&&(r.colorSpace=t.inputColorSpace);const a=/MainImage *\([\w\s,]*?depth[\w\s,]*?\)/;h+=`${e}MainImage(color0, UV, `,0!=(r.attributes&g)&&a.test(i)&&(h+="depth, ",r.readDepth=!0),h+="color1);\n\t";const o=e+"BlendOpacity";r.uniforms.set(o,b.opacity),h+=`color0 = blend${b.blendFunction}(color0, color1, ${o});\n\n\t`,c+=`uniform float ${o};\n\n`}if(c+=i+"\n",null!==a&&(d+=a+"\n"),l.set(y.FRAGMENT_HEAD,c),l.set(y.FRAGMENT_MAIN_UV,f),l.set(y.FRAGMENT_MAIN_IMAGE,h),l.set(y.VERTEX_HEAD,d),l.set(y.VERTEX_MAIN_SUPPORT,p),null!==t.extensions)for(const e of t.extensions)r.extensions.add(e)}}var Y=class extends o{constructor(e,...t){super("EffectPass"),this.fullscreenMaterial=new V(null,null,null,e),this.listener=e=>this.handleEvent(e),this.effects=[],this.setEffects(t),this.skipRendering=!1,this.minTime=1,this.maxTime=Number.POSITIVE_INFINITY,this.timeScale=1}set mainScene(e){for(const t of this.effects)t.mainScene=e}set mainCamera(e){this.fullscreenMaterial.copyCameraSettings(e);for(const t of this.effects)t.mainCamera=e}get encodeOutput(){return this.fullscreenMaterial.encodeOutput}set encodeOutput(e){this.fullscreenMaterial.encodeOutput=e}get dithering(){return this.fullscreenMaterial.dithering}set dithering(e){const t=this.fullscreenMaterial;t.dithering=e,t.needsUpdate=!0}setEffects(e){for(const e of this.effects)e.removeEventListener("change",this.listener);this.effects=e.sort(((e,t)=>t.attributes-e.attributes));for(const e of this.effects)e.addEventListener("change",this.listener)}updateMaterial(){const e=new class{constructor(){this.shaderParts=new Map([[y.FRAGMENT_HEAD,null],[y.FRAGMENT_MAIN_UV,null],[y.FRAGMENT_MAIN_IMAGE,null],[y.VERTEX_HEAD,null],[y.VERTEX_MAIN_SUPPORT,null]]),this.defines=new Map,this.uniforms=new Map,this.blendModes=new Map,this.extensions=new Set,this.attributes=v,this.varyings=new Set,this.uvTransformation=!1,this.readDepth=!1,this.colorSpace=n.GUF}};let t=0;for(const r of this.effects)if(r.blendMode.blendFunction===k)e.attributes|=r.getAttributes()&g;else{if(0!=(e.attributes&r.getAttributes()&m))throw new Error(`Convolution effects cannot be merged (${r.name})`);q("e"+t++,r,e)}let r=e.shaderParts.get(y.FRAGMENT_HEAD),i=e.shaderParts.get(y.FRAGMENT_MAIN_IMAGE),a=e.shaderParts.get(y.FRAGMENT_MAIN_UV);const o=/\bblend\b/g;for(const t of e.blendModes.values())r+=t.getShaderCode().replace(o,`blend${t.blendFunction}`)+"\n";0!=(e.attributes&g)?(e.readDepth&&(i="float depth = readDepth(UV);\n\n\t"+i),this.needsDepthTexture=null===this.getDepthTexture()):this.needsDepthTexture=!1,e.colorSpace===n.KI_&&(i+="color0 = sRGBToLinear(color0);\n\t"),e.uvTransformation?(a="vec2 transformedUv = vUv;\n"+a,e.defines.set("UV","transformedUv")):e.defines.set("UV","vUv"),e.shaderParts.set(y.FRAGMENT_HEAD,r),e.shaderParts.set(y.FRAGMENT_MAIN_IMAGE,i),e.shaderParts.set(y.FRAGMENT_MAIN_UV,a);for(const[t,r]of e.shaderParts)null!==r&&e.shaderParts.set(t,r.trim().replace(/^#/,"\n#"));this.skipRendering=0===t,this.needsSwap=!this.skipRendering,this.fullscreenMaterial.setShaderData(e)}recompile(){this.updateMaterial()}getDepthTexture(){return this.fullscreenMaterial.depthBuffer}setDepthTexture(e,t=n.z81){this.fullscreenMaterial.depthBuffer=e,this.fullscreenMaterial.depthPacking=t;for(const r of this.effects)r.setDepthTexture(e,t)}render(e,t,r,n,i){for(const r of this.effects)r.update(e,t,n);if(!this.skipRendering||this.renderToScreen){const i=this.fullscreenMaterial;i.inputBuffer=t.texture,i.time+=n*this.timeScale,e.setRenderTarget(this.renderToScreen?null:r),e.render(this.scene,this.camera)}}setSize(e,t){this.fullscreenMaterial.setSize(e,t);for(const r of this.effects)r.setSize(e,t)}initialize(e,t,r){this.renderer=e;for(const n of this.effects)n.initialize(e,t,r);this.updateMaterial(),void 0!==r&&r!==n.ywz&&(this.fullscreenMaterial.defines.FRAMEBUFFER_PRECISION_HIGH="1")}dispose(){super.dispose();for(const e of this.effects)e.removeEventListener("change",this.listener),e.dispose()}handleEvent(e){if("change"===e.type)this.recompile()}};new Float32Array(3),new Float32Array(3),new Float32Array(3),new Float32Array(3),new Float32Array(3),new Float32Array(3),new Float32Array([0,0,0]),new Float32Array([1,0,0]),new Float32Array([1,1,0]),new Float32Array([1,1,1]),new Float32Array([0,0,0]),new Float32Array([1,0,0]),new Float32Array([1,0,1]),new Float32Array([1,1,1]),new Float32Array([0,0,0]),new Float32Array([0,0,1]),new Float32Array([1,0,1]),new Float32Array([1,1,1]),new Float32Array([0,0,0]),new Float32Array([0,1,0]),new Float32Array([1,1,0]),new Float32Array([1,1,1]),new Float32Array([0,0,0]),new Float32Array([0,1,0]),new Float32Array([0,1,1]),new Float32Array([1,1,1]),new Float32Array([0,0,0]),new Float32Array([0,0,1]),new Float32Array([0,1,1]),new Float32Array([1,1,1]);new Float32Array(2),new Float32Array(2),new Float32Array([0,-.25,.25,-.125,.125,-.375,.375]),new Float32Array([0,0]),new Float32Array([.25,-.25]),new Float32Array([-.25,.25]),new Float32Array([.125,-.125]),new Float32Array([-.125,.125]),new Uint8Array([0,0]),new Uint8Array([3,0]),new Uint8Array([0,3]),new Uint8Array([3,3]),new Uint8Array([1,0]),new Uint8Array([4,0]),new Uint8Array([1,3]),new Uint8Array([4,3]),new Uint8Array([0,1]),new Uint8Array([3,1]),new Uint8Array([0,4]),new Uint8Array([3,4]),new Uint8Array([1,1]),new Uint8Array([4,1]),new Uint8Array([1,4]),new Uint8Array([4,4]),new Uint8Array([0,0]),new Uint8Array([1,0]),new Uint8Array([0,2]),new Uint8Array([1,2]),new Uint8Array([2,0]),new Uint8Array([3,0]),new Uint8Array([2,2]),new Uint8Array([3,2]),new Uint8Array([0,1]),new Uint8Array([1,1]),new Uint8Array([0,3]),new Uint8Array([1,3]),new Uint8Array([2,1]),new Uint8Array([3,1]),new Uint8Array([2,3]),new Uint8Array([3,3]);Z(0,0,0,0),new Float32Array([0,0,0,0]),Z(0,0,0,1),new Float32Array([0,0,0,1]),Z(0,0,1,0),new Float32Array([0,0,1,0]),Z(0,0,1,1),new Float32Array([0,0,1,1]),Z(0,1,0,0),new Float32Array([0,1,0,0]),Z(0,1,0,1),new Float32Array([0,1,0,1]),Z(0,1,1,0),new Float32Array([0,1,1,0]),Z(0,1,1,1),new Float32Array([0,1,1,1]),Z(1,0,0,0),new Float32Array([1,0,0,0]),Z(1,0,0,1),new Float32Array([1,0,0,1]),Z(1,0,1,0),new Float32Array([1,0,1,0]),Z(1,0,1,1),new Float32Array([1,0,1,1]),Z(1,1,0,0),new Float32Array([1,1,0,0]),Z(1,1,0,1),new Float32Array([1,1,0,1]),Z(1,1,1,0),new Float32Array([1,1,1,0]),Z(1,1,1,1),new Float32Array([1,1,1,1]);function K(e,t,r){return e+(t-e)*r}function Z(e,t,r,n){const i=K(e,t,.75),a=K(r,n,.75);return K(i,a,.875)}},68535:function(e,t,r){"use strict";r.d(t,{L:function(){return g}});var n=r(99892);const i=/^[og]\s*(.+)?/,a=/^mtllib /,o=/^usemtl /,s=/^usemap /,u=/\s+/,l=new n.Pa4,c=new n.Pa4,f=new n.Pa4,h=new n.Pa4,d=new n.Pa4,p=new n.Ilk;function v(){const e={objects:[],object:{},vertices:[],normals:[],colors:[],uvs:[],materials:{},materialLibraries:[],startObject:function(e,t){if(this.object&&!1===this.object.fromDeclaration)return this.object.name=e,void(this.object.fromDeclaration=!1!==t);const r=this.object&&"function"==typeof this.object.currentMaterial?this.object.currentMaterial():void 0;if(this.object&&"function"==typeof this.object._finalize&&this.object._finalize(!0),this.object={name:e||"",fromDeclaration:!1!==t,geometry:{vertices:[],normals:[],colors:[],uvs:[],hasUVIndices:!1},materials:[],smooth:!0,startMaterial:function(e,t){const r=this._finalize(!1);r&&(r.inherited||r.groupCount<=0)&&this.materials.splice(r.index,1);const n={index:this.materials.length,name:e||"",mtllib:Array.isArray(t)&&t.length>0?t[t.length-1]:"",smooth:void 0!==r?r.smooth:this.smooth,groupStart:void 0!==r?r.groupEnd:0,groupEnd:-1,groupCount:-1,inherited:!1,clone:function(e){const t={index:"number"==typeof e?e:this.index,name:this.name,mtllib:this.mtllib,smooth:this.smooth,groupStart:0,groupEnd:-1,groupCount:-1,inherited:!1};return t.clone=this.clone.bind(t),t}};return this.materials.push(n),n},currentMaterial:function(){if(this.materials.length>0)return this.materials[this.materials.length-1]},_finalize:function(e){const t=this.currentMaterial();if(t&&-1===t.groupEnd&&(t.groupEnd=this.geometry.vertices.length/3,t.groupCount=t.groupEnd-t.groupStart,t.inherited=!1),e&&this.materials.length>1)for(let e=this.materials.length-1;e>=0;e--)this.materials[e].groupCount<=0&&this.materials.splice(e,1);return e&&0===this.materials.length&&this.materials.push({name:"",smooth:this.smooth}),t}},r&&r.name&&"function"==typeof r.clone){const e=r.clone(0);e.inherited=!0,this.object.materials.push(e)}this.objects.push(this.object)},finalize:function(){this.object&&"function"==typeof this.object._finalize&&this.object._finalize(!0)},parseVertexIndex:function(e,t){const r=parseInt(e,10);return 3*(r>=0?r-1:r+t/3)},parseNormalIndex:function(e,t){const r=parseInt(e,10);return 3*(r>=0?r-1:r+t/3)},parseUVIndex:function(e,t){const r=parseInt(e,10);return 2*(r>=0?r-1:r+t/2)},addVertex:function(e,t,r){const n=this.vertices,i=this.object.geometry.vertices;i.push(n[e+0],n[e+1],n[e+2]),i.push(n[t+0],n[t+1],n[t+2]),i.push(n[r+0],n[r+1],n[r+2])},addVertexPoint:function(e){const t=this.vertices;this.object.geometry.vertices.push(t[e+0],t[e+1],t[e+2])},addVertexLine:function(e){const t=this.vertices;this.object.geometry.vertices.push(t[e+0],t[e+1],t[e+2])},addNormal:function(e,t,r){const n=this.normals,i=this.object.geometry.normals;i.push(n[e+0],n[e+1],n[e+2]),i.push(n[t+0],n[t+1],n[t+2]),i.push(n[r+0],n[r+1],n[r+2])},addFaceNormal:function(e,t,r){const n=this.vertices,i=this.object.geometry.normals;l.fromArray(n,e),c.fromArray(n,t),f.fromArray(n,r),d.subVectors(f,c),h.subVectors(l,c),d.cross(h),d.normalize(),i.push(d.x,d.y,d.z),i.push(d.x,d.y,d.z),i.push(d.x,d.y,d.z)},addColor:function(e,t,r){const n=this.colors,i=this.object.geometry.colors;void 0!==n[e]&&i.push(n[e+0],n[e+1],n[e+2]),void 0!==n[t]&&i.push(n[t+0],n[t+1],n[t+2]),void 0!==n[r]&&i.push(n[r+0],n[r+1],n[r+2])},addUV:function(e,t,r){const n=this.uvs,i=this.object.geometry.uvs;i.push(n[e+0],n[e+1]),i.push(n[t+0],n[t+1]),i.push(n[r+0],n[r+1])},addDefaultUV:function(){const e=this.object.geometry.uvs;e.push(0,0),e.push(0,0),e.push(0,0)},addUVLine:function(e){const t=this.uvs;this.object.geometry.uvs.push(t[e+0],t[e+1])},addFace:function(e,t,r,n,i,a,o,s,u){const l=this.vertices.length;let c=this.parseVertexIndex(e,l),f=this.parseVertexIndex(t,l),h=this.parseVertexIndex(r,l);if(this.addVertex(c,f,h),this.addColor(c,f,h),void 0!==o&&""!==o){const e=this.normals.length;c=this.parseNormalIndex(o,e),f=this.parseNormalIndex(s,e),h=this.parseNormalIndex(u,e),this.addNormal(c,f,h)}else this.addFaceNormal(c,f,h);if(void 0!==n&&""!==n){const e=this.uvs.length;c=this.parseUVIndex(n,e),f=this.parseUVIndex(i,e),h=this.parseUVIndex(a,e),this.addUV(c,f,h),this.object.geometry.hasUVIndices=!0}else this.addDefaultUV()},addPointGeometry:function(e){this.object.geometry.type="Points";const t=this.vertices.length;for(let r=0,n=e.length;r<n;r++){const n=this.parseVertexIndex(e[r],t);this.addVertexPoint(n),this.addColor(n)}},addLineGeometry:function(e,t){this.object.geometry.type="Line";const r=this.vertices.length,n=this.uvs.length;for(let t=0,n=e.length;t<n;t++)this.addVertexLine(this.parseVertexIndex(e[t],r));for(let e=0,r=t.length;e<r;e++)this.addUVLine(this.parseUVIndex(t[e],n))}};return e.startObject("",!1),e}class g extends n.aNw{constructor(e){super(e),this.materials=null}load(e,t,r,i){const a=this,o=new n.hH6(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,(function(r){try{t(a.parse(r))}catch(t){i?i(t):console.error(t),a.manager.itemError(e)}}),r,i)}setMaterials(e){return this.materials=e,this}parse(e){const t=new v;-1!==e.indexOf("\r\n")&&(e=e.replace(/\r\n/g,"\n")),-1!==e.indexOf("\\\n")&&(e=e.replace(/\\\n/g,""));const r=e.split("\n");let l=[];for(let e=0,c=r.length;e<c;e++){const c=r[e].trimStart();if(0===c.length)continue;const f=c.charAt(0);if("#"!==f)if("v"===f){const e=c.split(u);switch(e[0]){case"v":t.vertices.push(parseFloat(e[1]),parseFloat(e[2]),parseFloat(e[3])),e.length>=7?(p.setRGB(parseFloat(e[4]),parseFloat(e[5]),parseFloat(e[6]),n.KI_),t.colors.push(p.r,p.g,p.b)):t.colors.push(void 0,void 0,void 0);break;case"vn":t.normals.push(parseFloat(e[1]),parseFloat(e[2]),parseFloat(e[3]));break;case"vt":t.uvs.push(parseFloat(e[1]),parseFloat(e[2]))}}else if("f"===f){const e=c.slice(1).trim().split(u),r=[];for(let t=0,n=e.length;t<n;t++){const n=e[t];if(n.length>0){const e=n.split("/");r.push(e)}}const n=r[0];for(let e=1,i=r.length-1;e<i;e++){const i=r[e],a=r[e+1];t.addFace(n[0],i[0],a[0],n[1],i[1],a[1],n[2],i[2],a[2])}}else if("l"===f){const e=c.substring(1).trim().split(" ");let r=[];const n=[];if(-1===c.indexOf("/"))r=e;else for(let t=0,i=e.length;t<i;t++){const i=e[t].split("/");""!==i[0]&&r.push(i[0]),""!==i[1]&&n.push(i[1])}t.addLineGeometry(r,n)}else if("p"===f){const e=c.slice(1).trim().split(" ");t.addPointGeometry(e)}else if(null!==(l=i.exec(c))){const e=(" "+l[0].slice(1).trim()).slice(1);t.startObject(e)}else if(o.test(c))t.object.startMaterial(c.substring(7).trim(),t.materialLibraries);else if(a.test(c))t.materialLibraries.push(c.substring(7).trim());else if(s.test(c))console.warn('THREE.OBJLoader: Rendering identifier "usemap" not supported. Textures must be defined in MTL files.');else if("s"===f){if(l=c.split(" "),l.length>1){const e=l[1].trim().toLowerCase();t.object.smooth="0"!==e&&"off"!==e}else t.object.smooth=!0;const e=t.object.currentMaterial();e&&(e.smooth=t.object.smooth)}else{if("\0"===c)continue;console.warn('THREE.OBJLoader: Unexpected line: "'+c+'"')}}t.finalize();const c=new n.ZAu;c.materialLibraries=[].concat(t.materialLibraries);if(!0===!(1===t.objects.length&&0===t.objects[0].geometry.vertices.length))for(let e=0,r=t.objects.length;e<r;e++){const r=t.objects[e],i=r.geometry,a=r.materials,o="Line"===i.type,s="Points"===i.type;let u=!1;if(0===i.vertices.length)continue;const l=new n.u9r;l.setAttribute("position",new n.a$l(i.vertices,3)),i.normals.length>0&&l.setAttribute("normal",new n.a$l(i.normals,3)),i.colors.length>0&&(u=!0,l.setAttribute("color",new n.a$l(i.colors,3))),!0===i.hasUVIndices&&l.setAttribute("uv",new n.a$l(i.uvs,2));const f=[];for(let e=0,r=a.length;e<r;e++){const r=a[e],i=r.name+"_"+r.smooth+"_"+u;let l=t.materials[i];if(null!==this.materials)if(l=this.materials.create(r.name),!o||!l||l instanceof n.nls){if(s&&l&&!(l instanceof n.UY4)){const e=new n.UY4({size:10,sizeAttenuation:!1});n.F5T.prototype.copy.call(e,l),e.color.copy(l.color),e.map=l.map,l=e}}else{const e=new n.nls;n.F5T.prototype.copy.call(e,l),e.color.copy(l.color),l=e}void 0===l&&(l=o?new n.nls:s?new n.UY4({size:1,sizeAttenuation:!1}):new n.xoR,l.name=r.name,l.flatShading=!r.smooth,l.vertexColors=u,t.materials[i]=l),f.push(l)}let h;if(f.length>1){for(let e=0,t=a.length;e<t;e++){const t=a[e];l.addGroup(t.groupStart,t.groupCount,e)}h=o?new n.ejS(l,f):s?new n.woe(l,f):new n.Kj0(l,f)}else h=o?new n.ejS(l,f[0]):s?new n.woe(l,f[0]):new n.Kj0(l,f[0]);h.name=r.name,c.add(h)}else if(t.vertices.length>0){const e=new n.UY4({size:1,sizeAttenuation:!1}),r=new n.u9r;r.setAttribute("position",new n.a$l(t.vertices,3)),t.colors.length>0&&void 0!==t.colors[0]&&(r.setAttribute("color",new n.a$l(t.colors,3)),e.vertexColors=!0);const i=new n.woe(r,e);c.add(i)}return c}}}}]);